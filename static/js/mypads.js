(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
(function(){var i=require("./frontend/js/configuration.js"),n=require("./frontend/js/route.js");i.init(n.init)}).call(this);
},{"./frontend/js/configuration.js":3,"./frontend/js/route.js":41}],2:[function(require,module,exports){
module.exports=function(){var n=require("mithril"),t={};return t.admToken=function(){return localStorage.getItem("admToken")},t.isAdmin=function(){return!!t.admToken()},t.userInfo=n.prop(),t.token=function(){return localStorage.getItem("token")},t.isAuthenticated=function(){return!!t.token()},t.fn={},t.fn.xhrConfig=function(n){n.setRequestHeader("Authorization","JWT "+t.token())},t}.call(this);
},{"mithril":50}],3:[function(require,module,exports){
module.exports=function(){var n=require("mithril"),e=require("lodash"),t=require("./auth.js"),S={};S.URLS={RAWBASE:window.location.pathname.replace(new RegExp("index.html"),"")},S.URLS.BASE=S.URLS.RAWBASE+"api",S.URLS.CONF=S.URLS.BASE+"/configuration",S.URLS.AUTH=S.URLS.BASE+"/auth",S.URLS.LOGIN=S.URLS.AUTH+"/login",S.URLS.LOGOUT=S.URLS.AUTH+"/logout",S.URLS.CHECK=S.URLS.AUTH+"/check",S.URLS.USER=S.URLS.BASE+"/user",S.URLS.ALL_USERS=S.URLS.BASE+"/all-users",S.URLS.USERMARK=S.URLS.USER+"mark",S.URLS.GROUP=S.URLS.BASE+"/group",S.URLS.PAD=S.URLS.BASE+"/pad",S.URLS.USERLIST=S.URLS.BASE+"/userlist",S.URLS.PASSRECOVER=S.URLS.BASE+"/passrecover",S.URLS.ACCOUNT_CONFIRMATION=S.URLS.BASE+"/accountconfirm",S.URLS.CACHECHECK=S.URLS.BASE+"/cache/check",S.SERVER=n.prop();return S.USERLANG="en",S.LANG=require("../../static/l10n/en.json"),S.updateLang=function(e){n.request({method:"GET",url:S.URLS.RAWBASE+"l10n/"+e+".json"}).then(function(n){S.USERLANG=e,S.LANG=n},function(n){console.log("updatel:"+n),S.USERLANG="en";var e=S.LANG.BACKEND.CONFIGURATION.LANG_PROBLEM+" ("+n+")";(0,require("./widgets/notification.js").error)({body:e})})},S.unauthUrl=function(){var n="";return function(e){return e&&(n=window.location.toString()),n}}(),S.init=function(o){n.request({method:"GET",url:S.URLS.CONF,data:t.isAuthenticated()?{auth_token:t.token()}:void 0}).then(function(n){S.SERVER=n.value,!n.auth&&t.isAuthenticated()&&localStorage.removeItem("token"),t.userInfo(n.user);var R=window.navigator.userLanguage||window.navigator.language;R=e.find(e.keys(S.SERVER.languages),function(n){return e.startsWith(R,n)}),R&&"en"!==R&&S.updateLang(R),o()},function(n){console.log("confinit:"+n);var e=S.LANG.BACKEND.CONFIGURATION.CANTGET+" ("+n+")";(0,require("./widgets/notification.js").error)({body:e})})},S}.call(this);
},{"../../static/l10n/en.json":51,"./auth.js":2,"./widgets/notification.js":42,"lodash":49,"mithril":50}],4:[function(require,module,exports){
module.exports=function(){var e={},n=new RegExp("<","g"),r=new RegExp(">","g");return e.cleanup=function(e){return e.replace(n,"&lt;").replace(r,"&gt;")},e}.call(this);
},{}],5:[function(require,module,exports){
module.exports=function(){var e=require("js-cookie"),a=require("../configuration.js"),t={};return t.autoExpand=function(e,a){a||t.wantExpandedPad()&&t.expandIframe()},t.wantExpandedPad=function(){var a=e.get("wantExpandedPad");return"string"==typeof a&&"true"===a},t.isExpanded=function(){return document.querySelector("a.expand-toggle").className.indexOf("expanded")>-1},t.expandIframe=function(){var t=document.querySelector("section.pad iframe"),n=document.querySelector("a.expand-toggle i"),d=document.querySelector("a.expand-toggle");t&&(t.style.height="80vh"),n&&(n.classList.remove("glyphicon-resize-full"),n.classList.add("glyphicon-resize-small")),d&&(d.classList.add("expanded"),d.title=a.LANG.GROUP.PAD.REDUCE),e.set("wantExpandedPad","true",{expires:365,path:a.URLS.RAWBASE})},t.reduceIframe=function(t){void 0===t&&(t=!0);var n=document.querySelector("section.pad iframe"),d=document.querySelector("a.expand-toggle i"),r=document.querySelector("a.expand-toggle");n&&(n.style.height=null),d&&(d.classList.remove("glyphicon-resize-small"),d.classList.add("glyphicon-resize-full")),r&&(r.classList.remove("expanded"),r.title=a.LANG.GROUP.PAD.EXPAND),t&&e.set("wantExpandedPad","false",{expires:365,path:a.URLS.RAWBASE})},t}.call(this);
},{"../configuration.js":3,"js-cookie":48}],6:[function(require,module,exports){
module.exports=function(){var e={};return e.filterKeyword=function(e){var t;if(void 0===e||""===e)t=document.querySelectorAll("li.list-group-item.group-pad-item"),[].forEach.call(t,function(e){e.classList.remove("hidden")});else{var i=new RegExp(e,"i");t=document.querySelectorAll("li.list-group-item.group-pad-item"),[].forEach.call(t,function(e){e.getAttribute("data-padname").match(i)?e.classList.remove("hidden"):e.classList.add("hidden")})}},e}.call(this);
},{}],7:[function(require,module,exports){
module.exports=function(){var i=require("mithril"),t={};return t.icon=function(t,n,a,l){var e="glyphicon mp-tooltip glyphicon-";e+=t.valid[n]()?"info-sign":"exclamation-sign";var o=t.valid[n]()?a:l;return i("i",{class:e,"data-msg":o})},t.field=function(n,a,l,e){return{label:i("label",{for:a},[l,e]),input:i("input.form-control",{name:a,value:n.data[a]()||"",oninput:t.handleField.bind(null,n)}),icon:e}},t.initFields=function(t,n){t.data={},t.valid={},n.forEach(function(n){t.data[n]=i.prop(),t.valid[n]=i.prop(!0)})},t.handleField=function(i,t,n){n||(n=t,t=void 0);var a=n.target.getAttribute("name");i.data[a](n.target.value),i.valid[a](function(){return t?n.target.checkValidity()&&t(i,n):n.target.checkValidity()}())},t.focusOnInit=function(i,t){t||i.focus()},t}.call(this);
},{"mithril":50}],8:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),o=require("../configuration.js"),n={};n.checkLoop=function(r,i){i||(n.inFrame(r,i),e.request({method:"GET",url:o.URLS.CACHECHECK}).then(function(e){if(e.userCacheReady){var o=document.getElementById("hide-when-ready").classList,r=document.querySelectorAll(".show-when-ready");return o.add("hidden"),[].forEach.call(r,function(e){e.classList.remove("hidden")}),"user cache ready"}setTimeout(function(){return n.checkLoop()},500)},function(e){console.log("user cache check loop:"+e);var r=o.LANG.BACKEND.CONFIGURATION.LANG_PROBLEM+" ("+e+")";(0,require("../widgets/notification.js").error)({body:r}),e&&setTimeout(function(){return n.checkLoop()},500)}))};var r=new RegExp("/mypads");return n.inFrame=function(e,o){if(!o){var n=location.href;window.displaymode=n,!window.parent.location.href.match(r)||void 0!==window.parent.displaymode&&window.parent.displaymode===n||window.parent.location.reload()}},n}.call(this);
},{"../configuration.js":3,"../widgets/notification.js":42,"mithril":50}],9:[function(require,module,exports){
module.exports=function(){var r=require("../configuration.js"),e=require("js-cookie"),i={},n={padByField:"ctime",padAsc:!0,groupByField:"ctime",groupAsc:!0};return i.init=function(){var r=e.get("sortingPreferences");if(r)try{var i=JSON.parse(r);for(var t in i)n.hasOwnProperty(t)&&(n[t]=i[t])}catch(r){}},i.updateValues=function(i){for(var t in i)n.hasOwnProperty(t)&&(n[t]=i[t]);e.set("sortingPreferences",JSON.stringify(n),{expires:365,path:r.URLS.RAWBASE})},i.padByField=function(){return n.padByField},i.padAsc=function(){return n.padAsc},i.groupByField=function(){return n.groupByField},i.groupAsc=function(){return n.groupAsc},i.init(),i}.call(this);
},{"../configuration.js":3,"js-cookie":48}],10:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),u=require("../configuration.js"),t=require("../auth.js"),o=require("../widgets/notification.js"),a=require("js-base64").Base64.encode,s={};return s.init=function(){e.assign(s,{groups:r.prop({}),pads:r.prop({}),users:r.prop([]),admins:r.prop([]),tags:r.prop([]),bookmarks:r.prop({groups:r.prop({}),pads:r.prop({})}),tmp:r.prop({groups:r.prop({}),pads:r.prop({})})})},s.init(),s.fetch=function(a){var n=function(r){o.error({body:e.result(u.LANG,r.error)}),a&&a(r)},p=t.isAuthenticated(),i=p?{auth_token:t.token()}:void 0;r.request({url:u.URLS.GROUP,method:"GET",data:i}).then(function(o){s.groups(o.value.groups),s.pads(o.value.pads),s.bookmarks(o.value.bookmarks);var p=t.userInfo();o.value.users[p._id]=p,s.users(o.value.users);var d=e(o.value.groups).values().pluck("tags").flatten().union().value();s.tags(d),r.request({url:u.URLS.USERLIST,method:"GET",data:i}).then(function(r){p.userlists=r.value,t.userInfo(p),a&&a(null,r)},n)},n)},s.fetchObject=function(n,p,i){var d=function(r){o.error({body:e.result(u.LANG,r.error)}),i&&i(r)},l=function(e){var o={url:u.URLS.PAD+"/"+n.pad+"?",method:"GET"};p&&(o.url+="&password="+a(p)),t.isAuthenticated()&&(o.url+="&auth_token="+t.token()),r.request(o).then(function(r){var e=s.tmp(),u=e.pads();u[r.key]=r.value,e.pads(u),s.tmp(e),i&&i(null,r)},function(r){if("BACKEND.ERROR.TYPE.PASSWORD_MISSING"===r.error){var u={_id:n.pad,visibility:"private"},t=s.tmp(),o=t.pads();return o[n.pad]=u,t.pads(o),s.tmp(t),i(null,{key:n.pad,value:u})}return"BACKEND.ERROR.PERMISSION.UNAUTHORIZED"===r.error||"BACKEND.ERROR.CONFIGURATION.KEY_NOT_FOUND"===r.error?d(r):e?i(null,e):void d(r)})};!function(){var o={url:u.URLS.GROUP+"/"+n.group+"?",method:"GET"};p&&(o.url+="&password="+a(p)),t.isAuthenticated()&&(o.url+="&auth_token="+t.token()),r.request(o).then(function(r){var u=s.tmp(),t=u.groups();t[r.key]=r.value,u.groups(t),u.pads(e.merge(u.pads(),r.pads)),s.tmp(u),!n.pad||e.includes(r.pads,n.pad)?i&&i(null,r):l(r)},function(r){if(n.pad)return l();d(r)})}()},s}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../widgets/notification.js":42,"js-base64":47,"lodash":49,"mithril":50}],11:[function(require,module,exports){
module.exports=function(){var r=require("mithril"),e=require("lodash"),o=require("../configuration.js"),t=require("../widgets/notification.js"),i={};return i.controller=function(){var i=r.route.param("token");r.request({url:o.URLS.ACCOUNT_CONFIRMATION,method:"POST",data:{token:i}}).then(function(){r.route("/login"),t.success({body:o.LANG.USER.INFO.ACCOUNT_CONFIRMATION_SUCCESS})},function(i){r.route("/login"),t.error({body:e.result(o.LANG,i.error)})})},i.view=function(){},i}.call(this);
},{"../configuration.js":3,"../widgets/notification.js":42,"lodash":49,"mithril":50}],12:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("lodash"),t=require("../configuration.js"),o=require("../auth.js"),u=require("../widgets/notification.js"),i={};return i.controller=function(){e.request({url:t.URLS.AUTH+"/admin/logout",method:"GET",data:{auth_token:o.admToken()}}).then(function(){document.title=t.SERVER.title,localStorage.removeItem("admToken"),u.success({body:t.LANG.USER.AUTH.SUCCESS_OUT}),e.route("/")},function(o){u.error({body:r.result(t.LANG,o.error)}),e.route("/")})},i}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../widgets/notification.js":42,"lodash":49,"mithril":50}],13:[function(require,module,exports){
module.exports=function(){var r=require("mithril"),e=require("lodash"),i=require("../configuration.js"),t=require("../auth.js"),n=require("../widgets/notification.js"),o=require("./layout.js"),a=require("../helpers/form.js"),s=require("./subscribe.js"),u={};u.controller=function(){if(!t.isAdmin())return r.route("/admin");document.title=i.LANG.ADMIN.FORM_USER_EDIT+" - "+i.SERVER.title;var o={adminView:r.prop(!0),profileView:r.prop(!1),user:r.prop(!1)},s=function(){o.fields=["login","password","passwordConfirm","email","firstname","lastname","organization","lang","color"],a.initFields(o,o.fields);var i=o.user();e.forEach(o.fields,function(t){e.startsWith(t,"password")||(o.data[t]=r.prop(i[t]))})},u=function(t){return r.route("/admin/users"),n.error({body:e.result(i.LANG,t.error)})};return o.submit={profileSave:function(a){a.preventDefault();var s=o.data.password();if(s&&s!==o.data.passwordConfirm())return n.warning({body:i.LANG.USER.ERR.PASSWORD_MISMATCH});r.request({method:"PUT",url:i.URLS.USER+"/"+o.data.login(),data:e.assign(o.data,{auth_token:t.admToken()})}).then(function(r){t.userInfo(r.value),n.success({body:i.LANG.USER.AUTH.PROFILE_SUCCESS})},u)}},r.request({method:"GET",url:i.URLS.USER+"/"+r.route.param("login"),data:{auth_token:t.admToken()}}).then(function(r){o.user(r.value),s()},u),o};var l={};return l.main=function(e){var t=[r("h2",i.LANG.ADMIN.FORM_USER_EDIT+" "+e.user().login),s.views.form(e)];return r("section",{class:"user"},t)},l.aside=function(){return r("section.user-aside",[r("h2",i.LANG.ACTIONS.HELP),r("article.well",r.trust(i.LANG.ADMIN.HELP_USER_EDIT))])},u.view=function(r){return o.view(l.main(r),l.aside())},u}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../widgets/notification.js":42,"./layout.js":24,"./subscribe.js":35,"lodash":49,"mithril":50}],14:[function(require,module,exports){
module.exports=function(){var r=require("mithril"),e=require("lodash"),i=require("../configuration.js"),o=require("../auth.js"),t=require("../widgets/notification.js"),n={};return n.controller=function(){if(!o.isAdmin())return r.route("/admin");var n=r.route.param("login");r.route("/admin/users"),window.confirm(i.LANG.ADMIN.INFO.USER_REMOVE_SURE)&&r.request({method:"DELETE",url:i.URLS.USER+"/"+n,data:{auth_token:o.admToken()}}).then(function(){t.success({body:i.LANG.USER.INFO.REMOVE_ACCOUNT_SUCCESS})},function(r){t.error({body:e.result(i.LANG,r.error)})})},n}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../widgets/notification.js":42,"lodash":49,"mithril":50}],15:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("lodash"),n=require("../configuration.js"),i=require("../auth.js"),t=require("../widgets/notification.js"),o=require("./layout.js"),s=require("./user.js"),u=require("../helpers/form.js"),a={};a.controller=function(){if(!i.isAdmin())return e.route("/admin");document.title=n.LANG.ADMIN.FORM_USERS_SEARCH+" - "+n.SERVER.title;var o={user:e.prop(null),users:e.prop(!1),usersCount:e.prop(!1)};return o.fields=["login"],u.initFields(o,o.fields),o.search=function(s){s.preventDefault(),o.users(!1),o.usersCount(!1),e.request({method:"GET",url:n.URLS.USER+"/"+o.data.login(),data:{auth_token:i.admToken()}}).then(function(e){o.user(e.value),t.info({body:n.LANG.ADMIN.INFO.USER_FOUND})},function(e){o.user(!1),t.error({body:r.result(n.LANG,e.error)})})},o.loadAllUsers=function(s){s.preventDefault(),o.user(null),o.data.login(null),e.request({method:"GET",url:n.URLS.ALL_USERS,data:{auth_token:i.admToken()}}).then(function(e){o.users(e.users),o.usersCount(e.usersCount),t.info({body:n.LANG.ADMIN.INFO.USER_FOUND})},function(e){o.users(!1),o.usersCount(!1),t.error({body:r.result(n.LANG,e.error)})})},o};var l={};return l.form=function(r){var i=s.view.field.login(r);return i.input.attrs.config=u.focusOnInit,i.icon.attrs["data-msg"]=n.LANG.ADMIN.INFO.USERS_SEARCH_LOGIN,e("form.block",{id:"users-form",onsubmit:r.search},[e("fieldset.block-group",[e("legend",n.LANG.ADMIN.USERS_SEARCH_LOGIN),e("div.form-group",[i.label,i.input])]),l.user(r),l.users(r),e("input.block.send",{form:"users-form",type:"submit",class:"btn btn-default",value:n.LANG.ADMIN.FIELD.SEARCH}),e("span"," "),e("button.btn.btn-info",{onclick:r.loadAllUsers},n.LANG.ADMIN.FIELD.SHOW_ALL_USERS)])},l.user=function(r){var i=r.user();if(null!==i){if(i){var t=[e("a",{href:"/admin/users/"+i.login+"/edit",config:e.route,title:n.LANG.GROUP.EDIT},[e("i.glyphicon glyphicon-pencil")]),e("a",{href:"/admin/users/"+i.login+"/remove",config:e.route,title:n.LANG.GROUP.REMOVE},[e("i.glyphicon glyphicon-trash")])],o=i.login;return i.firstname&&(o=[o,"(",i.firstname,i.lastname,") "].join(" ")),e("ul.admin-users",[e("li.block-group",[e("span.block.name",o),e("span.block.actions",t)])])}return e("p.admin-users",n.LANG.ADMIN.INFO.USER_NONE)}},l.users=function(i){var t=i.users();if(t){var o=[];return r.forEach(r.sortBy(r.keys(t)),function(r){var i=t[r],s=[e("a",{href:"/admin/users/"+r+"/edit",config:e.route,title:n.LANG.GROUP.EDIT},[e("i.glyphicon glyphicon-pencil")]),e("a",{href:"/admin/users/"+r+"/remove",config:e.route,title:n.LANG.GROUP.REMOVE},[e("i.glyphicon glyphicon-trash")])],u=r;(i.firstname||i.lastname)&&(u=[u,"(",i.firstname,i.lastname," - ",i.email,") "].join(" ")),o.push(e("li.block-group",[e("span.block.name",u),e("span.block.actions",s)]))}),e("div",[e("b",[n.LANG.ADMIN.USERS_COUNT+" ",i.usersCount()]),e("ul.admin-users",o)])}},l.main=function(r){var i=[e("h2.block",n.LANG.ADMIN.FORM_USERS_SEARCH),l.form(r)];return e("section",{class:"block-group user admin"},i)},l.aside=function(){return e("section.user-aside",[e("h2",n.LANG.ACTIONS.HELP),e("article",e.trust(n.LANG.ADMIN.HELP_USERS))])},a.view=function(e){return o.view(l.main(e),l.aside(e))},a}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../widgets/notification.js":42,"./layout.js":24,"./user.js":37,"lodash":49,"mithril":50}],16:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),t=require("lodash"),a=require("../configuration.js"),n=require("../auth.js"),r=require("../widgets/notification.js"),i=require("./layout.js"),o=require("./user.js"),s=require("../helpers/form.js"),c={};c.controller=function(){document.title=a.LANG.ADMIN.FORM_LOGIN+" - "+a.SERVER.title;var i={};localStorage.removeItem("token"),s.initFields(i,["login","password"]);var o=function(o){o&&localStorage.setItem("admToken",o.token),e.request({url:a.URLS.CONF,method:"GET",data:{auth_token:n.admToken()}}).then(function(n){if(!n.auth)return localStorage.removeItem("admToken");if(s.initFields(i,["title","rootUrl","allowEtherPads","passwordMin","passwordMax","defaultLanguage","checkMails","tokenDuration","SMTPHost","SMTPPort","SMTPSSL","SMTPTLS","SMTPUser","SMTPPass","SMTPEmailFrom","HTMLExtraHead","openRegistration","hideHelpBlocks","useFirstLastNameInPads","insensitiveMailMatch"]),i.currentConf=n.value,t.forIn(n.value,function(t,a){i.data[a]=e.prop(t)}),0===i.data.rootUrl().length){var o=window.location;i.data.rootUrl(o.protocol+"//"+o.host)}var c=function(e){return e=e||0,function(t){return void 0!==t&&(e=parseInt(t,10)),e}};i.data.passwordMin=c(i.data.passwordMin()),i.data.passwordMax=c(i.data.passwordMax()),i.data.passwordMin.toJSON=function(){return i.data.passwordMin()},i.data.passwordMax.toJSON=function(){return i.data.passwordMax()},document.title=a.LANG.ADMIN.FORM_SETTINGS+" - "+a.SERVER.title,r.success({body:a.LANG.USER.AUTH.SUCCESS})},function(e){r.error({body:t.result(a.LANG,e.error)})})};return n.isAdmin()&&o(),i.login=function(n){n.preventDefault(),e.request({url:a.URLS.AUTH+"/admin/login",method:"POST",data:i.data}).then(o,function(e){r.error({body:t.result(a.LANG,e.error)})})},i.submit=function(o){if(o.preventDefault(),i.data.passwordMin()>i.data.passwordMax())r.warning({body:a.LANG.ADMIN.ERR.PASSWORD_SIZE}),document.querySelector('input[name="passwordMin"]').focus();else{var s=t.reduce(i.data,function(e,t,a){return t()!==i.currentConf[a]&&(e[a]=t),e},{}),c=t.pairs(s),l=function(o){e.request({method:"PUT",url:a.URLS.CONF+"/"+o[0],data:{value:o[1](),auth_token:n.admToken()}}).then(function(e){c.length>0?l(c.pop()):(i.currentConf[e.key]=e.value,a.SERVER[e.key]=e.value,r.success({body:a.LANG.ADMIN.INFO.SUCCESS}))},function(e){r.error({body:t.result(a.LANG,e.error)})})};c.length>0?l(c.pop()):r.info({body:a.LANG.ADMIN.INFO.NOCHANGE})}},i};var l={};return l.form=function(t){var n=o.view.field.login(t);n.input.attrs.config=s.focusOnInit,n.icon.attrs["data-msg"]=a.LANG.ADMIN.INFO.LOGIN;var r=o.view.field.password(t);return r.icon.attrs["data-msg"]=a.LANG.USER.PASSWORD,delete r.input.attrs.pattern,delete r.input.attrs.minlength,delete r.input.attrs.maxlength,n.label.attrs.class="col-sm-4",r.label.attrs.class="col-sm-4",e("form.form-horizontal.col-sm-8.col-sm-offset-2.well",{id:"login-form",onsubmit:t.login},[e("fieldset",[e("legend",a.LANG.ADMIN.ETHERPAD_ACCOUNT),e(".form-group",[n.label,e(".col-sm-7",n.input)]),e(".form-group",[r.label,e(".col-sm-7",r.input)]),e("input.btn.btn-success.pull-right",{form:"login-form",type:"submit",value:a.LANG.USER.LOGIN})])])},l.settings=function(n){var r=a.LANG.ADMIN,i={title:function(){var e=s.icon(n,"title",r.INFO.TITLE,r.ERR.TITLE),a=s.field(n,"title",r.FIELD.TITLE,e);return t.assign(a.input.attrs,{required:!0}),a}(),rootUrl:function(){var e=s.icon(n,"rootUrl",r.INFO.ROOTURL,r.ERR.ROOTURL),a=s.field(n,"rootUrl",r.FIELD.ROOTURL,e);return t.assign(a.input.attrs,{type:"url"}),a}(),HTMLExtraHead:function(){return{label:e("label",{for:"HTMLExtraHead"},a.LANG.ADMIN.FIELD.HTMLEXTRA_HEAD),icon:e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":a.LANG.ADMIN.INFO.HTMLEXTRA_HEAD}),textarea:e("textarea.form-control",{name:"HTMLExtraHead",value:n.data.HTMLExtraHead(),onchange:e.withAttr("value",n.data.HTMLExtraHead)},n.data.HTMLExtraHead())}}(),passwordMin:function(){var e=s.icon(n,"passwordMin",r.INFO.PASSWORD_MIN,r.ERR.PASSWORD_MIN),a=s.field(n,"passwordMin",r.FIELD.PASSWORD_MIN,e);return t.assign(a.input.attrs,{type:"number",min:"1",required:!0}),a}(),passwordMax:function(){var e=s.icon(n,"passwordMax",r.INFO.PASSWORD_MAX,r.ERR.PASSWORD_MAX),a=s.field(n,"passwordMax",r.FIELD.PASSWORD_MAX,e);return t.assign(a.input.attrs,{type:"number",min:"1",required:!0}),a}(),defaultLanguage:function(){var r=e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":a.LANG.ADMIN.INFO.LANGUAGE_DEFAULT});return{label:e("label",{for:"defaultLanguage"},[a.LANG.ADMIN.FIELD.LANGUAGE_DEFAULT,r]),icon:r,select:e("select.form-control",{name:"defaultLanguage",required:!0,value:n.data.defaultLanguage(),onchange:e.withAttr("value",n.data.defaultLanguage)},t.reduce(a.SERVER.languages,function(t,a,n){return t.push(e("option",{value:n},a)),t},[]))}}(),allowEtherPads:function(){var a=s.icon(n,"allowEtherPads",r.INFO.ALLOW_ETHERPADS),i={name:"allowEtherPads"};n.data.allowEtherPads&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.allowEtherPads(),onchange:e.withAttr("checked",n.data.allowEtherPads)}),e("label",[o,r.FIELD.ALLOW_ETHERPADS,a])}(),hideHelpBlocks:function(){var a=s.icon(n,"hideHelpBlocks",r.INFO.HIDE_HELP_BLOCKS),i={name:"hideHelpBlocks"};n.data.hideHelpBlocks&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.hideHelpBlocks(),onchange:e.withAttr("checked",n.data.hideHelpBlocks)}),e("label",[o,r.FIELD.HIDE_HELP_BLOCKS,a])}(),useFirstLastNameInPads:function(){var a=s.icon(n,"useFirstLastNameInPads",r.INFO.USE_FIRST_AND_LAST_NAME_IN_PADS),i={name:"useFirstLastNameInPads"};n.data.useFirstLastNameInPads&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.useFirstLastNameInPads(),onchange:e.withAttr("checked",n.data.useFirstLastNameInPads)}),e("label",[o,r.FIELD.USE_FIRST_AND_LAST_NAME_IN_PADS,a])}(),insensitiveMailMatch:function(){var a=s.icon(n,"insensitiveMailMatch",r.INFO.INSENSITIVE_MAIL_MATCH),i={name:"insensitiveMailMatch"};n.data.insensitiveMailMatch&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.insensitiveMailMatch(),onchange:e.withAttr("checked",n.data.insensitiveMailMatch)}),e("label",[o,r.FIELD.INSENSITIVE_MAIL_MATCH,a])}(),openRegistration:function(){var a=s.icon(n,"openRegistration",r.INFO.OPEN_REGISTRATION),i={name:"openRegistration"};n.data.openRegistration&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.openRegistration(),onchange:e.withAttr("checked",n.data.openRegistration)}),e("label",[o,r.FIELD.OPEN_REGISTRATION,a])}(),checkMails:function(){var a=s.icon(n,"checkMails",r.INFO.CHECKMAILS),i={name:"checkMails"};n.data.checkMails&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.checkMails(),onchange:e.withAttr("checked",n.data.checkMails)}),e("label",[o,r.FIELD.CHECKMAILS,a])}(),tokenDuration:function(){var e=s.icon(n,"tokenDuration",r.INFO.TOKEN_DURATION),a=s.field(n,"tokenDuration",r.FIELD.TOKEN_DURATION,e);return t.assign(a.label.attrs,{style:"clear: left;"}),t.assign(a.input.attrs,{type:"number"}),a}(),SMTPHost:function(){var e=s.icon(n,"SMTPHost",r.INFO.SMTP_HOST);return s.field(n,"SMTPHost",r.FIELD.SMTP_HOST,e)}(),SMTPPort:function(){var e=s.icon(n,"SMTPPort",r.INFO.SMTP_PORT),a=s.field(n,"SMTPPort",r.FIELD.SMTP_PORT,e);return t.assign(a.input.attrs,{type:"number",min:1}),a}(),SMTPSSL:function(){var a=s.icon(n,"SMTPSSL",r.INFO.SMTP_SSL),i={name:"SMTPSSL"};n.data.SMTPSSL&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.SMTPSSL(),onchange:e.withAttr("checked",n.data.SMTPSSL)}),e("label",[o,r.FIELD.SMTP_SSL,a])}(),SMTPTLS:function(){var a=s.icon(n,"SMTPTLS",r.INFO.SMTP_TLS),i={name:"SMTPTLS"};n.data.SMTPTLS&&(i.checked="checked");var o=e('input[type="checkbox"]',i);return t.assign(o.attrs,{type:"checkbox",checked:n.data.SMTPTLS(),onchange:e.withAttr("checked",n.data.SMTPTLS)}),e("label",[o,r.FIELD.SMTP_TLS,a])}(),SMTPUser:function(){var e=s.icon(n,"SMTPUser",r.INFO.SMTP_USER),a=s.field(n,"SMTPUser",r.FIELD.SMTP_USER,e);return t.assign(a.label.attrs,{style:"clear: left;"}),a}(),SMTPPass:function(){var e=s.icon(n,"SMTPPass",r.INFO.SMTP_PASS),a=s.field(n,"SMTPPass",r.FIELD.SMTP_PASS,e);return t.assign(a.input.attrs,{type:"password"}),a}(),SMTPEmailFrom:function(){var e=s.icon(n,"SMTPEmailFrom",r.INFO.SMTP_EMAILFROM,r.ERR.SMTP_EMAILFROM),a=s.field(n,"SMTPEmailFrom",r.FIELD.SMTP_EMAILFROM,e);return t.assign(a.input.attrs,{type:"email"}),a}()};return e("form",{id:"settings-form",onsubmit:n.submit},[e("fieldset",[e("legend",a.LANG.ADMIN.SETTINGS_GENERAL),e("div",[e("div.form-group",[i.title.label,i.title.input]),e("div.form-group",[i.rootUrl.label,i.rootUrl.input]),e("div.form-group",[i.defaultLanguage.label,i.defaultLanguage.select]),e("div.checkbox",[i.allowEtherPads]),e("div.checkbox",[i.openRegistration]),e("div.checkbox",[i.hideHelpBlocks]),e("div.checkbox",[i.useFirstLastNameInPads]),e("div.checkbox",[i.insensitiveMailMatch]),e("div.form-group",[i.HTMLExtraHead.label,i.HTMLExtraHead.icon,i.HTMLExtraHead.textarea])])]),e("fieldset",[e("legend",a.LANG.ADMIN.SETTINGS_PASSWORD),e("div",[e("div.form-group",[i.passwordMin.label,i.passwordMin.input]),e("div.form-group",[i.passwordMax.label,i.passwordMax.input])])]),e("fieldset",[e("legend",a.LANG.ADMIN.SETTINGS_MAIL),e("div",[e("div.checkbox",[i.checkMails]),e("div.form-group",[i.tokenDuration.label,i.tokenDuration.input]),e("div.form-group",[i.SMTPHost.label,i.SMTPHost.input]),e("div.form-group",[i.SMTPPort.label,i.SMTPPort.input]),e("div.checkbox",[i.SMTPSSL]),e("div.checkbox",[i.SMTPTLS]),e("div.form-group",[i.SMTPUser.label,i.SMTPUser.input]),e("div.form-group",[i.SMTPPass.label,i.SMTPPass.input]),e("div.form-group",[i.SMTPEmailFrom.label,i.SMTPEmailFrom.input])])]),e("input.btn.btn-success",{form:"settings-form",type:"submit",value:a.LANG.ADMIN.FIELD.APPLY})])},l.main=function(t){var r=function(){return n.isAdmin()?[e("h2",a.LANG.ADMIN.FORM_SETTINGS),l.settings(t)]:[e("h2",a.LANG.ADMIN.FORM_LOGIN),l.form(t)]}();return e("section",{class:"block-group user admin"},r)},l.aside=function(){var t=n.isAdmin()?"HELP_SETTINGS":"HELP_LOGIN";return e("section.user-aside",[e("h2",a.LANG.ACTIONS.HELP),e("article.well",e.trust(a.LANG.ADMIN[t]))])},c.view=function(e){return i.view(l.main(e),l.aside(e))},c}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../widgets/notification.js":42,"./layout.js":24,"./user.js":37,"lodash":49,"mithril":50}],17:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),t=require("../configuration.js"),o=require("../auth.js"),i=o.userInfo,n=require("./layout.js"),u=require("./group-mark.js"),a=require("./pad-mark.js"),s=require("../model/group.js"),p={};p.controller=function(){if(!o.isAuthenticated())return t.unauthUrl(!0),r.route("/login");document.title=t.LANG.BOOKMARK.TITLE+" - "+t.SERVER.title;var n={};return n.computeBookmarks=function(){var r=i().bookmarks,t=function(r,t){return e(r).values().filter(function(r){return e.includes(t,r._id)}).sortBy("name").value()};n.bookmarks={groups:t(s.bookmarks().groups,r.groups),pads:t(s.bookmarks().pads,r.pads)}},n.unmark=function(r,e){("groups"===e?u:a)(r,n.computeBookmarks)},e.isEmpty(s.groups())?s.fetch(n.computeBookmarks):n.computeBookmarks(),n};var l={};return l._items=function(o,i,n){return 0===e.size(o.bookmarks[i])?r("p",n):r("ul.list-unstyled",e.map(o.bookmarks[i],function(n){var u;return u="groups"===i?"/mypads/group/"+n._id+"/view":"/mypads/group/"+n.group+"/pad/view/"+n._id,r("li",[r("button.btn.btn-link.btn-lg",{title:t.LANG.GROUP.UNMARK,onclick:e.partial(o.unmark,n,i)},[r("i.glyphicon glyphicon-star")]),r("a",{href:u,config:r.route},n.name)])}))},l.groups=e.partialRight(l._items,"groups",t.LANG.GROUP.NONE),l.pads=e.partialRight(l._items,"pads",t.LANG.GROUP.PAD.NONE),l.aside=function(){return r("section.user-aside",[r("h2",t.LANG.ACTIONS.HELP),r("article.well",r.trust(t.LANG.BOOKMARK.HELP))])},l.main=function(e){return r("section",[r("h2",t.LANG.BOOKMARK.TITLE),r("section.panel.panel-primary",[r(".panel-heading",r("h3.panel-title",t.LANG.GROUP.GROUPS)),r(".panel-body",l.groups(e))]),r("section.panel.panel-info",[r(".panel-heading",r("h3.panel-title",t.LANG.GROUP.PAD.PADS)),r(".panel-body",l.pads(e))])])},p.view=function(r){return n.view(l.main(r),l.aside(r))},p}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"./group-mark.js":19,"./layout.js":24,"./pad-mark.js":28,"lodash":49,"mithril":50}],18:[function(require,module,exports){
module.exports=function(){"use strict";var e=require("mithril"),r=require("lodash"),i=require("../configuration.js"),t=require("../auth.js"),o=require("./layout.js"),a=require("../helpers/form.js"),n=require("../widgets/notification.js"),s=require("../widgets/tag.js"),c=require("../model/group.js"),l={};l.controller=function(){if(!t.isAuthenticated())return i.unauthUrl(!0),e.route("/login");var o={},l=function(){o.addView=e.prop("/mypads/group/add"===e.route()),document.title=o.addView()?i.LANG.GROUP.ADD:i.LANG.GROUP.EDIT_GROUP,document.title+=" - "+i.SERVER.title,o.fields=["name","description","visibility","password","readonly","allowUsersToCreatePads","archived"],a.initFields(o,o.fields),o.data.visibility("restricted");var t;if(!o.addView()){var n=e.route.param("key");o.group=c.groups()[n],r.map(r.keys(o.group),function(r){o.data[r]=e.prop(o.group[r])}),o.data.password=e.prop(""),t=o.group.tags}o.tag=new s.controller({current:t||[],tags:c.tags()}),o.data.tags=function(){return o.tag.current},o.data.tags.toJSON=function(){return o.tag.current}};return r.isEmpty(c.groups())?c.fetch(l):l(),o.submit=function(a){a.preventDefault();var s=function(){var e={params:{},extra:{}};return o.addView()?(e.params.method="POST",e.params.url=i.URLS.GROUP,e.extra.msg=i.LANG.GROUP.INFO.ADD_SUCCESS):(e.params.method="PUT",e.params.url=i.URLS.GROUP+"/"+o.group._id,e.extra.msg=i.LANG.GROUP.INFO.EDIT_SUCCESS),e}();s.params.data=r.assign(o.data,{admin:t.userInfo()._id}),s.params.data.auth_token=t.token(),e.request(s.params).then(function(i){var t=c.groups();t[i.key]=i.value,c.groups(t),c.tags(r.union(c.tags(),i.value.tags)),n.success({body:s.extra.msg}),e.route("/mypads/group/"+i.value._id+"/view")},function(e){n.error({body:r.result(i.LANG,e.error)})})},o};var u={};return l.views=u,u.icon={},u.icon.common=function(r){return e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":r})},u.icon.name=function(e){return a.icon(e,"name",i.LANG.GROUP.INFO.NAME,i.LANG.GROUP.ERR.NAME)},u.icon.description=function(e){return a.icon(e,"description",i.LANG.GROUP.INFO.DESCRIPTION)},u.icon.visibility=function(){return u.icon.common(i.LANG.GROUP.INFO.VISIBILITY)},u.icon.password=function(){return u.icon.common(i.LANG.GROUP.INFO.PASSWORD)},u.icon.readonly=function(){return u.icon.common(i.LANG.GROUP.INFO.READONLY)},u.icon.allowUsersToCreatePads=function(){return u.icon.common(i.LANG.GROUP.INFO.ALLOW_USERS_TO_CREATE_PADS)},u.icon.archived=function(){return u.icon.common(i.LANG.GROUP.INFO.ARCHIVED)},u.field={},u.field.name=function(e){var t=a.field(e,"name",i.LANG.GROUP.INFO.NAME,u.icon.name(e));return r.assign(t.input.attrs,{placeholder:i.LANG.GROUP.INFO.NAME,required:!0,maxlength:40,config:a.focusOnInit}),t.label.attrs.class="col-sm-4",t},u.field.description=function(r){var t=u.icon.description(r);return{label:e("label.col-sm-4",{for:"description"},[i.LANG.GROUP.FIELD.DESCRIPTION,t]),icon:t,textarea:e("textarea.form-control",{name:"description",value:r.data.description()||"",onchange:e.withAttr("value",r.data.description)},r.data.description())}},u.field.visibility=function(t,o){o=!!r.isUndefined(o)||o;var a=u.icon.visibility();return{label:e("label.col-sm-4",{for:"visibility"},[i.LANG.GROUP.FIELD.VISIBILITY,a]),icon:a,select:e("select.form-control",{name:"visibility",required:!0,value:t.data.visibility(),onchange:e.withAttr("value",t.data.visibility)},[function(){return o?e("option",{value:"restricted"},i.LANG.GROUP.FIELD.RESTRICTED):e("option",{value:""},"")}(),e("option",{value:"private"},i.LANG.GROUP.FIELD.PRIVATE),e("option",{value:"public"},i.LANG.GROUP.FIELD.PUBLIC)])}},u.field.password=function(r){var t=u.icon.password();return{label:e("label.col-sm-4",{for:"password"},[i.LANG.USER.PASSWORD,t]),icon:t,input:e("input.form-control",{name:"password",type:"password",placeholder:i.LANG.USER.UNDEF,value:r.data.password(),required:r.addView()&&"private"===r.data.visibility(),oninput:e.withAttr("value",r.data.password)})}},u.field.readonly=function(r){var t=u.icon.readonly();return{label:e("label",[e("input",{name:"readonly",type:"checkbox",checked:r.data.readonly(),onchange:e.withAttr("checked",r.data.readonly)}),[i.LANG.GROUP.FIELD.READONLY,t]]),icon:t}},u.field.allowUsersToCreatePads=function(r){var t=u.icon.allowUsersToCreatePads();return{label:e("label",[e("input",{name:"allowUsersToCreatePads",type:"checkbox",checked:r.data.allowUsersToCreatePads(),onchange:e.withAttr("checked",r.data.allowUsersToCreatePads)}),[i.LANG.GROUP.FIELD.ALLOW_USERS_TO_CREATE_PADS,t]]),icon:t}},u.field.archived=function(r){var t=u.icon.archived();return{label:e("label",[e("input",{name:"archived",type:"checkbox",checked:r.data.archived(),onchange:e.withAttr("checked",r.data.archived)}),[i.LANG.GROUP.FIELD.ARCHIVED,t]]),icon:t}},u.field.tag=function(e){return s.view(e.tag)},u.form=function(t){var o=r.reduce(t.fields,function(e,r){return e[r]=u.field[r](t),e},{}),a=[e(".form-group",[o.name.label,e(".col-sm-7",o.name.input)]),e(".form-group",[o.description.label,e(".col-sm-7",o.description.textarea)]),e(".form-group",[o.visibility.label,e(".col-sm-7",o.visibility.select)])];return"private"===t.data.visibility()&&a.push(e(".form-group",[o.password.label,e(".col-sm-7",o.password.input)])),t.addView()||a.push([e(".form-group",e(".col-sm-7 .col-sm-offset-4",e(".checkbox",[o.readonly.label]))),e(".form-group",e(".col-sm-7 .col-sm-offset-4",e(".checkbox",[o.archived.label]))),e(".form-group",e(".col-sm-7 .col-sm-offset-4",e(".checkbox",[o.allowUsersToCreatePads.label])))]),a.push(u.field.tag(t)),e("form.form-horizontal",{id:"group-form",onsubmit:t.submit},[e("fieldset",[e("legend",i.LANG.GROUP.GROUP),e("div",a)]),e("input.btn.btn-success.pull-right",{form:"group-form",type:"submit",value:i.LANG.ACTIONS.SAVE})])},u.main=function(r){return e("section",{class:"user group-form"},[e("h2",r.addView()?i.LANG.GROUP.ADD:i.LANG.GROUP.EDIT_GROUP),u.form(r)])},u.aside=function(){return e("section.user-aside",[e("h2",i.LANG.ACTIONS.HELP),e("article.well",e.trust(i.LANG.GROUP.ADD_HELP))])},l.view=function(e){return o.view(u.main(e),u.aside(e))},l}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../model/group.js":10,"../widgets/notification.js":42,"../widgets/tag.js":43,"./layout.js":24,"lodash":49,"mithril":50}],19:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),o=require("lodash"),e=require("../auth.js"),u=require("../configuration.js"),s=require("../widgets/notification.js"),t=require("../model/group.js");return function(i,n){var a=i._id,k=e.userInfo();o.includes(k.bookmarks.groups,a)?o.pull(k.bookmarks.groups,a):k.bookmarks.groups.push(a),void 0!==t.bookmarks().groups[a]?delete t.bookmarks().groups[a]:t.bookmarks().groups[a]=i,r.request({url:u.URLS.USERMARK,method:"POST",data:{type:"groups",key:a,auth_token:e.token()}}).then(function(){s.success({body:u.LANG.GROUP.MARK_SUCCESS}),n&&n()},function(r){return s.error({body:o.result(u.LANG,r.error)})})}}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"../widgets/notification.js":42,"lodash":49,"mithril":50}],20:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),t=require("../auth.js"),o=require("../configuration.js"),u=require("../model/group.js"),i=require("../widgets/notification.js"),n={};return n.controller=function(){if(!t.isAuthenticated())return o.unauthUrl(!0),r.route("/login");window.confirm(o.LANG.GROUP.INFO.REMOVE_SURE)?r.request({method:"DELETE",url:o.URLS.GROUP+"/"+r.route.param("key"),data:{auth_token:t.token()}}).then(function(e){var t=u.groups();delete t[e.key],u.groups(t),i.success({body:o.LANG.GROUP.INFO.REMOVE_SUCCESS}),r.route("/mypads/group/list")},function(r){i.error({body:e.result(o.LANG,r.error)})}):r.route("/mypads/group/"+r.route.param("key")+"/view")},n.view=function(){},n}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"../widgets/notification.js":42,"lodash":49,"mithril":50}],21:[function(require,module,exports){
module.exports=function(){"use strict";var t=require("mithril"),i=require("lodash"),e=require("../configuration.js"),r=require("../auth.js"),n=require("../widgets/notification.js"),s=require("./layout.js"),o=require("../model/group.js"),p=require("./pad-mark.js"),a=require("./pad-share.js"),u=require("../helpers/ready.js"),l=require("../helpers/sortingPreferences.js"),c=require("../helpers/filterPads.js"),d=require("./group-mark.js"),g=r.userInfo,A={};A.controller=function(){var s=t.route.param("key"),p={group:{visibility:"",tags:[]},privatePassword:t.prop(""),sendPass:t.prop(!1)};r.isAuthenticated()&&(p.bookmarks=r.userInfo().bookmarks.pads),p.isGuest=!r.isAuthenticated();var a=function(n){if(n)return t.route("/mypads");var a=function(n){if(n)return t.route("/mypads");var a=p.isGuest?o.tmp():o;if(p.group=a.groups()[s],p.isGuest)p.isAdmin=!1,p.isUser=!1,p.pads=i.sortBy(i.compact(i.map(p.group.pads,function(t){return a.pads()[t]})),l.padByField());else{p.isAdmin=i.includes(p.group.admins,r.userInfo()._id),p.isUser=i.includes(p.group.users,r.userInfo()._id);var u=o.pads(),c=o.users();p.pads=i.sortBy(i.map(p.group.pads,function(t){return u[t]}),l.padByField()),p.users=i.map(p.group.users,function(t){return c[t]}),p.admins=i.map(p.group.admins,function(t){return c[t]})}l.padAsc()||p.pads.reverse(),document.title=e.LANG.GROUP.GROUP+" "+p.group.name+" - "+e.SERVER.title};o.groups()[s]?a():(p.isGuest=!0,o.fetchObject({group:s},void 0,a))},u=function(){return r.isAuthenticated()?i.partial(o.fetch,a):i.partial(o.fetchObject,{group:s},void 0,a)}();return i.isEmpty(o.groups())?u():a(),p.sortField=t.prop(l.padByField()),p.sortAsc=t.prop(l.padAsc()),p.sortBy=function(t,e){p.sortField()===t&&"boolean"!=typeof e&&p.sortAsc(!p.sortAsc()),p.sortField(t);var r=p.sortAsc()?"asc":"desc";p.pads=i.sortByOrder(p.pads,t,r),l.updateValues({padByField:p.sortField(),padAsc:p.sortAsc()})},p.quit=function(){window.confirm(e.LANG.GROUP.INFO.RESIGN)&&t.request({method:"POST",url:e.URLS.GROUP+"/resign",data:{gid:p.group._id,auth_token:r.token()}}).then(function(i){var r=o.groups();delete r[i.value._id],o.groups(r),n.success({body:e.LANG.GROUP.INFO.RESIGN_SUCCESS}),t.route("/mypads/group/list")},function(t){n.error({body:i.result(e.LANG,t.error)})})},p.submitPass=function(t){t.preventDefault(),o.fetchObject({group:s},p.privatePassword(),function(t){if(t)return p.sendPass(!1);var e=p.isGuest?o.tmp():o;p.group=e.groups()[s],p.pads=i.sortBy(i.compact(i.map(p.group.pads,function(t){return e.pads()[t]})),l.padByField()),p.sendPass(!0)})},p};var G={};return G.properties=function(r){return t("table.table.table-stripped.table-bordered",[t("thead",t("tr",[t("th",{scope:"col"},e.LANG.GROUP.PAD.PADS),t("th",{scope:"col",title:e.LANG.GROUP.PAD.VISIBILITY},t("i.glyphicon.glyphicon-eye-open",t("span.sr-only",e.LANG.GROUP.PAD.VISIBILITY))),t("th",{scope:"col"},e.LANG.GROUP.FIELD.READONLY),t("th",{scope:"col",title:e.LANG.GROUP.PAD.ADMINS},t("i.glyphicon.glyphicon-knight",t("span.sr-only",e.LANG.GROUP.PAD.ADMINS))),t("th",{scope:"col",title:e.LANG.GROUP.PAD.USERS},t("i.glyphicon.glyphicon-user",t("span.sr-only",e.LANG.GROUP.PAD.USERS))),t("th",{scope:"col"},e.LANG.GROUP.TAGS.TITLE)])),t("tbody",t("tr.text-center",[t("td",i.size(r.group.pads)),t("td",e.LANG.GROUP.FIELD[r.group.visibility.toUpperCase()]),t("td",e.LANG.GLOBAL[r.group.readonly?"YES":"NO"]),t("td",i.size(r.group.admins)),t("td",i.size(r.group.users)),t("td",t("ul.list-inline",i.map(r.group.tags,function(i){return t("li.label.label-default",i)})))]))])},G.pads=function(r){var n="/mypads/group/"+r.group._id,s=e.LANG.GROUP,o=t("p.col-sm-4.text-center",[t("a.btn.btn-default",{href:n+"/pad/add",config:t.route},[t("i.glyphicon.glyphicon-plus.text-success")," "+e.LANG.GROUP.PAD.ADD])]),u=t("p.text-center",[t("a.btn.btn-default",{href:n+"/pad/move",config:t.route},[t("i.glyphicon.glyphicon-transfer")," "+e.LANG.GROUP.PAD.MOVE])]),l=t("p.col-sm-4.text-center.form-inline",[t(".form-group",[t("label",{for:"pad-filter-form"},e.LANG.GROUP.SEARCH.TITLE+" "),t("input.form-control",{id:"pad-filter-form",type:"search",placeholder:e.LANG.GROUP.SEARCH.TYPE,oninput:t.withAttr("value",c.filterKeyword)})])]),d=function(){return r.sortField()?r.sortAsc()?"top":"bottom":"arrow-combo"}(),g=t("p.col-sm-4.text-right.small",[t("span"," "+e.LANG.GROUP.PAD.SORT_BY),t("button.btn.btn-default.btn-xs",{type:"button",onclick:i.partial(r.sortBy,"ctime")},[e.LANG.GROUP.PAD.SORT_BY_CREATION+" ",t("i.small.glyphicon glyphicon-triangle-"+d)]),t("button.btn.btn-default.btn-xs",{type:"button",onclick:i.partial(r.sortBy,"name")},[e.LANG.GROUP.PAD.SORT_BY_NAME+" ",t("i.small.glyphicon glyphicon-triangle-"+d)])]),A=function(){return 0===i.size(r.group.pads)?t("p",e.LANG.GROUP.PAD.NONE):t("ul.list-group.col-sm-12",i.map(r.pads,function(o){var u=[function(){if("restricted"!==r.group.visibility||o.visibility&&"restricted"!==o.visibility)return t("button.btn.btn-default.btn-xs",{title:e.LANG.GROUP.SHARE,onclick:a.bind(r,r.group._id,o._id)},[t("i.glyphicon.glyphicon-link")])}()];r.isAdmin&&u.push(t("a.btn.btn-default.btn-xs",{href:n+"/pad/edit/"+o._id,config:t.route,title:e.LANG.MENU.CONFIG},[t("i.glyphicon.glyphicon-wrench")]),t("a.btn.btn-default.btn-xs",{href:n+"/pad/remove/chat/history/"+o._id,config:t.route,title:e.LANG.GROUP.REMOVE_CHAT_HISTORY},[t("i.glyphicon.glyphicon-volume-off")]),t("a.btn.btn-default.btn-xs",{href:n+"/pad/remove/"+o._id,config:t.route,title:e.LANG.GROUP.REMOVE},[t("i.glyphicon.glyphicon-trash.text-danger")]));var l=o.name;if(o.visibility&&o.visibility!==r.group.visibility){l+=" ("+e.LANG.GROUP.FIELD[o.visibility.toUpperCase()]+")"}return t("li.list-group-item.group-pad-item",{"data-padname":l},[function(){if(!r.isGuest){var e=i.includes(r.bookmarks,o._id);return t("button.btn.btn-link.btn-lg",{title:e?s.UNMARK:s.BOOKMARK,onclick:function(){p(o._id)}},[t("i",{class:"glyphicon glyphicon-star"+(e?"":"-empty")})])}}(),t("span.name",[t("a",{href:n+"/pad/view/"+o._id,config:t.route,title:e.LANG.GROUP.VIEW},l)]),t("span.pull-right",u)])}))}(),G=[];return(r.isAdmin||r.group.allowUsersToCreatePads&&!r.isGuest)&&G.push(o),G.push(l,g,A),r.isAdmin&&G.push(u),t("section.panel-body",G)},G.users=function(r){if(r.isGuest)return t("p",e.LANG.GROUP.PAD.PUBLIC_DENIED);var n=function(t){var i="";return t.firstname?i+=t.firstname+" "+t.lastname+" ":i+=t.login,i+" : "+t.email},s=function(r){return 0===i.size(r)?t("p",e.LANG.GROUP.PAD.USERS_NONE):t("ul.list-group",i.map(r,function(i){return t("li.list-group-item",n(i))}))},o="/mypads/group/"+r.group._id,p=[t("h4",e.LANG.GROUP.PAD.ADMINS)];r.isAdmin&&p.push(t("p.text-center",t("a.btn.btn-default",{href:o+"/user/share",config:t.route},[t("i.glyphicon.glyphicon-plus.text-success")," "+e.LANG.GROUP.SHARE_ADMIN]))),p.push(s(r.admins));var a=[t("h4",e.LANG.GROUP.PAD.USERS)];return r.isAdmin&&a.push(t("p.text-center",t("a.btn.btn-default",{href:o+"/user/invite",config:t.route},[t("i.glyphicon.glyphicon-plus.text-success")," "+e.LANG.GROUP.INVITE_USER.IU]))),a.push(s(r.users)),t("section.panel-body",[t(".col-sm-6",p),t(".col-sm-6",a)])},G.passForm=function(i){return[t("form",{id:"password-form",config:u.inFrame,onsubmit:i.submitPass},[t("label",{for:"mypadspassword"},e.LANG.USER.PASSWORD),t("input",{type:"password",required:!0,placeholder:e.LANG.USER.UNDEF,value:i.privatePassword(),oninput:t.withAttr("value",i.privatePassword)}),t("input.ok",{form:"password-form",type:"submit",value:e.LANG.USER.OK})])]},G.main=function(n){var s=!!r.isAuthenticated()&&i.includes(g().bookmarks.groups,n.group._id),o=[t("span",[t("button.btn.btn-link.btn-lg",{onclick:function(t){t.preventDefault(),d(n.group)},title:s?e.LANG.GROUP.UNMARK:e.LANG.GROUP.BOOKMARK},[t("i",{class:"glyphicon glyphicon-star"+(s?"":"-empty")})]),e.LANG.GROUP.GROUP+" "+n.group.name])],p="";"restricted"!==n.group.visibility&&(p=t("button.btn.btn-default",{title:e.LANG.GROUP.SHARE,onclick:a.bind(n,n.group._id,null)},[t("i.glyphicon.glyphicon-link"),t("span"," "+e.LANG.GROUP.SHARE)]));var u=[p];n.isAdmin&&u.push(t("a.btn.btn-default",{href:"/mypads/group/"+n.group._id+"/edit",config:t.route,title:e.LANG.MENU.CONFIG},[t("i.glyphicon.glyphicon-wrench"),t("span"," "+e.LANG.MENU.CONFIG)]),t("a.btn.btn-danger",{href:"/mypads/group/"+n.group._id+"/remove",config:t.route,title:e.LANG.GROUP.REMOVE},[t("i.glyphicon.glyphicon-trash"),t("span"," "+e.LANG.GROUP.REMOVE)]));var l=n.isAdmin&&n.admins.length>1||!n.isAdmin;return!n.isGuest&&l&&u.push(t("button.cancel.btn.btn-warning",{onclick:n.quit},[t("i.glyphicon glyphicon-fire")," "+e.LANG.GROUP.QUIT_GROUP])),n.isAdmin||n.isUser||"private"!==n.group.visibility||n.sendPass()?t("section",[t(".btn-group.pull-right",{role:"group"},u),t("h2",o),t("section.description",[]),t("section.panel.panel-primary.props",[t(".panel-heading",t("h3.panel-title",e.LANG.GROUP.PROPERTIES)),t(".panel-body",n.group.description),G.properties(n)]),t("section.panel.panel-info.pads",[t(".panel-heading",t("h3.panel-title",e.LANG.GROUP.PAD.PADS)),G.pads(n)]),t("section.panel.panel-warning.users",[t(".panel-heading",t("h3.panel-title",e.LANG.GROUP.PAD.ADMINS+" & "+e.LANG.GROUP.PAD.USERS)),G.users(n)])]):t("section",[t("h2",o),G.passForm(n)])},G.aside=function(){return t("section.user-aside",[t("h2",e.LANG.ACTIONS.HELP),t("article.well",t.trust(e.LANG.GROUP.VIEW_HELP))])},A.view=function(t){return s.view(G.main(t),G.aside(t))},A}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/filterPads.js":6,"../helpers/ready.js":8,"../helpers/sortingPreferences.js":9,"../model/group.js":10,"../widgets/notification.js":42,"./group-mark.js":19,"./layout.js":24,"./pad-mark.js":28,"./pad-share.js":32,"lodash":49,"mithril":50}],22:[function(require,module,exports){
module.exports=function(){"use strict";var t=require("mithril"),i=require("lodash"),e=require("../configuration.js"),n=require("../auth.js"),r=n.userInfo,o=require("./layout.js"),l=require("../model/group.js"),s=require("./pad-share.js"),a=require("../helpers/sortingPreferences.js"),c=require("./group-mark.js"),u={};u.controller=function(){if(!n.isAuthenticated())return e.unauthUrl(!0),t.route("/login");document.title=e.LANG.GROUP.MYGROUPS+" - "+e.SERVER.title;var o={groups:{}};o.filters={admins:!1,users:!1};var s=function(t,i,e){o.filters[t]=!!i&&e,o.computeGroups()};return o.filterToggle=function(t){var e=function(e){return i.includes(e[t],r()._id)};s(t,!o.filters[t],e)},o.filterTag=function(t){var e=function(e){return i.includes(e.tags,t)};s(t,!o.filters[t],e)},o.filterVisibility=function(t){o.filterVisibVal===t?(o.filters.visibility=!1,o.filterVisibVal=!1):(o.filterVisibVal=t,o.filters.visibility=function(i){return i.visibility===t}),o.computeGroups()},o.search=t.prop(""),o.filterSearch=function(){o.search().length>2?o.filters.search=function(t){var i=new RegExp(o.search(),"gi");return!!t.name.match(i)||t.tags.toString().match(i)}:o.filters.search=!1,o.computeGroups()},window.c=o,o.sortField=t.prop(a.groupByField()),o.sortAsc=t.prop(a.groupAsc()),o.sortBy=function(t){o.sortField()===t&&o.sortAsc(!o.sortAsc()),o.sortField(t);var e=o.sortAsc()?"asc":"desc";o.groups=i.transform(o.groups,function(n,r,o){n[o]=i.sortByOrder(r,t,e)}),a.updateValues({groupByField:o.sortField(),groupAsc:o.sortAsc()})},o.computeGroups=function(){o.groups=i(l.groups()).values().sortBy(o.sortField()).value(),o.sortAsc()||o.groups.reverse();var t=r().bookmarks.groups;o.groups=i.reduce(o.groups,function(e,n){for(var r in o.filters)if(o.filters[r]&&!o.filters[r](n))return e;return i.includes(t,n._id)&&!n.archived?e.bookmarked.push(n):n.readonly||n.archived?e.archived.push(n):e.normal.push(n),e},{bookmarked:[],archived:[],normal:[]})},i.isEmpty(l.groups())?l.fetch(o.computeGroups):o.computeGroups(),o};var p={};return p.sort=function(n){var r=function(e,r){return t("button.btn.btn-default.btn-xs",{class:n.sortField()===e?" btn-info":"",onclick:i.partial(n.sortBy,e)},[t("span",r+" "),t("i.small.glyphicon glyphicon-triangle-"+(n.sortAsc()?"top":"bottom"))])};return t("section.sort",[t("h3",[t("span",e.LANG.GROUP.SORT.TITLE),t("i.mp-tooltip.glyphicon glyphicon-info-sign",{"data-msg":e.LANG.GROUP.SORT.HELP})]),t("ul.list-inline",[t("li",[r("ctime",e.LANG.GROUP.PAD.SORT_BY_CREATION)]),t("li",[r("name",e.LANG.GROUP.PAD.SORT_BY_NAME)])])])},p.search=function(i){return t("section.search",[t("h3",[t("span",e.LANG.GROUP.SEARCH.TITLE),t("i.mp-tooltip.glyphicon glyphicon-info-sign",{"data-msg":e.LANG.GROUP.SEARCH.HELP})]),t(".input-group",[t("input.form-control",{type:"search",placeholder:e.LANG.GROUP.SEARCH.TYPE,minlength:3,pattern:".{3,}",value:i.search(),oninput:t.withAttr("value",i.search),onkeydown:function(t){13===t.keyCode&&(t.preventDefault(),i.filterSearch())}}),t("span.input-group-btn",t("button.btn.btn-default",{type:"button",onclick:i.filterSearch},e.LANG.USER.OK))])])},p.filters=function(n){return t("section.filter",[t("h3",[t("span",e.LANG.GROUP.FILTERS.TITLE),t("i.mp-tooltip.glyphicon glyphicon-info-sign",{"data-msg":e.LANG.GROUP.FILTERS.HELP})]),t("ul.list-unstyled",[t("li",[t("button.btn.btn-default.btn-xs.btn-block",{class:"admin"+(n.filters.admins?" btn-info":""),onclick:i.partial(n.filterToggle,"admins")},e.LANG.GROUP.FILTERS.ADMIN)]),t("li",[t("button.btn.btn-default.btn-xs.btn-block",{class:"user"+(n.filters.users?" btn-info":""),onclick:i.partial(n.filterToggle,"users")},e.LANG.GROUP.FILTERS.USER)]),t("li",[function(){return i.map(["restricted","private","public"],function(r){return t("button.btn.btn-default.btn-xs.btn-block",{class:"user"+(n.filterVisibVal===r?" btn-info":""),onclick:i.partial(n.filterVisibility,r)},e.LANG.GROUP.FIELD.VISIBILITY+" : "+e.LANG.GROUP.FIELD[r.toUpperCase()])})}()])])])},p.tags=function(n){return t("section.tag",[t("h3",[t("span",e.LANG.GROUP.TAGS.TITLE),t("i.mp-tooltip.glyphicon glyphicon-info-sign",{"data-msg":e.LANG.GROUP.TAGS.HELP})]),t("ul.list-inline",i.map(l.tags(),function(e){return t("li",[t("button.btn.btn-default.btn-xs",{class:n.filters[e]?"btn-info":"",onclick:i.partial(n.filterTag,e)},e)])}))])},p.aside=function(i){return t("section.group-aside",[p.search(i),p.sort(i),p.filters(i),p.tags(i)])},p.group=function(n,o){var l="/mypads/group/"+o._id,a=i.includes(r().bookmarks.groups,o._id),u=e.LANG.GROUP,p=i.includes(o.admins,r()._id),g=[function(){if("restricted"!==o.visibility)return t("button.btn.btn-default.btn-xs",{type:"button",onclick:s.bind(n,o._id,null),title:e.LANG.GROUP.SHARE},[t("i.glyphicon.glyphicon-link")])}()];return p&&g.push(t("a.btn.btn-default.btn-xs",{href:l+"/edit",config:t.route,title:e.LANG.MENU.CONFIG},[t("i.glyphicon glyphicon-wrench")]),t("a.btn.btn-default.btn-xs",{href:l+"/remove",config:t.route,title:e.LANG.GROUP.REMOVE},[t("i.glyphicon.glyphicon-trash.text-danger")])),t("tr",[t("th",[t("p.pull-right",g),t("a.btn.btn-link.btn-lg",{onclick:c.bind(n,o,n.computeGroups),href:"/mypads",config:t.route,title:a?u.UNMARK:u.BOOKMARK},[t("i",{class:"glyphicon glyphicon-star"+(a?"":"-empty")})]),t("a",{href:"/mypads/group/"+o._id+"/view",config:t.route,title:e.LANG.GROUP.VIEW_MANAGE},o.name)]),t("td",[i.size(o.pads),function(){var i=[];return p&&i.push(t("a.btn.btn-default.btn-xs.pull-right",{href:l+"/pad/add",config:t.route},[t("i.glyphicon.glyphicon-plus.text-success",{title:e.LANG.GROUP.PAD.ADD})])),i}()]),t("td",e.LANG.GROUP.FIELD[o.visibility.toUpperCase()]),t("td",[i.size(o.admins),function(){if(p)return t("a.btn.btn-default.btn-xs.pull-right",{href:l+"/user/share",config:t.route},[t("i.glyphicon.glyphicon-plus.text-success",{title:e.LANG.GROUP.SHARE_ADMIN})])}()]),t("td",[function(){if("restricted"===o.visibility)return[i.size(o.users),function(){if(p)return t("a.btn.btn-default.btn-xs.pull-right",{href:l+"/user/invite",config:t.route},[t("i.glyphicon.glyphicon-plus.text-success",{title:e.LANG.GROUP.INVITE_USER.IU})])}()]}()]),t("td",[t("ul.list-inline",i.map(o.tags,function(e){return t("li.label.label-default",{class:n.filters[e]?"label-info":"",onclick:i.partial(n.filterTag,e)},e)}))])])},p._groups=function(t,e){return i.map(t.groups[e],i.partial(p.group,t))},p.groups=i.partialRight(p._groups,"normal"),p.bookmarked=i.partialRight(p._groups,"bookmarked"),p.archived=i.partialRight(p._groups,"archived"),p.main=function(i){return t("section",[t("h2",[t("span",e.LANG.GROUP.MYGROUPS),t("i.mp-tooltip.glyphicon glyphicon-info-sign",{"data-msg":e.LANG.GROUP.HELP}),t("a.btn.btn-primary.pull-right",{href:"/mypads/group/add",config:t.route},[t("span",e.LANG.GROUP.ADD)])]),t("section.panel.panel-primary",[t(".panel-heading",t("h3.panel-title",e.LANG.GROUP.GROUPS)),t("table.table.table-stripped.table-bordered",[t("thead",t("tr",[t("th",{scope:"col"},e.LANG.GROUP.GROUPS),t("th",{scope:"col"},e.LANG.GROUP.PAD.PADS),t("th",{scope:"col",title:e.LANG.GROUP.PAD.VISIBILITY},t("i.glyphicon.glyphicon-eye-open",t("span.sr-only",e.LANG.GROUP.PAD.VISIBILITY))),t("th",{scope:"col",title:e.LANG.GROUP.PAD.ADMINS},t("i.glyphicon.glyphicon-knight",t("span.sr-only",e.LANG.GROUP.PAD.ADMINS))),t("th",{scope:"col",title:e.LANG.GROUP.PAD.USERS},t("i.glyphicon.glyphicon-user",t("span.sr-only",e.LANG.GROUP.PAD.USERS))),t("th",{scope:"col"},e.LANG.GROUP.TAGS.TITLE)])),t("tbody",[p.bookmarked(i),p.groups(i)])])]),t("section.panel.panel-default",[t(".panel-heading",t("h3.panel-title",e.LANG.GROUP.ARCHIVED)),t("table.table.table-stripped.table-bordered",[t("thead",t("tr",[t("th",{scope:"col"},e.LANG.GROUP.GROUPS),t("th",{scope:"col"},e.LANG.GROUP.PAD.PADS),t("th",{scope:"col",title:e.LANG.GROUP.PAD.VISIBILITY},t("i.glyphicon.glyphicon-eye-open",t("span.sr-only",e.LANG.GROUP.PAD.VISIBILITY))),t("th",{scope:"col",title:e.LANG.GROUP.PAD.ADMINS},t("i.glyphicon.glyphicon-knight",t("span.sr-only",e.LANG.GROUP.PAD.ADMINS))),t("th",{scope:"col",title:e.LANG.GROUP.PAD.USERS},t("i.glyphicon.glyphicon-user",t("span.sr-only",e.LANG.GROUP.PAD.USERS))),t("th",{scope:"col"},e.LANG.GROUP.TAGS.TITLE)])),t("tbody",[p.archived(i)])])])])},u.view=function(t){return o.view(p.main(t),p.aside(t))},u}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/sortingPreferences.js":9,"../model/group.js":10,"./group-mark.js":19,"./layout.js":24,"./pad-share.js":32,"lodash":49,"mithril":50}],23:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("../auth.js"),t=require("./layout.js");return{controller:function(){return r.isAdmin()?e.route("/admin"):r.isAuthenticated()?e.route("/mypads"):void e.route("/login")},view:function(){return t.view(e("p","empty home"),e("p","empty aside"))}}}.call(this);
},{"../auth.js":2,"./layout.js":24,"mithril":50}],24:[function(require,module,exports){
module.exports=function(){var t=require("mithril"),e=require("lodash"),n=require("../configuration.js"),o=require("../auth.js"),i=require("../widgets/notification.js"),r=require("../helpers/expandPad.js"),a={},u={};u={},u.menuMain=function(){var i={auth:[{route:"/mypads",icon:"duplicate",txt:n.LANG.MENU.PAD},{route:"/mybookmarks",icon:"star",txt:n.LANG.MENU.BOOKMARK},{route:"/myuserlists",icon:"user",txt:n.LANG.MENU.USERLIST},{route:"/myprofile",icon:"home",txt:n.LANG.MENU.PROFILE},{route:"/logout",icon:"off",txt:n.LANG.MENU.LOGOUT}],admin:[{route:"/admin",icon:"wrench",txt:n.LANG.MENU.CONFIG},{route:"/admin/users",icon:"user",txt:n.LANG.MENU.USERS},{route:"/admin/logout",icon:"off",txt:n.LANG.MENU.LOGOUT}],unauth:[{route:"/login",icon:"lock",txt:n.LANG.USER.LOGIN},{route:"/subscribe",icon:"user",txt:n.LANG.USER.SUBSCRIBE}]};(n.SERVER.useLdap||!1===n.SERVER.openRegistration)&&(i.unauth=[{route:"/login",icon:"lock",txt:n.LANG.USER.LOGIN}]);var r=function(e){var n=t.route().slice(0,e.route.length)===e.route;return 0===t.route().indexOf("/admin")&&(n=t.route()===e.route),t("li",{class:n?"active":""},[t("a",{href:e.route,config:t.route},[t("i",{class:"glyphicon glyphicon-"+e.icon,title:e.txt}),t("span"," "+e.txt)])])};return o.isAuthenticated()?e.map(i.auth,r):o.isAdmin()?e.map(i.admin,r):e.map(i.unauth,r)};var c=new RegExp("/mypads/group/[^/]*/pad/view/[^/]*"),s=new RegExp("/mypads$");return a.view=function(o,a){var l="header",d="footer.container.ombre",m="aside.col-md-3.col-xs-12",E="main.container.ombre",p="section.col-md-9.col-xs-12";return r.wantExpandedPad()&&t.route().match(c)&&(l+=".hidden",d+=".hidden",m+=".hidden",E="main.container-fluid.ombre",p="section.col-md-12.col-xs-12"),t.route().match(s)&&(p+=".groupList"),[t(l,[t("div.lang.container.form-inline",[t("select.form-control",e.reduce(n.SERVER.languages,function(e,o,i){var r={onclick:n.updateLang.bind(null,i),value:i};return i===n.USERLANG&&(r.selected="selected"),e.push(t("option",r,o)),e},[]))]),t("div.container.ombre",[t("h1",n.SERVER.title),t("hr.trait",{role:"presentation"}),t("nav",{class:"menu-main"},[t("ul.nav.nav-tabs",u.menuMain())])])]),t(E,[t(p,{config:r.autoExpand},o||""),t(m,a||"")]),t("section",{class:"notification"},i.view(i.controller())),t(d,t("p",[t("span",t.trust(n.LANG.GLOBAL.FOOTER+" | ")),t("a",{href:"/admin",config:t.route},n.LANG.MENU.ADMIN)]))]},a}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/expandPad.js":5,"../widgets/notification.js":42,"lodash":49,"mithril":50}],25:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("lodash"),o=require("js-cookie"),t=require("../configuration.js"),i=require("../auth.js"),n=require("../helpers/form.js"),s=require("../widgets/notification.js"),u=require("./layout.js"),a=require("./user.js"),l=require("../helpers/ready.js"),c={};c.controller=function(){var u={};return document.title=t.SERVER.title,n.initFields(u,["login","password"]),u.submit=function(n){if(n.preventDefault(),!u.data.login()){var a=document.querySelector("input[name=login]");u.data.login(a.value)}if(!u.data.password()){var l=document.querySelector("input[name=password]");u.data.password(l.value)}e.request({method:"POST",url:t.URLS.LOGIN,data:u.data}).then(function(n){i.userInfo(n.user),localStorage.setItem("token",n.token);var u=o.get("token-"+n.user.login);if(u)o.set("token",u,{expires:60});else{var a=o("token");a&&o.set("token-"+n.user.login,a,{expires:365})}var l=i.userInfo().lang;l!==t.USERLANG&&t.updateLang(l),document.title=" - "+t.LANG.USER.AUTH.WELCOME+" "+n.user.login+t.SERVER.title,s.success({body:t.LANG.USER.AUTH.SUCCESS});var c=t.unauthUrl();r.isEmpty(c)?e.route("/"):window.location=c},function(e){s.error({body:r.result(t.LANG,e.error)})})},u};var d={};return d.form=function(r){var o=a.view.field.login(r);o.input.attrs.config=n.focusOnInit,o.input.attrs.maxlength=40,o.label.attrs.class="col-sm-4";var i=a.view.field.password(r),s=[i.input];return!1===t.SERVER.useLdap&&s.push(e("p.help-block",[e("a",{href:"/passrecover",config:e.route},t.LANG.USER.PASSWORD_LOST)])),e("form.form-horizontal.col-sm-8.col-sm-offset-2.well",{id:"login-form",onsubmit:r.submit},[e("div",{id:"hide-when-ready",config:l.checkLoop},t.LANG.USER.PLEASE_WAIT),e("fieldset.show-when-ready.hidden",[e("legend",t.LANG.USER.MYPADS_ACCOUNT),e(".form-group",[o.label,e(".col-sm-7",o.input)]),e(".form-group",[i.label,e(".col-sm-7",s)]),e("input.btn.btn-success.pull-right",{form:"login-form",type:"submit",value:t.LANG.USER.LOGIN})])])},d.main=function(r){var o=[e("span",t.LANG.USER.FORM)];return t.SERVER.openRegistration&&!1===t.SERVER.useLdap&&o.push(e("a.small",{href:"/subscribe",config:e.route},t.LANG.USER.ORSUB)),e("section",{class:"user"},[e("h2",o),d.form(r)])},c.view=function(e){return u.view(d.main(e),a.view.aside.common(e))},c}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../helpers/ready.js":8,"../widgets/notification.js":42,"./layout.js":24,"./user.js":37,"js-cookie":48,"lodash":49,"mithril":50}],26:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("lodash"),o=require("js-cookie"),t=require("../configuration.js"),i=require("../auth.js"),n=require("../model/group.js"),u=require("../widgets/notification.js");return{controller:function(){if(!i.isAuthenticated())return e.route("/login");e.request({method:"GET",url:t.URLS.LOGOUT,config:i.fn.xhrConfig}).then(function(){o.get("token")&&(o.set("token-"+i.userInfo().login,o.get("token"),{expires:365}),o.remove("token")),i.userInfo(null),localStorage.removeItem("token"),n.init(),document.title=t.SERVER.title,u.success({body:t.LANG.USER.AUTH.SUCCESS_OUT}),e.route("/")},function(o){u.error({body:r.result(t.LANG,o.error)}),e.route("/")})},view:function(){}}}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"../widgets/notification.js":42,"js-cookie":48,"lodash":49,"mithril":50}],27:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),i=require("../auth.js"),a=require("./layout.js"),o=require("../helpers/form.js"),t=require("./group-form.js"),s=require("../configuration.js"),u=require("../model/group.js"),l=require("../widgets/notification.js"),n={};n.controller=function(){if(!i.isAuthenticated())return s.unauthUrl(!0),r.route("/login");var a={groupParams:r.prop(!0)},t=r.route.param("pad"),n=r.route.param("group"),p=function(){if(a.addView=r.prop(!t),document.title=a.addView()?s.LANG.GROUP.PAD.ADD:s.LANG.GROUP.PAD.EDIT,document.title+=" - "+s.SERVER.title,a.fields=["name","visibility","password","readonly"],o.initFields(a,a.fields),a.group=u.groups()[n],!a.addView()){a.pad=u.pads()[t],e.map(e.keys(a.pad),function(e){a.data[e]=r.prop(a.pad[e])});var i=[a.data.visibility(),a.data.readonly()];a.groupParams=r.prop(e.every(i,e.isNull)),a.data.password=r.prop("")}};return e.isEmpty(u.groups())?u.fetch(p):p(),a.submit=function(o){o.preventDefault();var p=function(){return a.addView()?{method:"POST",url:s.URLS.PAD,successMsg:s.LANG.GROUP.INFO.PAD_ADD_SUCCESS}:{method:"PUT",url:s.URLS.PAD+"/"+t,successMsg:s.LANG.GROUP.INFO.PAD_EDIT_SUCCESS}}();a.groupParams()&&(a.data.visibility(null),a.data.password(null),a.data.readonly(null)),a.data.group=r.prop(n),r.request({method:p.method,url:p.url,data:e.assign(a.data,{auth_token:i.token()})}).then(function(e){var i=u.pads();if(i[e.key]=e.value,u.pads(i),a.addView()){var o=u.groups();o[n].pads.push(e.key),u.groups(o)}l.success({body:p.successMsg}),r.route("/mypads/group/"+n+"/view")},function(r){l.error({body:e.result(s.LANG,r.error)})})},a};var p={};return p.groupParams=function(e){var i=s.LANG.GROUP,a=r("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":i.INFO.GROUP_PARAMS});return{label:r("label",[r("input",{name:"groupParams",type:"checkbox",checked:e.groupParams(),onchange:r.withAttr("checked",e.groupParams)}),i.FIELD.GROUP_PARAMS,a]),icon:a}},p.form=function(i){var a=t.views.field.name(i);e.assign(a.input.attrs,{config:o.focusOnInit});var u="restricted"===i.group.visibility,l=t.views.field.visibility(i,u);e.assign(l.label.attrs,{style:"clear: left;"});var n=t.views.field.password(i),d=t.views.field.readonly(i),c=p.groupParams(i),m=[r(".form-group",[a.label,r(".col-sm-7",a.input)]),r(".form-group",[r(".col-sm-7.col-sm-offset-4",[r(".checkbox",[c.label])])])];return i.groupParams()||(m.push(r(".form-group",[l.label,r(".col-sm-7",l.select)])),"private"===i.data.visibility()&&m.push(r(".form-group",[n.label,r(".col-sm-7",n.input)])),i.addView()||m.push(r(".form-group",[r(".col-sm-7.col-sm-offset-4",[r(".checkbox",[d.label])])]))),r("form.form-horizontal",{id:"pad-form",onsubmit:i.submit},[r("fieldset",[r("legend",s.LANG.GROUP.PAD.PAD),r("div",m)]),r("input.btn.btn-success.pull-right",{form:"pad-form",type:"submit",value:s.LANG.ACTIONS.SAVE})])},p.main=function(e){return r("section",{class:"user group-form"},[r("h2",e.addView()?s.LANG.GROUP.PAD.ADD:s.LANG.GROUP.PAD.EDIT),p.form(e)])},p.aside=function(){return r("section.user-aside",[r("h2",s.LANG.ACTIONS.HELP),r("article.well",r.trust(s.LANG.GROUP.ADD_HELP))])},n.view=function(r){return a.view(p.main(r),p.aside(r))},n}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../model/group.js":10,"../widgets/notification.js":42,"./group-form.js":18,"./layout.js":24,"lodash":49,"mithril":50}],28:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),o=require("../auth.js"),s=require("../configuration.js"),t=require("../widgets/notification.js"),u=require("../model/group.js");return function(a,i){var d=a._id,n=o.userInfo();e.includes(n.bookmarks.pads,d)?e.pull(n.bookmarks.pads,d):n.bookmarks.pads.push(d),void 0!==u.bookmarks().pads[d]?delete u.bookmarks().pads[d]:u.bookmarks().pads[d]=a,r.request({url:s.URLS.USERMARK,method:"POST",data:{type:"pads",key:d,auth_token:o.token()}}).then(function(){t.success({body:s.LANG.GROUP.MARK_SUCCESS}),i&&i()},function(r){return t.error({body:e.result(s.LANG,r.error)})})}}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"../widgets/notification.js":42,"lodash":49,"mithril":50}],29:[function(require,module,exports){
module.exports=function(){"use strict";var e=require("mithril"),o=require("lodash"),t=require("../auth.js"),n=require("../configuration.js"),r=require("../model/group.js"),u=require("../widgets/notification.js"),a=require("./layout.js"),i={};i.controller=function(){if(!t.isAuthenticated())return n.unauthUrl(!0),e.route("/login");document.title=n.LANG.GROUP.PAD.MOVE_TITLE+" - "+n.SERVER.title;var a={data:{newGroup:e.prop()}},i=e.route.param("group"),c=function(){a.selectedGroups=o(r.groups()).values().filter(function(e){return o.includes(e.admins,t.userInfo()._id)&&e._id!==i}).value(),a.noSelectedPads=e.prop(!1),a.group=r.groups()[i]};return o.isEmpty(r.groups())?r.fetch(c):c(),a.movePads=function(c){c.preventDefault();var s,l=o.clone(r.pads(),!0),p=o.reduce(r.pads(),function(e,o,t){return o.group===i&&document.querySelectorAll('input.pad-to-move[name="'+o._id+'"]:checked').length>0&&(o.group=a.data.newGroup(),l[t]=o,e.push(o)),e},[]),d=function(r){e.request({method:"PUT",url:n.URLS.PAD+"/"+r._id,data:o.assign(r,{auth_token:t.token()})}).then(s,function(e){u.error({body:o.result(n.LANG,e.error)})})};(s=function(t){t&&(o.pull(r.groups()[i].pads,t.key),r.groups()[a.data.newGroup()].pads.push(t.key)),p.length?d(p.pop()):(r.pads(l),u.success({body:n.LANG.GROUP.INFO.PAD_MOVE_SUCCESS}),e.route("/mypads/group/"+a.data.newGroup()+"/view"))})()},a};var c={};return c.groups=function(t){var r=e("label.col-sm-4",{for:"group"},n.LANG.GROUP.MYGROUPS),u=function(){var r=o.map(t.selectedGroups,function(o){return e("option",{value:o._id},o.name)});return r.length>0?(r.splice(0,0,e("option")),e("select.form-control",{name:"group",required:!0,value:t.data.newGroup(),onchange:e.withAttr("value",t.data.newGroup)},r)):e("div",n.LANG.GROUP.INFO.PAD_MOVE_NOGROUP)}();return{label:r,icon:e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":n.LANG.GROUP.INFO.PAD_MOVE}),select:u}},c.pads=function(t){var n=[],u=e.route.param("group");return o.forEach(r.pads(),function(o){o.group===u&&n.push(e(".checkbox",[e("label",[e('input.pad-to-move[type="checkbox"]',{name:o._id,checked:"checked",onchange:function(){t.noSelectedPads(0===document.querySelectorAll("input.pad-to-move:checked").length)}}),o.name])]))}),n},c.form=function(o){var t=c.groups(o),r=c.pads(o),u=[e(".form-group",[t.label,t.icon,e(".col-sm-7",t.select)])];return o.selectedGroups.length>0&&u.push([e("div",[e("button.btn.btn-info.btn-sm",{onclick:function(e){e.preventDefault();var t=document.querySelectorAll("input.pad-to-move");[].forEach.call(t,function(e){e.checked=!0}),o.noSelectedPads(!1)}},n.LANG.GROUP.PAD.SELECT_ALL),e("span"," "),e("button.btn.btn-info.btn-sm",{onclick:function(e){e.preventDefault();var t=document.querySelectorAll("input.pad-to-move");[].forEach.call(t,function(e){e.checked=!1}),o.noSelectedPads(!0)}},n.LANG.GROUP.PAD.DESELECT_ALL)]),e("div",{class:o.noSelectedPads()?"h3":"hidden"},[e("b",n.LANG.GROUP.PAD.SELECT_AT_LEAST_ONE_PAD)]),r,e("input.btn.btn-success.pull-right",{form:"padmove-form",type:"submit",disabled:o.noSelectedPads(),value:n.LANG.ACTIONS.SAVE})]),e("form.form-horizontal",{id:"padmove-form",onsubmit:o.movePads},u)},c.main=function(o){var t="/mypads/group/"+o.group._id;return e("section",{class:"padmove user group-form"},[e("h2",[e("span",n.LANG.GROUP.PAD.MOVE_TITLE),e("a",{href:t+"/view",config:e.route,title:n.LANG.GROUP.VIEW},o.group.name)]),c.form(o)])},c.aside=function(){return e("section.user-aside",[e("h2",n.LANG.ACTIONS.HELP),e("article.well",e.trust(n.LANG.GROUP.PAD.MOVE_HELP))])},i.view=function(e){return a.view(c.main(e),c.aside(e))},i}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"../widgets/notification.js":42,"./layout.js":24,"lodash":49,"mithril":50}],30:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),t=require("../auth.js"),o=require("../configuration.js"),u=require("../widgets/notification.js"),i={};return i.controller=function(){if(!t.isAuthenticated())return o.unauthUrl(!0),r.route("/login");var i=r.route.param("pad"),n=r.route.param("group");window.confirm(o.LANG.GROUP.INFO.CHAT_HISTORY_REMOVE_SURE)?r.request({method:"DELETE",url:o.URLS.PAD+"/chathistory/"+i,data:{auth_token:t.token()}}).then(function(e){console.log(e),u.success({body:o.LANG.GROUP.INFO.CHAT_HISTORY_REMOVE_SUCCESS}),r.route("/mypads/group/"+n+"/view")},function(r){u.error({body:e.result(o.LANG,r.error)})}):r.route("/mypads/group/"+n+"/view")},i.view=function(){},i}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../widgets/notification.js":42,"lodash":49,"mithril":50}],31:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),u=require("../auth.js"),o=require("../configuration.js"),t=require("../model/group.js"),i=require("../widgets/notification.js"),n={};return n.controller=function(){if(!u.isAuthenticated())return o.unauthUrl(!0),r.route("/login");var n=r.route.param("pad"),a=r.route.param("group");window.confirm(o.LANG.GROUP.INFO.PAD_REMOVE_SURE)?r.request({method:"DELETE",url:o.URLS.PAD+"/"+n,data:{auth_token:u.token()}}).then(function(u){var s=t.pads();delete s[u.key],t.pads(s);var d=t.groups();e.pull(d[a].pads,n),t.groups(d),i.success({body:o.LANG.GROUP.INFO.PAD_REMOVE_SUCCESS}),r.route("/mypads/group/"+a+"/view")},function(r){i.error({body:e.result(o.LANG,r.error)})}):r.route("/mypads/group/"+a+"/view")},n.view=function(){},n}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"../widgets/notification.js":42,"lodash":49,"mithril":50}],32:[function(require,module,exports){
module.exports=function(){"use strict";var o=require("../configuration.js");return function(t,i){var r=window.location,n=r.protocol+"//"+r.host+r.pathname+"?/mypads/group/"+t,a=i?"/pad/view/"+i:"/view";window.prompt(o.LANG.GROUP.SHARE_LINK,n+a)}}.call(this);
},{"../configuration.js":3}],33:[function(require,module,exports){
module.exports=function(){"use strict";var i=require("mithril"),r=require("lodash"),e=require("js-base64").Base64.encode,t=require("../configuration.js"),n=require("../auth.js"),a=require("./layout.js"),s=require("../model/group.js"),o=require("./pad-mark.js"),u=require("./pad-share.js"),p=require("../helpers/expandPad.js"),d=require("../helpers/ready.js"),l={};l.controller=function(){var e={group:{},pad:{},sendPass:i.prop(!1),password:i.prop(""),showIframe:i.prop(!0)};e.isAuth=n.isAuthenticated(),e.isGuest=!e.isAuth,e.bookmarks=e.isAuth?n.userInfo().bookmarks.pads:[],e.gid=i.route.param("group"),e.pid=i.route.param("pad");var a=function(a){if(a)return i.route("/mypads");var o=function(){var a=e.isGuest?s.tmp():s;if(e.group=a.groups()[e.gid]||{},e.pad=a.pads()[e.pid],!e.pad)return i.route("/mypads");document.title=t.LANG.GROUP.PAD.PAD+" "+e.pad.name,document.title+=" - "+t.SERVER.title,e.isAdmin=function(){return!(!e.isAuth||!e.group.admins)&&r.includes(e.group.admins,n.userInfo()._id)}()};s.pads()[e.pid]?o():(e.isGuest=!0,s.fetchObject({group:e.gid,pad:e.pid},void 0,o))},o=function(){if(e.isAuth)return r.partial(s.fetch,a);var i={group:e.gid,pad:e.pid};return r.partial(s.fetchObject,i,void 0,a)}();return r.isEmpty(s.pads())?o():a(),e.submit=function(i){i.preventDefault(),s.fetchObject({group:e.gid,pad:e.pid},e.password(),function(i){if(i)return e.sendPass(!1);var r=e.isGuest?s.tmp():s;e.group=r.groups()[e.gid],e.pad=r.pads()[e.pid],e.sendPass(!0)})},e};var c={};return c.passForm=function(r){return i("form",{id:"password-form",config:d.inFrame,onsubmit:r.submit},[i("label.block",{for:"mypadspassword"},t.LANG.USER.PASSWORD),i("input.block",{type:"password",required:!0,placeholder:t.LANG.USER.UNDEF,value:r.password(),oninput:i.withAttr("value",r.password)}),i("input.ok.block",{form:"password-form",type:"submit",value:t.LANG.USER.OK})])},c.pad=function(r){var a=n.userInfo(),s=r.sendPass()?"&mypadspassword="+e(r.password()):"",o=n.isAuthenticated()?"&auth_token="+n.token():"",u="",d="";if(a)if((a.useLoginAndColorInPads||t.SERVER.useFirstLastNameInPads)&&a.color&&(d="&userColor="+a.color),t.SERVER.useFirstLastNameInPads){var l=a.firstname?a.firstname:"",c=a.lastname?a.lastname:"";u="&userName="+l+" "+c}else a.useLoginAndColorInPads&&(u=a.padNickname?"&userName="+a.padNickname:"&userName="+a.login);var f=t.URLS.RAWBASE.replace("mypads/","")+"p/"+r.pad._id+"?"+s+o+d+u;return[i("p.text-right",[i("a.btn.btn-default.expand-toggle",{href:"#",title:t.LANG.GROUP.PAD.EXPAND,onclick:function(i){return i.preventDefault(),p.isExpanded()?p.reduceIframe():p.expandIframe(),!0}},[i("i.glyphicon.glyphicon-resize-full")]),i("a.btn.btn-default.new-window",{href:f,target:"_blank",title:t.LANG.GROUP.PAD.OPEN_TAB,onclick:function(){return p.reduceIframe(!1),r.showIframe(!1),!0}},[i("i.glyphicon.glyphicon-new-window")])]),function(){if(r.showIframe())return i("iframe",{src:f})}()]},c.main=function(e){var a=function(){return e.pad?"private"===e.pad.visibility:e.group.visibility&&"private"===e.group.visibility}();if(!e.isAdmin&&a&&!e.sendPass())return c.passForm(e);var s="/mypads/group/"+e.gid,p=t.LANG.GROUP;return i("section",{class:"group"},[i(".btn-group.pull-right",[function(){var r=e.group&&e.group.visibility&&"restricted"!==e.group.visibility,n=e.pad.visibility&&"restricted"!==e.pad.visibility;if(r||n)return i("button.btn.btn-default",{title:t.LANG.GROUP.SHARE,onclick:u.bind(e,e.gid,e.pad._id)},[i("i.glyphicon glyphicon-link"),i("span"," "+t.LANG.GROUP.SHARE)])}(),function(){if(e.isAdmin)return i("a.btn.btn-default",{href:s+"/pad/edit/"+e.pad._id,config:i.route,title:t.LANG.MENU.CONFIG},[i("i.glyphicon glyphicon-wrench"),i("span"," "+t.LANG.MENU.CONFIG)])}(),function(){if(e.isAdmin)return i("a.btn.btn-danger",{href:s+"/pad/remove/"+e.pad._id,config:i.route,title:t.LANG.GROUP.REMOVE},[i("i.glyphicon glyphicon-trash"),i("span"," "+t.LANG.GROUP.REMOVE)])}()]),i("h2",[function(){if(n.isAuthenticated()){var t=r.includes(e.bookmarks,e.pad._id);return i("button.btn.btn-link.btn-lg",{title:t?p.UNMARK:p.BOOKMARK,onclick:function(){o(e.pad)}},[i("i",{class:"glyphicon glyphicon-star"+(t?"":"-empty"),title:t?p.UNMARK:p.BOOKMARK})])}}(),i("span",t.LANG.GROUP.PAD.PAD+" "+e.pad.name),function(){if(e.group&&e.group.name)return[i("br"),i("span.h3",[" (",t.LANG.GROUP.PAD.FROM_GROUP+" ",i("a",{href:s+"/view",config:i.route,title:t.LANG.GROUP.VIEW},e.group.name),")"])]}()]),i("section.pad",c.pad(e))])},c.aside=function(){return i("section.user-aside",[i("h2",t.LANG.ACTIONS.HELP),i("article.well",i.trust(t.LANG.GROUP.PAD.VIEW_HELP))])},l.view=function(i){return a.view(c.main(i),c.aside())},l}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/expandPad.js":5,"../helpers/ready.js":8,"../model/group.js":10,"./layout.js":24,"./pad-mark.js":28,"./pad-share.js":32,"js-base64":47,"lodash":49,"mithril":50}],34:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("lodash"),t=require("../configuration.js"),o=require("../auth.js"),s=require("../helpers/form.js"),i=require("../widgets/notification.js"),n=require("./layout.js"),u=require("./user.js"),a={};a.controller=function(){o.isAuthenticated()&&e.route("/logout"),document.title=t.LANG.USER.PASSRECOVER+" - "+t.SERVER.title;var n={token:e.route.param("token")},u=n.token?["password","passwordConfirm"]:["email"];s.initFields(n,u);var a=function(e){i.error({body:r.result(t.LANG,e.error)})};return n.submit=function(r){r.preventDefault(),e.request({method:"POST",url:t.URLS.PASSRECOVER,data:n.data}).then(function(){i.success({body:t.LANG.USER.INFO.PASSRECOVER_SUCCESS})},a)},n.changePass=function(r){r.preventDefault(),e.request({method:"PUT",url:t.URLS.PASSRECOVER+"/"+n.token,data:n.data}).then(function(){e.route("/login"),i.success({body:t.LANG.USER.INFO.CHANGEPASS_SUCCESS})},a)},n};var l={};return l.form=function(r){var o=u.view.field.email(r);return e("form",{id:"passrec-form",onsubmit:r.submit},[e("fieldset",[e(".form-group",[o.label,o.input])]),e("input.btn.btn-success.pull-right.col-sm-12",{form:"passrec-form",type:"submit",value:t.LANG.USER.OK})])},l.formChange=function(r){var o=u.view.field.password(r),s=u.view.field.passwordConfirm(r);return o.label.attrs.class="col-sm-4",s.label.attrs.class="col-sm-4",e("form.form-horizontal",{id:"passchange-form",onsubmit:r.changePass},[e("fieldset",[e(".form-group",[o.label,e(".col-sm-7",o.input)]),e(".form-group",[s.label,e(".col-sm-7",s.input)])]),e("input.btn.btn-success.pull-right",{form:"passchange-form",type:"submit",value:t.LANG.USER.OK})])},l.main=function(r){return e("section",{class:"user"},[e("h2",t.LANG.USER.PASSRECOVER),r.token?l.formChange(r):l.form(r)])},a.view=function(e){return n.view(l.main(e),u.view.aside.common(e))},a}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../widgets/notification.js":42,"./layout.js":24,"./user.js":37,"lodash":49,"mithril":50}],35:[function(require,module,exports){
module.exports=function(){var e=require("lodash"),o=require("mithril"),r=require("../configuration.js"),a=require("../helpers/form.js"),t=require("../model/group.js"),n=require("../widgets/notification.js"),i=require("../auth.js"),s=require("./layout.js"),l=require("./user.js"),u=require("../helpers/ready.js"),c={};c.controller=function(){var s={adminView:o.prop(!1)};if(s.profileView=o.prop("/myprofile"===o.route()),document.title=s.profileView()?r.LANG.USER.PROFILE:r.LANG.USER.SUBSCRIBE,document.title+=" - "+r.SERVER.title,s.profileView()&&!i.isAuthenticated())return r.unauthUrl(!0),o.route("/login");r.SERVER.useLdap&&s.profileView()?s.fields=["organization","lang","color"]:s.fields=["login","password","passwordConfirm","email","firstname","lastname","padNickname","organization","lang","color"],s.profileView()&&s.fields.push("passwordCurrent","useLoginAndColorInPads"),a.initFields(s,s.fields),s.profileView()?e.map(s.fields,function(r){e.startsWith(r,"password")||(s.data[r]=o.prop(i.userInfo()[r]))}):s.data.lang=o.prop(r.USERLANG);var l=function(o){return n.error({body:e.result(r.LANG,o.error)})};return s.submit={},s.submit.subscribe=function(e){e.preventDefault(),s.data.password()!==s.data.passwordConfirm()?(n.warning({body:r.LANG.USER.ERR.PASSWORD_MISMATCH}),document.querySelector('input[name="passwordConfirm"]').focus()):o.request({method:"POST",url:r.URLS.USER,data:s.data}).then(function(e){if(!e.value.active){var a=r.LANG.USER.AUTH.SUBSCRIBE_CONFIRM_SUCCESS;return o.route("/"),n.success({body:a})}i.userInfo(e.value),n.success({body:r.LANG.USER.AUTH.SUBSCRIBE_SUCCESS});var t=i.userInfo().lang;t!==r.USERLANG&&r.updateLang(t),o.request({method:"POST",url:r.URLS.LOGIN,data:s.data}).then(function(e){localStorage.setItem("token",e.token),o.route("/")},l)},l)},s.submit.profileSave=function(a){a.preventDefault();var t=function(){var e=s.data.password();e&&e===s.data.passwordConfirm()||s.data.password(s.data.passwordCurrent())};o.request({method:"POST",url:r.URLS.CHECK,data:{login:i.userInfo().login,password:s.data.passwordCurrent,auth_token:i.token()}}).then(function(){r.SERVER.useLdap?(s.data.login=i.userInfo().login,s.data.email=i.userInfo().email,s.data.firstname=i.userInfo().firstname,s.data.lastname=i.userInfo().lastname,s.data.padNickname=i.userInfo().padNickname,s.data.password=s.data.passwordCurrent):t(),o.request({method:"PUT",url:r.URLS.USER+"/"+i.userInfo().login,data:e.assign(s.data,{auth_token:i.token()})}).then(function(e){i.userInfo(e.value),n.success({body:r.LANG.USER.AUTH.PROFILE_SUCCESS})},l)},l)},s.removeAccount=function(){var e=window.prompt(r.LANG.USER.INFO.REMOVE_ACCOUNT_SURE);if(e){var a=i.userInfo().login;o.request({method:"POST",url:r.URLS.CHECK,data:{login:a,password:e,auth_token:i.token()}}).then(function(){o.request({method:"DELETE",url:r.URLS.USER+"/"+a,data:{auth_token:i.token()}}).then(function(){localStorage.removeItem("token"),i.userInfo(null),t.init(),document.title=r.SERVER.title,o.route("/"),n.success({body:r.LANG.USER.INFO.REMOVE_ACCOUNT_SUCCESS})},l)},l)}},s};var d={};return c.views=d,d.removeAccount=function(e){return[o("button.btn.btn-danger",{onclick:e.removeAccount},r.LANG.USER.REMOVE_ACCOUNT),o("i",{class:"glyphicon glyphicon-info-sign mp-tooltip mp-tooltip-left","data-msg":r.LANG.USER.INFO.REMOVE_ACCOUNT})]},d.form=function(t){var n=e.reduce(t.fields,function(e,o){return e[o]=l.view.field[o](t),e},{});t.adminView()&&(delete n.password.input.attrs.required,delete n.passwordConfirm.input.attrs.required);var i;if(r.SERVER.useLdap&&t.profileView()?i=[o(".form-group",[n.lang.label,n.lang.icon,o(".col-sm-7",n.lang.select)])]:(n.email.label.attrs.class="col-sm-4",i=[o(".form-group",[n.email.label,o(".col-sm-7",n.email.input)]),o(".form-group",[n.password.label,o(".col-sm-7",n.password.input)]),o(".form-group",[n.passwordConfirm.label,o(".col-sm-7",n.passwordConfirm.input)]),o(".form-group",[n.lang.label,o(".col-sm-7",n.lang.select)])]),t.profileView()){var s=l.view.field.passwordCurrent(t);s.input.attrs.config=a.focusOnInit,i.splice(1,0,o(".form-group",[s.label,o(".col-sm-7",s.input)])),i.push(o(".form-group",[o(".col-sm-7.col-sm-offset-4",[o(".checkbox",[n.useLoginAndColorInPads.label])])]))}else if(!t.adminView()){var c=n.login;c.input.attrs.config=a.focusOnInit,c.input.attrs.maxlength=40,c.label.attrs.class="col-sm-4",i.splice(0,0,o(".form-group",[c.label,o(".col-sm-7",[c.input])]))}var m,p=r.LANG.USER,f=t.profileView()||t.adminView();return r.SERVER.useLdap&&t.profileView()?(n.organization.label.attrs.class="col-sm-4",n.color.label.attrs.class="col-sm-4",m=[o("legend.opt",r.LANG.USER.OPTIONAL_FIELDS),o(".form-group",[n.organization.label,o(".col-sm-7",n.organization.input)]),o(".form-group",[n.color.label,o(".col-sm-7",n.color.input)])]):(n.firstname.label.attrs.class="col-sm-4",n.lastname.label.attrs.class="col-sm-4",n.padNickname.label.attrs.class="col-sm-4",n.organization.label.attrs.class="col-sm-4",n.color.label.attrs.class="col-sm-4",m=[o("legend.opt",r.LANG.USER.OPTIONAL_FIELDS),o(".form-group",[n.firstname.label,o(".col-sm-7",n.firstname.input)]),o(".form-group",[n.lastname.label,o(".col-sm-7",n.lastname.input)]),o(".form-group",[n.padNickname.label,o(".col-sm-7",n.padNickname.input)]),o(".form-group",[n.organization.label,o(".col-sm-7",n.organization.input)]),o(".form-group",[n.color.label,o(".col-sm-7",n.color.input)])]),o("form.form-horizontal",{id:"subscribe-form",onsubmit:f?t.submit.profileSave:t.submit.subscribe},[o("div",{id:"hide-when-ready",config:u.checkLoop},r.LANG.USER.PLEASE_WAIT),o("fieldset.show-when-ready.hidden",[o("legend",r.LANG.USER.MANDATORY_FIELDS),o("div",i)]),o("fieldset.show-when-ready.hidden",m),o(".form-group.show-when-ready.hidden",[o(".col-sm-12",[o("input.btn.btn-success pull-right",{form:"subscribe-form",type:"submit",value:f?r.LANG.ACTIONS.SAVE:p.REGISTER}),t.profileView()?d.removeAccount(t):""])])])},d.main=function(e){var a=[d.form(e)];return e.profileView()?a.splice(0,0,o("h2",r.LANG.USER.PROFILE+" : "+i.userInfo().login)):a.splice(0,0,o("h2",r.LANG.USER.SUBSCRIBE)),o("section",{class:"user"},a)},c.view=function(e){return s.view(d.main(e),e.profileView()?l.view.aside.profile(e):l.view.aside.common(e))},c}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/form.js":7,"../helpers/ready.js":8,"../model/group.js":10,"../widgets/notification.js":42,"./layout.js":24,"./user.js":37,"lodash":49,"mithril":50}],36:[function(require,module,exports){
module.exports=function(){"use strict";var e=require("mithril"),t=require("lodash"),n=require("../configuration.js"),i=require("../auth.js"),r=require("../model/group.js"),o=require("./layout.js"),u=require("../widgets/notification.js"),s=require("../widgets/tag.js"),l=require("../helpers/form.js"),a=require("../helpers/cleanupXss.js"),c={};c.invite=function(o,s){var l={invite:o.isInvite,gid:o.group._id,loginsOrEmails:o.tag.current,auth_token:i.token()};e.request({method:"POST",url:n.URLS.GROUP+"/invite",data:l}).then(function(e){var t,i=o.isInvite?"INVITE_USER":"ADMIN_SHARE";e.present.length>0&&(t=n.LANG.GROUP[i].SUCCESS+a.cleanup(e.present.join(", ")),u.success({body:t})),e.absent.length>0&&(t=n.LANG.GROUP[i].FAILURE+a.cleanup(e.absent.join(", ")),u.warning({body:t})),0===e.absent.length&&0===e.present.length&&u.success({body:n.LANG.NOTIFICATION.SUCCESS_GENERIC}),r.fetch(function(){s&&s(e)})},function(e){u.error({body:t.result(n.LANG,e.error)})})},c.controller=function(){if(!i.isAuthenticated())return n.unauthUrl(!0),e.route("/login");var o=i.userInfo(),u={};u.isInvite="invite"===e.route.param("action");var l=function(){var i=e.route.param("group");u.group=r.groups()[i];var l=r.users();l=t.reduce(l,function(e,t){return e.byId[t._id]=t,e.byLogin[t.login]=t,e.byEmail[t.email]=t,e},{byId:{},byLogin:{},byEmail:{}}),u.users=t.merge(l.byLogin,l.byEmail);var a=t(l.byId).pick(u.isInvite?u.group.users:u.group.admins).values().pluck("login").value();u.tag=new s.controller({name:"user-invite",label:n.LANG.GROUP.INVITE_USER.USERS_SELECTION,current:a,placeholder:n.LANG.GROUP.INVITE_USER.PLACEHOLDER,tags:t.pull(t.keys(u.users),o.login,o.email)})};return t.isEmpty(r.groups())?r.fetch(l):l(),u.userlistAdd=function(e){var n=o.userlists[e];u.tag.current=t.union(u.tag.current,t.pluck(n.users,"login"))},u.submit=function(t){t.preventDefault();var n=function(t){e.route("/mypads/group/"+t.value._id+"/view")};c.invite(u,n)},u};var g={};return g.userlistField=function(r){return e("div",[e(".form-group",[e("label.col-sm-4",{for:"userlists"},n.LANG.MENU.USERLIST),e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":n.LANG.USERLIST.INFO.USER_INVITE}),e(".col-sm-7",e("select.form-control",{name:"userlists",onchange:e.withAttr("value",r.userlistAdd)},t.map(t.pairs(i.userInfo().userlists),function(t){return e("option",{value:t[0]},t[1].name)}).concat(e("option",{selected:!0,disabled:!0,hidden:!0,value:""}))))])])},g.userField=function(t){var i=s.views.input(t);return i.attrs.config=l.focusOnInit,e("div.tag",[e(".form-group",[e("label.col-sm-4",{for:t.name},t.label),e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign tag","data-msg":n.LANG.GROUP.INVITE_USER.INPUT_HELP}),e(".col-sm-7",[e(".input-group",[i,e("span.input-group-btn",e("button.btn.btn-default",{type:"button",onclick:function(){t.add(document.getElementById(t.name+"-input"))}},n.LANG.USER.OK))]),s.views.datalist(t)])]),e(".form-group",[e("label.col-sm-4",n.LANG.GLOBAL.OR),e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign tag","data-msg":n.LANG.USERLIST.FIELD.USERSAREA_HELP}),e(".col-sm-7",[e("textarea.form-control",{name:"usersArea",placeholder:n.LANG.USERLIST.FIELD.USERSAREA_PLACEHOLDER}),e("button.btn.btn-default.pull-right",{type:"button",onclick:function(){t.addMultiple(document.querySelector("textarea[name=usersArea]"))}},n.LANG.USER.OK)])])])},g.form=function(t){var i=n.LANG.GROUP;return e("form.form-horizontal",{id:"group-form",onsubmit:t.submit},[e("fieldset",[e("legend",i.INVITE_USERLIST),e("div",g.userlistField(t))]),e("fieldset",[e("legend",t.isInvite?i.INVITE_USER.IU:i.ADMIN_SHARE.AS),e("div",g.userField(t.tag))]),e("fieldset",[e("legend",n.LANG.GROUP.INVITE_USER.USERS_SELECTED),e("div",s.views.tagslist(t.tag))]),e("input.btn.btn-success.pull-right",{form:"group-form",type:"submit",value:n.LANG.ACTIONS.SAVE})])},g.main=function(t){return e("section",{class:"user group-form"},[e("h2",n.LANG.GROUP.GROUP+" "+t.group.name),g.form(t)])},g.aside=function(t){var i=n.LANG.GROUP;return e("section.user-aside",[e("h2",n.LANG.ACTIONS.HELP),e("article.well",[e("h3",t.isInvite?i.INVITE_USER.IU:i.ADMIN_SHARE.AS),e("section",e.trust(n.LANG.GROUP.INVITE_USER.HELP))])])},c.view=function(e){return o.view(g.main(e),g.aside(e))},c}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/cleanupXss.js":4,"../helpers/form.js":7,"../model/group.js":10,"../widgets/notification.js":42,"../widgets/tag.js":43,"./layout.js":24,"lodash":49,"mithril":50}],37:[function(require,module,exports){
module.exports=function(){var i=require("lodash"),e=require("mithril"),n=require("../configuration.js"),a=require("../helpers/form.js"),o={};return o.view={},o.view.icon={},o.view.icon.optional=function(){return e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":n.LANG.USER.INFO.OPTIONAL})},o.view.icon.firstname=o.view.icon.optional,o.view.icon.lastname=o.view.icon.optional,o.view.icon.organization=o.view.icon.optional,o.view.icon.login=function(i){return a.icon(i,"login",n.LANG.USER.INFO.LOGIN,n.LANG.USER.ERR.LOGIN)},o.view.icon.password=function(i,a){var o={password:n.LANG.USER.INFO.PASSWORD_BEGIN+n.SERVER.passwordMin+" "+n.LANG.GLOBAL.AND+" "+n.SERVER.passwordMax+n.LANG.USER.INFO.PASSWORD_END,passwordConfirm:n.LANG.USER.INFO.PASSWORD_CHECK,passwordCurrent:n.LANG.USER.INFO.PASSWORD_CURRENT},t=["glyphicon glyphicon-exclamation-sign"];return i.valid[a]()&&(t=["glyphicon glyphicon-info-sign"]),t.push("mp-tooltip"),e("i",{class:t.join(" "),"data-msg":o[a]})},o.view.icon.email=function(i){return a.icon(i,"email",n.LANG.USER.INFO.EMAIL,n.LANG.USER.ERR.EMAIL)},o.view.icon.color=function(i){return a.icon(i,"color",n.LANG.USER.INFO.COLOR,n.LANG.USER.ERR.COLOR)},o.view.icon.padNickname=function(i){return a.icon(i,"padNickname",n.LANG.USER.INFO.PAD_NICKNAME)},o.view.field={},o.view.field.login=function(e){var t=a.field(e,"login",n.LANG.USER.USERNAME,o.view.icon.login(e));return i.assign(t.input.attrs,{type:"text",placeholder:n.LANG.USER.USERNAME,required:!0}),t},o.view.field._pass=function(i,t,r,l){var s=n.SERVER.passwordMin,c=n.SERVER.passwordMax,N={type:"password",name:t,placeholder:n.LANG.USER.UNDEF,required:!i.profileView||!i.profileView(),oninput:a.handleField.bind(null,i,l)};n.SERVER.useLdap||(N.minlength=s,N.maxlength=c,N.pattern=".{"+s+","+c+"}");var d=o.view.icon.password(i,t);return{label:e("label.col-sm-4",{for:t},[r,d]),input:e("input.form-control",N),icon:d}},o.view.field.password=function(i){return o.view.field._pass(i,"password",n.LANG.USER.PASSWORD)},o.view.field.passwordConfirm=function(i){var e=function(i){return i.data.password()===i.data.passwordConfirm()};return o.view.field._pass(i,"passwordConfirm",n.LANG.USER.PASSCHECK,e)},o.view.field.passwordCurrent=function(e){var a=o.view.field._pass(e,"passwordCurrent",n.LANG.USER.PASSCURRENT);return i.assign(a.label.attrs,{style:{fontWeight:"bold"}}),i.assign(a.input.attrs,{required:!0}),a},o.view.field.email=function(e){var t=a.field(e,"email",n.LANG.USER.EMAIL,o.view.icon.email(e));return i.assign(t.input.attrs,{type:"email",placeholder:n.LANG.USER.EMAIL_SAMPLE,required:!0,value:e.data.email()||""}),t},o.view.field.lang=function(a){var o=e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":n.LANG.USER.INFO.LANG});return{label:e("label.col-sm-4",{for:"lang"},[n.LANG.USER.LANG,o]),select:e("select.form-control",{name:"lang",required:!0,value:a.data.lang(),onchange:e.withAttr("value",a.data.lang)},i.reduce(n.SERVER.languages,function(i,n,a){return i.push(e("option",{value:a},n)),i},[]))}},o.view.field.useLoginAndColorInPads=function(i){var a=n.LANG.USER.INFO.USELOGINANDCOLORINPADS,o=n.LANG.USER.USELOGINANDCOLORINPADS;return n.SERVER.useFirstLastNameInPads&&(a=n.LANG.USER.INFO.USECOLORINPADS,o=n.LANG.USER.USECOLORINPADS),{label:e("label",[e("input",{type:"checkbox",name:"useLoginAndColorInPads",checked:i.data.useLoginAndColorInPads(),onchange:e.withAttr("checked",i.data.useLoginAndColorInPads)}),o,e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign","data-msg":a})])}},o.view.field.firstname=function(e){var t=a.field(e,"firstname",n.LANG.USER.FIRSTNAME,o.view.icon.firstname(e));return i.assign(t.input.attrs,{type:"text",placeholder:n.LANG.USER.FIRSTNAME}),t},o.view.field.lastname=function(e){var t=a.field(e,"lastname",n.LANG.USER.LASTNAME,o.view.icon.lastname(e));return i.assign(t.input.attrs,{type:"text",placeholder:n.LANG.USER.LASTNAME}),t},o.view.field.padNickname=function(e){var t=a.field(e,"padNickname",n.LANG.USER.PAD_NICKNAME,o.view.icon.padNickname(e));return i.assign(t.input.attrs,{type:"text",placeholder:n.LANG.USER.PAD_NICKNAME}),t},o.view.field.organization=function(e){var t=a.field(e,"organization",n.LANG.USER.ORGANIZATION,o.view.icon.organization(e));return i.assign(t.input.attrs,{type:"text",placeholder:n.LANG.USER.ORGANIZATION}),t},o.view.field.color=function(e){var t=a.field(e,"color",n.LANG.USER.COLOR,o.view.icon.color(e));return i.assign(t.input.attrs,{type:"color",placeholder:n.LANG.USER.COLOR_SAMPLE,maxlength:7,pattern:"#[0-9,a-f]{6}"}),t},o.view.aside={common:function(){return e("section.user-aside",[e("h2",n.SERVER.title),e("article.well",e.trust(n.LANG.GLOBAL.DESCRIPTION))])},profile:function(){return e("section.user-aside",[e("h2",n.LANG.ACTIONS.HELP),e("article.well",e.trust(n.LANG.USER.HELP.PROFILE))])}},o}.call(this);
},{"../configuration.js":3,"../helpers/form.js":7,"lodash":49,"mithril":50}],38:[function(require,module,exports){
module.exports=function(){"use strict";var e=require("mithril"),t=require("lodash"),r=require("../configuration.js"),n=require("../auth.js"),i=require("./layout.js"),s=require("../widgets/notification.js"),u=require("../widgets/tag.js"),l=require("../helpers/form.js"),o=require("../model/group.js"),a=require("../helpers/cleanupXss.js"),S={};S.controller=function(){if(!n.isAuthenticated())return r.unauthUrl(!0),e.route("/login");var i={};i.addView=e.prop("/myuserlists/add"===e.route()),i.fields=["name"],l.initFields(i,i.fields);var S=function(){var s=n.userInfo(),l=[];i.addView()||(i.key=e.route.param("key"),i.userlist=s.userlists[i.key],l=t.pluck(i.userlist.users,"login"),i.data.name(i.userlist.name));var o=t.reduce(s.userlists,function(e,r){return t.each(r.users,function(r){t.includes(e,r.login)||(e.push(r.login),e.push(r.email))}),e},[]);i.tag=new u.controller({name:"users",label:r.LANG.GROUP.INVITE_USER.USERS_SELECTION,current:l,placeholder:r.LANG.GROUP.INVITE_USER.PLACEHOLDER,tags:o}),document.title=i.addView()?r.LANG.USERLIST.ADD:r.LANG.USERLIST.EDIT,document.title+=" - "+r.SERVER.title};return t.isEmpty(o.groups())?o.fetch(S):S(),i.submit=function(u){u.preventDefault();var l={method:"POST",url:r.URLS.USERLIST,data:{name:i.data.name(),loginsOrEmails:i.tag.current,auth_token:n.token()}},o=r.LANG.USERLIST.INFO.ADD_SUCCESS;i.addView()||(l.method="PUT",l.url+="/"+i.key,l.data.ulistid=i.key,o=r.LANG.USERLIST.INFO.EDIT_SUCCESS),e.request(l).then(function(t){var i=n.userInfo();i.userlists=t.value,n.userInfo(i),s.success({body:o});var u;t.present.length>0&&(u=r.LANG.USERLIST.INFO.USER_SUCCESS+a.cleanup(t.present.join(", ")),s.success({body:u})),t.absent.length>0&&(u=r.LANG.USERLIST.INFO.USER_FAILURE+a.cleanup(t.absent.join(", ")),s.warning({body:u})),e.route("/myuserlists")},function(e){s.error({body:t.result(r.LANG,e.error)})})},i};var E={};return E.field={},E.field.name=function(e){var n=l.field(e,"name",r.LANG.USERLIST.FIELD.NAME,l.icon(e,"name",r.LANG.USERLIST.INFO.NAME,r.LANG.GROUP.ERR.NAME));return t.assign(n.input.attrs,{placeholder:r.LANG.USERLIST.INFO.NAME,required:!0,maxlength:40,config:l.focusOnInit}),n},E.field.users=function(t){return e("div.tag",[e(".form-group",[e("label.col-sm-4",{for:t.name},[t.label,e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign tag","data-msg":r.LANG.USERLIST.FIELD.USERS_HELP})]),e(".col-sm-7",[e(".input-group",[u.views.input(t),e("span.input-group-btn",e("button.btn.btn-default",{type:"button",onclick:function(){t.add(document.getElementById(t.name+"-input"))}},r.LANG.USER.OK))]),u.views.datalist(t)])]),e(".form-group",[e("label.col-sm-4",[r.LANG.GLOBAL.OR,e("i",{class:"mp-tooltip glyphicon glyphicon-info-sign tag","data-msg":r.LANG.USERLIST.FIELD.USERSAREA_HELP})]),e(".col-sm-7",[e("textarea.form-control",{name:"usersArea",placeholder:r.LANG.USERLIST.FIELD.USERSAREA_PLACEHOLDER}),e("button.btn.btn-default.pull-right",{type:"button",onclick:function(){t.addMultiple(document.querySelector("textarea[name=usersArea]"))}},r.LANG.USER.OK)])])])},E.form=function(t){var n=E.field.name(t);n.label.attrs.class="col-sm-4";var i=[e(".form-group",[n.label,e(".col-sm-7",n.input)])];return e("form.form-horizontal",{id:"ulist-form",onsubmit:t.submit},[e("fieldset",[e("legend",r.LANG.USERLIST.USERLIST),e("div",i)]),e("fieldset",[e("legend",r.LANG.USERLIST.FIELD.USERS),e("div",E.field.users(t.tag))]),e("fieldset",[e("legend",r.LANG.GROUP.INVITE_USER.USERS_SELECTED),e("div",u.views.tagslist(t.tag))]),e("input.btn.btn-success.pull-right",{form:"ulist-form",type:"submit",value:r.LANG.ACTIONS.SAVE})])},E.main=function(t){return e("section",[e("h2",t.addView()?r.LANG.USERLIST.ADD:r.LANG.USERLIST.EDIT),E.form(t)])},E.aside=function(){return e("section.user-aside",[e("h2",r.LANG.ACTIONS.HELP),e("article.well",e.trust(r.LANG.USERLIST.FORM_HELP))])},S.view=function(e){return i.view(E.main(e),E.aside(e))},S}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../helpers/cleanupXss.js":4,"../helpers/form.js":7,"../model/group.js":10,"../widgets/notification.js":42,"../widgets/tag.js":43,"./layout.js":24,"lodash":49,"mithril":50}],39:[function(require,module,exports){
module.exports=function(){"use strict";var r=require("mithril"),e=require("lodash"),t=require("../auth.js"),u=require("../configuration.js"),i=require("../widgets/notification.js"),o={};return o.controller=function(){if(!t.isAuthenticated())return u.unauthUrl(!0),r.route("/login");var o=r.route.param("key");window.confirm(u.LANG.USERLIST.INFO.REMOVE_SURE)?r.request({method:"DELETE",url:u.URLS.USERLIST+"/"+o,data:{auth_token:t.token()}}).then(function(){var e=t.userInfo();delete e.userlists[o],t.userInfo(e),i.success({body:u.LANG.USERLIST.INFO.REMOVE_SUCCESS}),r.route("/myuserlists")},function(r){i.error({body:e.result(u.LANG,r.error)})}):r.route("/myuserlists")},o.view=function(){},o}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../widgets/notification.js":42,"lodash":49,"mithril":50}],40:[function(require,module,exports){
module.exports=function(){"use strict";var t=require("mithril"),e=require("lodash"),r=require("../configuration.js"),i=require("../auth.js"),n=require("./layout.js"),u=require("../model/group.js"),s={};s.controller=function(){if(!i.isAuthenticated())return r.unauthUrl(!0),t.route("/login");document.title=r.LANG.MENU.USERLIST+" - "+r.SERVER.title;var n={},s=function(){n.userlists=i.userInfo().userlists};return e.isEmpty(u.groups())?u.fetch(s):s(),n};var o={};return o.userlist=function(i,n,u){var s="/myuserlists/"+u,o=[t("a.btn.btn-default.btn-xs",{href:s+"/edit",config:t.route,title:r.LANG.GROUP.EDIT},[t("i.glyphicon.glyphicon-pencil")]),t("a.btn.btn-default.btn-xs",{href:s+"/remove",config:t.route,title:r.LANG.GROUP.REMOVE},[t("i.glyphicon.glyphicon-trash.text-danger")])];return t("tr",[t("th",t("a",{href:s+"/edit",config:t.route,title:r.LANG.GROUP.EDIT},n.name)),t("td",e.size(n.uids)),t("td.text-right",o)])},o.main=function(i){var n=e.reduce(i.userlists,function(t,e,r){return t.push(o.userlist(i,e,r)),t},[]);return t("section",[t("h2",[t("span",r.LANG.MENU.USERLIST),t("a.btn.btn-warning.pull-right",{href:"/myuserlists/add",config:t.route},[t("span",r.LANG.USERLIST.ADD)])]),t("section.panel.panel-default",t("table.table.table-stripped",[t("thead",t("tr",[t("th",{scope:"col"}),t("th",{scope:"col"},r.LANG.USERLIST.FIELD.USERS),t("th",{scope:"col"})])),t("tbody",n)]))])},o.aside=function(){return t("section.user-aside",[t("h2",r.LANG.ACTIONS.HELP),t("article.well",t.trust(r.LANG.USERLIST.HELP))])},s.view=function(t){return n.view(o.main(t),o.aside(t))},s}.call(this);
},{"../auth.js":2,"../configuration.js":3,"../model/group.js":10,"./layout.js":24,"lodash":49,"mithril":50}],41:[function(require,module,exports){
module.exports=function(){var e=require("mithril"),r=require("./modules/home.js"),s=require("./modules/login.js"),o=require("./modules/logout.js"),u=require("./modules/passrecover.js"),m=require("./modules/accountconfirm.js"),d=require("./modules/subscribe.js"),i=require("./modules/bookmark.js"),p=require("./modules/userlist.js"),a=require("./modules/userlist-form.js"),l=require("./modules/userlist-remove.js"),t=require("./modules/group.js"),g=require("./modules/group-view.js"),n=require("./modules/group-form.js"),y=require("./modules/group-remove.js"),q=require("./modules/pad-form.js"),j=require("./modules/pad-remove.js"),v=require("./modules/pad-remove-chat-history.js"),c=require("./modules/pad-view.js"),k=require("./modules/pad-move.js"),f=require("./modules/user-invitation.js"),h=require("./modules/admin.js"),b=require("./modules/admin-logout.js"),w=require("./modules/admin-users.js"),x=require("./modules/admin-users-form.js"),B=require("./modules/admin-users-remove.js"),E={model:{}};E.model.routes={"/":r,"/login":s,"/logout":o,"/passrecover":u,"/passrecover/:token":u,"/accountconfirm/:token":m,"/subscribe":d,"/myprofile":d,"/mybookmarks":i,"/myuserlists":p,"/myuserlists/add":a,"/myuserlists/:key/edit":a,"/myuserlists/:key/remove":l,"/mypads":t,"/mypads/group":t,"/mypads/group/list":t,"/mypads/group/add":n,"/mypads/group/:key/view":g,"/mypads/group/:key/edit":n,"/mypads/group/:key/remove":y,"/mypads/group/:group/pad/add":q,"/mypads/group/:group/pad/move":k,"/mypads/group/:group/pad/edit/:pad":q,"/mypads/group/:group/pad/remove/:pad":j,"/mypads/group/:group/pad/remove/chat/history/:pad":v,"/mypads/group/:group/pad/view/:pad":c,"/mypads/group/:group/user/:action":f,"/admin":h,"/admin/logout":b,"/admin/users":w,"/admin/users/:login/edit":x,"/admin/users/:login/remove":B};var I=document.getElementById("mypads");return E.init=function(){e.route(I,"/",E.model.routes)},E}.call(this);
},{"./modules/accountconfirm.js":11,"./modules/admin-logout.js":12,"./modules/admin-users-form.js":13,"./modules/admin-users-remove.js":14,"./modules/admin-users.js":15,"./modules/admin.js":16,"./modules/bookmark.js":17,"./modules/group-form.js":18,"./modules/group-remove.js":20,"./modules/group-view.js":21,"./modules/group.js":22,"./modules/home.js":23,"./modules/login.js":25,"./modules/logout.js":26,"./modules/pad-form.js":27,"./modules/pad-move.js":29,"./modules/pad-remove-chat-history.js":30,"./modules/pad-remove.js":31,"./modules/pad-view.js":33,"./modules/passrecover.js":34,"./modules/subscribe.js":35,"./modules/user-invitation.js":36,"./modules/userlist-form.js":38,"./modules/userlist-remove.js":39,"./modules/userlist.js":40,"mithril":50}],42:[function(require,module,exports){
module.exports=function(){"use strict";var e=require("mithril"),t=require("../configuration.js"),o={};return o.model={items:{},counter:0},o.controller=function(){var t={};return t.toClose={},t.close=function(e,i){i&&"timeout"!==i&&window.clearTimeout(t.toClose[e]),delete t.toClose[e],delete o.model.items[e]},t.delayClose=function(o,i){i&&!t.toClose[o]&&(t.toClose[o]=window.setTimeout(function(){e.startComputation(),t.close(o,"timeout"),e.endComputation()},1e3*i))},t},o.view=function(t){var i=Object.keys(o.model.items).sort();return e("div",i.map(function(i){var n=o.model.items[i];t.delayClose(i,n.timeout);var l=t.close.bind(t,i,n.timeout);return e("div",{class:n.cls?n.cls:"",onclick:n.click?n.click:l},[e("header",[n.icon?e("i",{class:"glyphicon glyphicon-"+n.icon}):"",e("span"," "+n.title)]),e("i",{class:"close glyphicon glyphicon-remove-circle",onclick:l}),e("p",e.trust(n.body))])}))},o.send=function(t,i){void 0===t.timeout&&(t.timeout=10),o.model.counter+=1,o.model.items[o.model.counter]=t,e.redraw(),i&&i()},o.success=function(e,i){e.title=e.title||t.LANG.NOTIFICATION.SUCCESS,e.cls="alert alert-success",e.icon="ok",o.send(e,i)},o.info=function(e,i){e.title=e.title||t.LANG.NOTIFICATION.INFO,e.cls="alert alert-info",e.icon="info-sign",o.send(e,i)},o.warning=function(e,i){e.title=t.LANG.NOTIFICATION.WARNING,e.cls="alert alert-warning",e.icon="warning-sign",e.timeout=15,o.send(e,i)},o.error=function(e,i){e.title=t.LANG.NOTIFICATION.ERROR,e.cls="alert alert-danger",e.icon="exclamation-sign",e.timeout=15,o.send(e,i)},o.errorUnexpected=function(e,i){e.body="<em>"+e.body+"</em><br>"+t.LANG.NOTIFICATION.ERROR_UNEXPECTED,o.error(e,i)},o}.call(this);
},{"../configuration.js":3,"mithril":50}],43:[function(require,module,exports){
module.exports=function(){"use strict";var t=require("mithril"),n=require("lodash"),e=require("../configuration.js"),i={};return i.controller=function(t){var i=t;return i.label=i.label||e.LANG.TAG.TAGS,i.placeholder=i.placeholder||e.LANG.TAG.PLACEHOLDER,i.name=i.name||"tags",i.tags=n.difference(i.tags,i.current),i.add=function(t){var e=t.value;0!==e.length&&(n.includes(i.current,e)||i.current.push(e),n.pull(i.tags,e),t.value="")},i.addMultiple=function(t){var e=t.value;0!==e.length&&(e=n.compact(e.split("\n")),i.current=n.union(i.current,e),i.tags=n.difference(i.tags,e),t.value="")},i},i.views={},i.views.icon=function(){return t("i",{class:"mp-tooltip glyphicon glyphicon-info-sign tag","data-msg":e.LANG.TAG.HELP})},i.views.input=function(n){return t("input.form-control",{id:n.name+"-input",name:n.name,type:"text",list:n.name,placeholder:n.placeholder,onkeydown:function(t){13===t.keyCode&&(t.preventDefault(),n.add(t.target))},onchange:function(t){n.add(t.target)}})},i.views.datalist=function(e){return t("datalist",{id:e.name},n.map(e.tags,function(n){return t("option",{value:n})}))},i.views.tagslist=function(e){return t("ul.list-inline help-block",n.map(e.current,function(i){return t("li",[t("span.label.label-default",i),t("i",{role:"button",class:"small glyphicon glyphicon-remove text-danger",onclick:function(t){var i=t.target.parentElement.textContent;n.pull(e.current,i),e.tags.push(i)}})])}))},i.view=function(n){return t("div.form-group",[t("label.col-sm-4",{for:n.name},[n.label,i.views.icon()]),t(".col-sm-7",[t(".input-group.input-group-sm",[i.views.input(n),t("span.input-group-btn",t("button.btn.btn-default",{type:"button",onclick:function(){n.add(document.getElementById(n.name+"-input"))}},e.LANG.USER.OK))]),i.views.datalist(n),i.views.tagslist(n)])])},i}.call(this);
},{"../configuration.js":3,"lodash":49,"mithril":50}],44:[function(require,module,exports){
"use strict";function getLens(o){var r=o.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=o.indexOf("=");return-1===e&&(e=r),[e,e===r?0:4-e%4]}function byteLength(o){var r=getLens(o),e=r[0],t=r[1];return 3*(e+t)/4-t}function _byteLength(o,r,e){return 3*(r+e)/4-e}function toByteArray(o){for(var r,e=getLens(o),t=e[0],n=e[1],u=new Arr(_byteLength(o,t,n)),p=0,a=n>0?t-4:t,h=0;h<a;h+=4)r=revLookup[o.charCodeAt(h)]<<18|revLookup[o.charCodeAt(h+1)]<<12|revLookup[o.charCodeAt(h+2)]<<6|revLookup[o.charCodeAt(h+3)],u[p++]=r>>16&255,u[p++]=r>>8&255,u[p++]=255&r;return 2===n&&(r=revLookup[o.charCodeAt(h)]<<2|revLookup[o.charCodeAt(h+1)]>>4,u[p++]=255&r),1===n&&(r=revLookup[o.charCodeAt(h)]<<10|revLookup[o.charCodeAt(h+1)]<<4|revLookup[o.charCodeAt(h+2)]>>2,u[p++]=r>>8&255,u[p++]=255&r),u}function tripletToBase64(o){return lookup[o>>18&63]+lookup[o>>12&63]+lookup[o>>6&63]+lookup[63&o]}function encodeChunk(o,r,e){for(var t,n=[],u=r;u<e;u+=3)t=(o[u]<<16&16711680)+(o[u+1]<<8&65280)+(255&o[u+2]),n.push(tripletToBase64(t));return n.join("")}function fromByteArray(o){for(var r,e=o.length,t=e%3,n=[],u=0,p=e-t;u<p;u+=16383)n.push(encodeChunk(o,u,u+16383>p?p:u+16383));return 1===t?(r=o[e-1],n.push(lookup[r>>2]+lookup[r<<4&63]+"==")):2===t&&(r=(o[e-2]<<8)+o[e-1],n.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),n.join("")}exports.byteLength=byteLength,exports.toByteArray=toByteArray,exports.fromByteArray=fromByteArray;for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63;
},{}],45:[function(require,module,exports){
"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}function createBuffer(e){if(e>K_MAX_LENGTH)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=Buffer.prototype,t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return isArrayBuffer(e)||e&&isArrayBuffer(e.buffer)?fromArrayBuffer(e,t,r):"string"==typeof e?fromString(e,t):fromObject(e)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,r){return assertSize(e),e<=0?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromString(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),f=n.write(e,t);return f!==r&&(n=n.slice(0,f)),n}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),n.__proto__=Buffer.prototype,n}function fromObject(e){if(Buffer.isBuffer(e)){var t=0|checked(e.length),r=createBuffer(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||numberIsNaN(e.length)?createBuffer(0):fromArrayLike(e);if("Buffer"===e.type&&Array.isArray(e.data))return fromArrayLike(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}function checked(e){if(e>=K_MAX_LENGTH)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|e}function SlowBuffer(e){return+e!=e&&(e=0),Buffer.alloc(+e)}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isArrayBuffer(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(n)return utf8ToBytes(e).length;t=(""+t).toLowerCase(),n=!0}}function slowToString(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return asciiSlice(this,t,r);case"latin1":case"binary":return latin1Slice(this,t,r);case"base64":return base64Slice(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,f){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,numberIsNaN(r)&&(r=f?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(f)return-1;r=e.length-1}else if(r<0){if(!f)return-1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,f);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?f?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,f);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,f){function i(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,u=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,u/=2,s/=2,r/=2}var a;if(f){var h=-1;for(a=r;a<u;a++)if(i(e,a)===i(t,-1===h?0:a-h)){if(-1===h&&(h=a),a-h+1===s)return h*o}else-1!==h&&(a-=a-h),h=-1}else for(r+s>u&&(r=u-s),a=r;a>=0;a--){for(var c=!0,l=0;l<s;l++)if(i(e,a+l)!==i(t,l)){c=!1;break}if(c)return a}return-1}function hexWrite(e,t,r,n){r=Number(r)||0;var f=e.length-r;n?(n=Number(n))>f&&(n=f):n=f;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var u=parseInt(t.substr(2*o,2),16);if(numberIsNaN(u))return o;e[r+o]=u}return o}function utf8Write(e,t,r,n){return blitBuffer(utf8ToBytes(t,e.length-r),e,r,n)}function asciiWrite(e,t,r,n){return blitBuffer(asciiToBytes(t),e,r,n)}function latin1Write(e,t,r,n){return asciiWrite(e,t,r,n)}function base64Write(e,t,r,n){return blitBuffer(base64ToBytes(t),e,r,n)}function ucs2Write(e,t,r,n){return blitBuffer(utf16leToBytes(t,e.length-r),e,r,n)}function base64Slice(e,t,r){return 0===t&&r===e.length?base64.fromByteArray(e):base64.fromByteArray(e.slice(t,r))}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],f=t;f<r;){var i=e[f],o=null,u=i>239?4:i>223?3:i>191?2:1;if(f+u<=r){var s,a,h,c;switch(u){case 1:i<128&&(o=i);break;case 2:s=e[f+1],128==(192&s)&&(c=(31&i)<<6|63&s)>127&&(o=c);break;case 3:s=e[f+1],a=e[f+2],128==(192&s)&&128==(192&a)&&(c=(15&i)<<12|(63&s)<<6|63&a)>2047&&(c<55296||c>57343)&&(o=c);break;case 4:s=e[f+1],a=e[f+2],h=e[f+3],128==(192&s)&&128==(192&a)&&128==(192&h)&&(c=(15&i)<<18|(63&s)<<12|(63&a)<<6|63&h)>65535&&c<1114112&&(o=c)}}null===o?(o=65533,u=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),f+=u}return decodeCodePointsArray(n)}function decodeCodePointsArray(e){var t=e.length;if(t<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=MAX_ARGUMENTS_LENGTH));return r}function asciiSlice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(127&e[f]);return n}function latin1Slice(e,t,r){var n="";r=Math.min(e.length,r);for(var f=t;f<r;++f)n+=String.fromCharCode(e[f]);return n}function hexSlice(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var f="",i=t;i<r;++i)f+=toHex(e[i]);return f}function utf16leSlice(e,t,r){for(var n=e.slice(t,r),f="",i=0;i<n.length;i+=2)f+=String.fromCharCode(n[i]+256*n[i+1]);return f}function checkOffset(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,f,i){if(!Buffer.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<i)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function checkIEEE754(e,t,r,n,f,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),ieee754.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,f){return t=+t,r>>>=0,f||checkIEEE754(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),ieee754.write(e,t,r,n,52,8),r+8}function base64clean(e){if(e=e.split("=")[0],e=e.trim().replace(INVALID_BASE64_RE,""),e.length<2)return"";for(;e.length%4!=0;)e+="=";return e}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,f=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!f){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}f=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),f=r;continue}r=65536+(f-55296<<10|r-56320)}else f&&(t-=3)>-1&&i.push(239,191,189);if(f=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function asciiToBytes(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function utf16leToBytes(e,t){for(var r,n,f,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,f=r%256,i.push(f),i.push(n);return i}function base64ToBytes(e){return base64.toByteArray(base64clean(e))}function blitBuffer(e,t,r,n){for(var f=0;f<n&&!(f+r>=t.length||f>=e.length);++f)t[f+r]=e[f];return f}function isArrayBuffer(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function numberIsNaN(e){return e!==e}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=SlowBuffer,exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH,Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{get:function(){if(this instanceof Buffer)return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{get:function(){if(this instanceof Buffer)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(e,t,r){return alloc(e,t,r)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer},Buffer.compare=function(e,t){if(!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,f=0,i=Math.min(r,n);f<i;++f)if(e[f]!==t[f]){r=e[f],n=t[f];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=Buffer.allocUnsafe(t),f=0;for(r=0;r<e.length;++r){var i=e[r];if(ArrayBuffer.isView(i)&&(i=Buffer.from(i)),!Buffer.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,f),f+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",t=exports.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},Buffer.prototype.compare=function(e,t,r,n,f){if(!Buffer.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===f&&(f=this.length),t<0||r>e.length||n<0||f>this.length)throw new RangeError("out of range index");if(n>=f&&t>=r)return 0;if(n>=f)return-1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,f>>>=0,this===e)return 0;for(var i=f-n,o=r-t,u=Math.min(i,o),s=this.slice(n,f),a=e.slice(t,r),h=0;h<u;++h)if(s[h]!==a[h]){i=s[h],o=a[h];break}return i<o?-1:o<i?1:0},Buffer.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return hexWrite(this,e,t,r);case"utf8":case"utf-8":return utf8Write(this,e,t,r);case"ascii":return asciiWrite(this,e,t,r);case"latin1":case"binary":return latin1Write(this,e,t,r);case"base64":return base64Write(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=Buffer.prototype,n},Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return n},Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],f=1;t>0&&(f*=256);)n+=this[e+--t]*f;return n},Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],f=1,i=0;++i<t&&(f*=256);)n+=this[e+i]*f;return f*=128,n>=f&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,f=1,i=this[e+--n];n>0&&(f*=256);)i+=this[e+--n]*f;return f*=128,i>=f&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),ieee754.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),ieee754.read(this,e,!1,52,8)},Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=1,i=0;for(this[t]=255&e;++i<r&&(f*=256);)this[t+i]=e/f&255;return t+r},Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){checkInt(this,e,t,r,Math.pow(2,8*r)-1,0)}var f=r-1,i=1;for(this[t+f]=255&e;--f>=0&&(i*=256);)this[t+f]=e/i&255;return t+r},Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=0,o=1,u=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var f=Math.pow(2,8*r-1);checkInt(this,e,t,r,f-1,-f)}var i=r-1,o=1,u=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/o>>0)-u&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var f=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=f-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return f},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var f=e.charCodeAt(0);("utf8"===n&&f<128||"latin1"===n)&&(e=f)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var o=Buffer.isBuffer(e)?e:new Buffer(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%u]}return this};var INVALID_BASE64_RE=/[^+\/0-9A-Za-z-_]/g;
},{"base64-js":44,"ieee754":46}],46:[function(require,module,exports){
exports.read=function(a,o,t,r,h){var M,p,w=8*h-r-1,f=(1<<w)-1,e=f>>1,i=-7,N=t?h-1:0,n=t?-1:1,s=a[o+N];for(N+=n,M=s&(1<<-i)-1,s>>=-i,i+=w;i>0;M=256*M+a[o+N],N+=n,i-=8);for(p=M&(1<<-i)-1,M>>=-i,i+=r;i>0;p=256*p+a[o+N],N+=n,i-=8);if(0===M)M=1-e;else{if(M===f)return p?NaN:1/0*(s?-1:1);p+=Math.pow(2,r),M-=e}return(s?-1:1)*p*Math.pow(2,M-r)},exports.write=function(a,o,t,r,h,M){var p,w,f,e=8*M-h-1,i=(1<<e)-1,N=i>>1,n=23===h?Math.pow(2,-24)-Math.pow(2,-77):0,s=r?0:M-1,u=r?1:-1,l=o<0||0===o&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(w=isNaN(o)?1:0,p=i):(p=Math.floor(Math.log(o)/Math.LN2),o*(f=Math.pow(2,-p))<1&&(p--,f*=2),o+=p+N>=1?n/f:n*Math.pow(2,1-N),o*f>=2&&(p++,f/=2),p+N>=i?(w=0,p=i):p+N>=1?(w=(o*f-1)*Math.pow(2,h),p+=N):(w=o*Math.pow(2,N-1)*Math.pow(2,h),p=0));h>=8;a[t+s]=255&w,s+=u,w/=256,h-=8);for(p=p<<h|w,e+=h;e>0;a[t+s]=255&p,s+=u,p/=256,e-=8);a[t+s-u]|=128*l};
},{}],47:[function(require,module,exports){
!function(t){"use strict";var r,e=t.Base64;if("undefined"!=typeof module&&module.exports)try{r=require("buffer").Buffer}catch(t){}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=function(t){for(var r={},e=0,n=t.length;e<n;e++)r[t.charAt(e)]=e;return r}(n),c=String.fromCharCode,u=function(t){if(t.length<2){var r=t.charCodeAt(0);return r<128?t:r<2048?c(192|r>>>6)+c(128|63&r):c(224|r>>>12&15)+c(128|r>>>6&63)+c(128|63&r)}var r=65536+1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320);return c(240|r>>>18&7)+c(128|r>>>12&63)+c(128|r>>>6&63)+c(128|63&r)},a=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,i=function(t){return t.replace(a,u)},f=function(t){var r=[0,2,1][t.length%3],e=t.charCodeAt(0)<<16|(t.length>1?t.charCodeAt(1):0)<<8|(t.length>2?t.charCodeAt(2):0);return[n.charAt(e>>>18),n.charAt(e>>>12&63),r>=2?"=":n.charAt(e>>>6&63),r>=1?"=":n.charAt(63&e)].join("")},h=t.btoa?function(r){return t.btoa(r)}:function(t){return t.replace(/[\s\S]{1,3}/g,f)},d=r?function(t){return(t.constructor===r.constructor?t:new r(t)).toString("base64")}:function(t){return h(i(t))},s=function(t,r){return r?d(String(t)).replace(/[+\/]/g,function(t){return"+"==t?"-":"_"}).replace(/=/g,""):d(String(t))},g=function(t){return s(t,!0)},A=new RegExp(["[-][-]","[-][-]{2}","[-][-]{3}"].join("|"),"g"),l=function(t){switch(t.length){case 4:var r=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),e=r-65536;return c(55296+(e>>>10))+c(56320+(1023&e));case 3:return c((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return c((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},p=function(t){return t.replace(A,l)},C=function(t){var r=t.length,e=r%4,n=(r>0?o[t.charAt(0)]<<18:0)|(r>1?o[t.charAt(1)]<<12:0)|(r>2?o[t.charAt(2)]<<6:0)|(r>3?o[t.charAt(3)]:0),u=[c(n>>>16),c(n>>>8&255),c(255&n)];return u.length-=[0,0,2,1][e],u.join("")},b=t.atob?function(r){return t.atob(r)}:function(t){return t.replace(/[\s\S]{1,4}/g,C)},B=r?function(t){return(t.constructor===r.constructor?t:new r(t,"base64")).toString()}:function(t){return p(b(t))},S=function(t){return B(String(t).replace(/[-_]/g,function(t){return"-"==t?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},v=function(){var r=t.Base64;return t.Base64=e,r};if(t.Base64={VERSION:"2.1.9",atob:b,btoa:h,fromBase64:S,toBase64:s,utob:i,encode:s,encodeURI:g,btou:p,decode:S,noConflict:v},"function"==typeof Object.defineProperty){var y=function(t){return{value:t,enumerable:!1,writable:!0,configurable:!0}};t.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",y(function(){return S(this)})),Object.defineProperty(String.prototype,"toBase64",y(function(t){return s(this,t)})),Object.defineProperty(String.prototype,"toBase64URI",y(function(){return s(this,!0)}))}}t.Meteor&&(Base64=t.Base64)}(this);
},{"buffer":45}],48:[function(require,module,exports){
!function(e){var n=!1;if("function"==typeof define&&define.amd&&(define(e),n=!0),"object"==typeof exports&&(module.exports=e(),n=!0),!n){var o=window.Cookies,t=window.Cookies=e();t.noConflict=function(){return window.Cookies=o,t}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var o=arguments[e];for(var t in o)n[t]=o[t]}return n}function n(o){function t(n,r,i){var c;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},t.defaults,i),"number"==typeof i.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*i.expires),i.expires=a}i.expires=i.expires?i.expires.toUTCString():"";try{c=JSON.stringify(r),/^[\{\[]/.test(c)&&(r=c)}catch(e){}r=o.write?o.write(r,n):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape);var s="";for(var f in i)i[f]&&(s+="; "+f,!0!==i[f]&&(s+="="+i[f]));return document.cookie=n+"="+r+s}n||(c={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,u=0;u<p.length;u++){var l=p[u].split("="),C=l.slice(1).join("=");this.json||'"'!==C.charAt(0)||(C=C.slice(1,-1));try{var g=l[0].replace(d,decodeURIComponent);if(C=o.read?o.read(C,g):o(C,g)||C.replace(d,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(e){}if(n===g){c=C;break}n||(c[g]=C)}catch(e){}}return c}}return t.set=t,t.get=function(e){return t.call(t,e)},t.getJSON=function(){return t.apply({json:!0},[].slice.call(arguments))},t.defaults={},t.remove=function(n,o){t(n,"",e(o,{expires:-1}))},t.withConverter=n,t}return n(function(){})});
},{}],49:[function(require,module,exports){
(function (global){
(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n}function e(n,t){for(var r=null==n?0:n.length;r--&&!1!==t(n[r],r,n););return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split("")}function _(n){return n.match(Ct)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?Z(n,t,r):g(n,b,r)}function d(n,t,r,e){for(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:En}function m(n){return function(t){return null==t?Q:t[n]}}function x(n){return function(t){return null==n?Q:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==Q&&(r=r===Q?i:r+i)}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return function(t){return n(t)}}function z(n,t){return c(t,function(t){return n[t]})}function E(n,t){return n.has(t)}function S(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function W(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;return e}function C(n){return"\\"+mr[n]}function U(n,t){return null==n?Q:n[t]}function B(n){return hr.test(n)}function T(n){return pr.test(n)}function $(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function D(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function M(n,t){return function(r){return n(t(r))}}function F(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==un||(n[r]=un,i[u++]=r)}return i}function N(n,t){return"__proto__"==t?Q:n[t]}function P(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Z(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function K(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function V(n){return B(n)?H(n):$r(n)}function G(n){return B(n)?J(n):p(n)}function H(n){for(var t=lr.lastIndex=0;lr.test(n);)++t;return t}function J(n){return n.match(lr)||[]}function Y(n){return n.match(sr)||[]}var Q,X=200,nn="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",tn="Expected a function",rn="__lodash_hash_undefined__",en=500,un="__lodash_placeholder__",on=1,fn=2,cn=4,an=1,ln=2,sn=1,hn=2,pn=4,_n=8,vn=16,gn=32,yn=64,dn=128,bn=256,wn=512,mn=30,xn="...",jn=800,An=16,kn=1,On=2,In=1/0,Rn=9007199254740991,zn=1.7976931348623157e308,En=NaN,Sn=4294967295,Ln=Sn-1,Wn=Sn>>>1,Cn=[["ary",dn],["bind",sn],["bindKey",hn],["curry",_n],["curryRight",vn],["flip",wn],["partial",gn],["partialRight",yn],["rearg",bn]],Un="[object Arguments]",Bn="[object Array]",Tn="[object AsyncFunction]",$n="[object Boolean]",Dn="[object Date]",Mn="[object DOMException]",Fn="[object Error]",Nn="[object Function]",Pn="[object GeneratorFunction]",qn="[object Map]",Zn="[object Number]",Kn="[object Null]",Vn="[object Object]",Gn="[object Proxy]",Hn="[object RegExp]",Jn="[object Set]",Yn="[object String]",Qn="[object Symbol]",Xn="[object Undefined]",nt="[object WeakMap]",tt="[object WeakSet]",rt="[object ArrayBuffer]",et="[object DataView]",ut="[object Float32Array]",it="[object Float64Array]",ot="[object Int8Array]",ft="[object Int16Array]",ct="[object Int32Array]",at="[object Uint8Array]",lt="[object Uint8ClampedArray]",st="[object Uint16Array]",ht="[object Uint32Array]",pt=/\b__p \+= '';/g,_t=/\b(__p \+=) '' \+/g,vt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39);/g,yt=/[&<>"']/g,dt=RegExp(gt.source),bt=RegExp(yt.source),wt=/<%-([\s\S]+?)%>/g,mt=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,jt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,At=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,It=RegExp(Ot.source),Rt=/^\s+|\s+$/g,zt=/^\s+/,Et=/\s+$/,St=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Lt=/\{\n\/\* \[wrapped with (.+)\] \*/,Wt=/,? & /,Ct=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ut=/\\(\\)?/g,Bt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,$t=/^[-+]0x[0-9a-f]+$/i,Dt=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,Ft=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qt=/($^)/,Zt=/['\n\r\u2028\u2029\\]/g,Kt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Vt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gt="["+Vt+"]",Ht="["+Kt+"]",Jt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Yt="[^\\ud800-\\udfff"+Vt+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",Qt="\\ud83c[\\udffb-\\udfff]",Xt="(?:\\ud83c[\\udde6-\\uddff]){2}",nr="[\\ud800-\\udbff][\\udc00-\\udfff]",tr="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rr="(?:"+Jt+"|"+Yt+")",er="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ur="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",Xt,nr].join("|")+")[\\ufe0e\\ufe0f]?"+er+")*",ir="[\\ufe0e\\ufe0f]?"+er+ur,or="(?:"+["[\\u2700-\\u27bf]",Xt,nr].join("|")+")"+ir,fr="(?:"+["[^\\ud800-\\udfff]"+Ht+"?",Ht,Xt,nr,"[\\ud800-\\udfff]"].join("|")+")",cr=RegExp("[']","g"),ar=RegExp(Ht,"g"),lr=RegExp(Qt+"(?="+Qt+")|"+fr+ir,"g"),sr=RegExp([tr+"?"+Jt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[Gt,tr,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[Gt,tr+rr,"$"].join("|")+")",tr+"?"+rr+"+(?:['](?:d|ll|m|re|s|t|ve))?",tr+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",or].join("|"),"g"),hr=RegExp("[\\u200d\\ud800-\\udfff"+Kt+"\\ufe0e\\ufe0f]"),pr=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_r=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vr=-1,gr={};gr[ut]=gr[it]=gr[ot]=gr[ft]=gr[ct]=gr[at]=gr[lt]=gr[st]=gr[ht]=!0,gr[Un]=gr[Bn]=gr[rt]=gr[$n]=gr[et]=gr[Dn]=gr[Fn]=gr[Nn]=gr[qn]=gr[Zn]=gr[Vn]=gr[Hn]=gr[Jn]=gr[Yn]=gr[nt]=!1;var yr={};yr[Un]=yr[Bn]=yr[rt]=yr[et]=yr[$n]=yr[Dn]=yr[ut]=yr[it]=yr[ot]=yr[ft]=yr[ct]=yr[qn]=yr[Zn]=yr[Vn]=yr[Hn]=yr[Jn]=yr[Yn]=yr[Qn]=yr[at]=yr[lt]=yr[st]=yr[ht]=!0,yr[Fn]=yr[Nn]=yr[nt]=!1;var dr={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},br={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},wr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},mr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xr=parseFloat,jr=parseInt,Ar="object"==typeof global&&global&&global.Object===Object&&global,kr="object"==typeof self&&self&&self.Object===Object&&self,Or=Ar||kr||Function("return this")(),Ir="object"==typeof exports&&exports&&!exports.nodeType&&exports,Rr=Ir&&"object"==typeof module&&module&&!module.nodeType&&module,zr=Rr&&Rr.exports===Ir,Er=zr&&Ar.process,Sr=function(){try{var n=Rr&&Rr.require&&Rr.require("util").types;return n||Er&&Er.binding&&Er.binding("util")}catch(n){}}(),Lr=Sr&&Sr.isArrayBuffer,Wr=Sr&&Sr.isDate,Cr=Sr&&Sr.isMap,Ur=Sr&&Sr.isRegExp,Br=Sr&&Sr.isSet,Tr=Sr&&Sr.isTypedArray,$r=m("length"),Dr=x(dr),Mr=x(br),Fr=x(wr),Nr=function p(x){function Z(n){if(rc(n)&&!ph(n)&&!(n instanceof Ct)){if(n instanceof J)return n;if(pl.call(n,"__wrapped__"))return Yi(n)}return new J(n)}function H(){}function J(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Q}function Ct(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Sn,this.__views__=[]}function Kt(){var n=new Ct(this.__wrapped__);return n.__actions__=Wu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Wu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Wu(this.__views__),n}function Vt(){if(this.__filtered__){var n=new Ct(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Gt(){var n=this.__wrapped__.value(),t=this.__dir__,r=ph(n),e=t<0,u=r?n.length:0,i=xi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Pl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return gu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==On)g=w;else if(!w){if(b==kn)continue n;break n}}_[h++]=g}return _}function Ht(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function Jt(){this.__data__=Xl?Xl(null):{},this.size=0}function Yt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function Qt(n){var t=this.__data__;if(Xl){var r=t[n];return r===rn?Q:r}return pl.call(t,n)?t[n]:Q}function Xt(n){var t=this.__data__;return Xl?t[n]!==Q:pl.call(t,n)}function nr(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Xl&&t===Q?rn:t,this}function tr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function rr(){this.__data__=[],this.size=0}function er(n){var t=this.__data__,r=Gr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Il.call(t,r,1),--this.size,!0)}function ur(n){var t=this.__data__,r=Gr(t,n);return r<0?Q:t[r][1]}function ir(n){return Gr(this.__data__,n)>-1}function or(n,t){var r=this.__data__,e=Gr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function fr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function lr(){this.size=0,this.__data__={hash:new Ht,map:new(Hl||tr),string:new Ht}}function sr(n){var t=di(this,n).delete(n);return this.size-=t?1:0,t}function hr(n){return di(this,n).get(n)}function pr(n){return di(this,n).has(n)}function dr(n,t){var r=di(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function br(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new fr;++t<r;)this.add(n[t])}function wr(n){return this.__data__.set(n,rn),this}function mr(n){return this.__data__.has(n)}function Ar(n){var t=this.__data__=new tr(n);this.size=t.size}function kr(){this.__data__=new tr,this.size=0}function Ir(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function Rr(n){return this.__data__.get(n)}function Er(n){return this.__data__.has(n)}function Sr(n,t){var r=this.__data__;if(r instanceof tr){var e=r.__data__;if(!Hl||e.length<X-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new fr(e)}return r.set(n,t),this.size=r.size,this}function $r(n,t){var r=ph(n),e=!r&&hh(n),u=!r&&!e&&vh(n),i=!r&&!e&&!u&&wh(n),o=r||e||u||i,f=o?O(n.length,ol):[],c=f.length;for(var a in n)!t&&!pl.call(n,a)||o&&("length"==a||u&&("offset"==a||"parent"==a)||i&&("buffer"==a||"byteLength"==a||"byteOffset"==a)||Ei(a,c))||f.push(a);return f}function Pr(n){var t=n.length;return t?n[Ye(0,t-1)]:Q}function qr(n,t){return Vi(Wu(n),ne(t,0,n.length))}function Zr(n){return Vi(Wu(n))}function Kr(n,t,r){(r===Q||Nf(n[t],r))&&(r!==Q||t in n)||Qr(n,t,r)}function Vr(n,t,r){var e=n[t];pl.call(n,t)&&Nf(e,r)&&(r!==Q||t in n)||Qr(n,t,r)}function Gr(n,t){for(var r=n.length;r--;)if(Nf(n[r][0],t))return r;return-1}function Hr(n,t,r,e){return ss(n,function(n,u,i){t(e,n,r(n),i)}),e}function Jr(n,t){return n&&Cu(t,Tc(t),n)}function Yr(n,t){return n&&Cu(t,$c(t),n)}function Qr(n,t,r){"__proto__"==t&&Sl?Sl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Xr(n,t){for(var r=-1,e=t.length,u=Xa(e),i=null==n;++r<e;)u[r]=i?Q:Cc(n,t[r]);return u}function ne(n,t,r){return n===n&&(r!==Q&&(n=n<=r?n:r),t!==Q&&(n=n>=t?n:t)),n}function te(n,t,e,u,i,o){var f,c=t&on,a=t&fn,l=t&cn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==Q)return f;if(!tc(n))return n;var s=ph(n);if(s){if(f=ki(n),!c)return Wu(n,f)}else{var h=js(n),p=h==Nn||h==Pn;if(vh(n))return ju(n,c);if(h==Vn||h==Un||p&&!i){if(f=a||p?{}:Oi(n),!c)return a?Bu(n,Yr(f,n)):Uu(n,Jr(f,n))}else{if(!yr[h])return i?n:{};f=Ii(n,h,c)}}o||(o=new Ar);var _=o.get(n);if(_)return _;if(o.set(n,f),bh(n))return n.forEach(function(r){f.add(te(r,t,e,r,n,o))}),f;if(yh(n))return n.forEach(function(r,u){f.set(u,te(r,t,e,u,n,o))}),f;var v=l?a?_i:pi:a?$c:Tc,g=s?Q:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Vr(f,u,te(r,t,e,u,n,o))}),f}function re(n){var t=Tc(n);return function(r){return ee(r,n,t)}}function ee(n,t,r){var e=r.length;if(null==n)return!e;for(n=ul(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===Q&&!(u in n)||!i(o))return!1}return!0}function ue(n,t,r){if("function"!=typeof n)throw new fl(tn);return Os(function(){n.apply(Q,r)},t)}function ie(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;if(!l)return s;r&&(t=c(t,R(r))),e?(i=f,a=!1):t.length>=X&&(i=E,a=!1,t=new br(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function oe(n,t){var r=!0;return ss(n,function(n,e,u){return r=!!t(n,e,u)}),r}function fe(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===Q?o===o&&!pc(o):r(o,f)))var f=o,c=i}return c}function ce(n,t,r,e){var u=n.length;for(r=bc(r),r<0&&(r=-r>u?0:u+r),e=e===Q||e>u?u:bc(e),e<0&&(e+=u),e=r>e?0:wc(e);r<e;)n[r++]=t;return n}function ae(n,t){var r=[];return ss(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function le(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=zi),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?le(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function se(n,t){return n&&ps(n,t,Tc)}function he(n,t){return n&&_s(n,t,Tc)}function pe(n,t){return i(t,function(t){return Qf(n[t])})}function _e(n,t){t=mu(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[Gi(t[r++])];return r&&r==e?n:Q}function ve(n,t,r){var e=t(n);return ph(n)?e:a(e,r(n))}function ge(n){return null==n?n===Q?Xn:Kn:El&&El in ul(n)?mi(n):Fi(n)}function ye(n,t){return n>t}function de(n,t){return null!=n&&pl.call(n,t)}function be(n,t){return null!=n&&t in ul(n)}function we(n,t,r){return n>=Pl(t,r)&&n<Nl(t,r)}function me(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=Xa(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,R(t))),s=Pl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new br(a&&p):Q}p=n[0];var _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?E(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?E(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function xe(n,t,r,e){return se(n,function(n,u,i){t(e,r(n),u,i)}),e}function je(t,r,e){r=mu(r,t),t=Pi(t,r);var u=null==t?t:t[Gi(go(r))];return null==u?Q:n(u,t,e)}function Ae(n){return rc(n)&&ge(n)==Un}function ke(n){return rc(n)&&ge(n)==rt}function Oe(n){return rc(n)&&ge(n)==Dn}function Ie(n,t,r,e,u){return n===t||(null==n||null==t||!rc(n)&&!rc(t)?n!==n&&t!==t:Re(n,t,r,e,Ie,u))}function Re(n,t,r,e,u,i){var o=ph(n),f=ph(t),c=o?Bn:js(n),a=f?Bn:js(t);c=c==Un?Vn:c,a=a==Un?Vn:a;var l=c==Vn,s=a==Vn,h=c==a;if(h&&vh(n)){if(!vh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new Ar),o||wh(n)?ai(n,t,r,e,u,i):li(n,t,c,r,e,u,i);if(!(r&an)){var p=l&&pl.call(n,"__wrapped__"),_=s&&pl.call(t,"__wrapped__");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new Ar),u(v,g,r,e,i)}}return!!h&&(i||(i=new Ar),si(n,t,r,e,u,i))}function ze(n){return rc(n)&&js(n)==qn}function Ee(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ul(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===Q&&!(c in n))return!1}else{var s=new Ar;if(e)var h=e(a,l,c,n,t,s);if(!(h===Q?Ie(l,a,an|ln,e,s):h))return!1}}return!0}function Se(n){return!(!tc(n)||Ui(n))&&(Qf(n)?bl:Mt).test(Hi(n))}function Le(n){return rc(n)&&ge(n)==Hn}function We(n){return rc(n)&&js(n)==Jn}function Ce(n){return rc(n)&&nc(n.length)&&!!gr[ge(n)]}function Ue(n){return"function"==typeof n?n:null==n?Ia:"object"==typeof n?ph(n)?Fe(n[0],n[1]):Me(n):Ua(n)}function Be(n){if(!Bi(n))return Fl(n);var t=[];for(var r in ul(n))pl.call(n,r)&&"constructor"!=r&&t.push(r);return t}function Te(n){if(!tc(n))return Mi(n);var t=Bi(n),r=[];for(var e in n)("constructor"!=e||!t&&pl.call(n,e))&&r.push(e);return r}function $e(n,t){return n<t}function De(n,t){var r=-1,e=Pf(n)?Xa(n.length):[];return ss(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function Me(n){var t=bi(n);return 1==t.length&&t[0][2]?$i(t[0][0],t[0][1]):function(r){return r===n||Ee(r,n,t)}}function Fe(n,t){return Li(n)&&Ti(t)?$i(Gi(n),t):function(r){var e=Cc(r,n);return e===Q&&e===t?Bc(r,n):Ie(t,e,an|ln)}}function Ne(n,t,r,e,u){n!==t&&ps(t,function(i,o){if(tc(i))u||(u=new Ar),Pe(n,t,o,r,Ne,e,u);else{var f=e?e(N(n,o),i,o+"",n,t,u):Q;f===Q&&(f=i),Kr(n,o,f)}},$c)}function Pe(n,t,r,e,u,i,o){var f=N(n,r),c=N(t,r),a=o.get(c);if(a)return void Kr(n,r,a);var l=i?i(f,c,r+"",n,t,o):Q,s=l===Q;if(s){var h=ph(c),p=!h&&vh(c),_=!h&&!p&&wh(c);l=c,h||p||_?ph(f)?l=f:qf(f)?l=Wu(f):p?(s=!1,l=ju(c,!0)):_?(s=!1,l=Ru(c,!0)):l=[]:lc(c)||hh(c)?(l=f,hh(f)?l=xc(f):(!tc(f)||e&&Qf(f))&&(l=Oi(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Kr(n,r,l)}function qe(n,t){var r=n.length;if(r)return t+=t<0?r:0,Ei(t,r)?n[t]:Q}function Ze(n,t,r){var e=-1;return t=c(t.length?t:[Ia],R(yi())),A(De(n,function(n,r,u){return{criteria:c(t,function(t){return t(n)}),index:++e,value:n}}),function(n,t){return Eu(n,t,r)})}function Ke(n,t){return Ve(n,t,function(t,r){return Bc(n,r)})}function Ve(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=_e(n,o);r(f,o)&&eu(i,mu(o,n),f)}return i}function Ge(n){return function(t){return _e(t,n)}}function He(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Wu(t)),r&&(f=c(n,R(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Il.call(f,a,1),Il.call(n,a,1);return n}function Je(n,t){for(var r=n?t.length:0,e=r-1;r--;){var u=t[r];if(r==e||u!==i){var i=u;Ei(u)?Il.call(n,u,1):pu(n,u)}}return n}function Ye(n,t){return n+Bl(Kl()*(t-n+1))}function Qe(n,t,r,e){for(var u=-1,i=Nl(Ul((t-n)/(r||1)),0),o=Xa(i);i--;)o[e?i:++u]=n,n+=r;return o}function Xe(n,t){var r="";if(!n||t<1||t>Rn)return r;do{t%2&&(r+=n),(t=Bl(t/2))&&(n+=n)}while(t);return r}function nu(n,t){return Is(Ni(n,t,Ia),n+"")}function tu(n){return Pr(Jc(n))}function ru(n,t){var r=Jc(n);return Vi(r,ne(t,0,r.length))}function eu(n,t,r,e){if(!tc(n))return n;t=mu(t,n);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=Gi(t[u]),a=r;if(u!=o){var l=f[c];a=e?e(l,c,f):Q,a===Q&&(a=tc(l)?l:Ei(t[u+1])?[]:{})}Vr(f,c,a),f=f[c]}return n}function uu(n){return Vi(Jc(n))}function iu(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=Xa(u);++e<u;)i[e]=n[e+t];return i}function ou(n,t){var r;return ss(n,function(n,e,u){return!(r=t(n,e,u))}),!!r}function fu(n,t,r){var e=0,u=null==n?e:n.length;if("number"==typeof t&&t===t&&u<=Wn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!pc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return cu(n,t,Ia,r)}function cu(n,t,r,e){t=r(t);for(var u=0,i=null==n?0:n.length,o=t!==t,f=null===t,c=pc(t),a=t===Q;u<i;){var l=Bl((u+i)/2),s=r(n[l]),h=s!==Q,p=null===s,_=s===s,v=pc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Pl(i,Ln)}function au(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r],f=t?t(o):o;if(!r||!Nf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function lu(n){return"number"==typeof n?n:pc(n)?En:+n}function su(n){if("string"==typeof n)return n;if(ph(n))return c(n,su)+"";if(pc(n))return as?as.call(n):"";var t=n+"";return"0"==t&&1/n==-In?"-0":t}function hu(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=X){var s=t?null:bs(n);if(s)return P(s);c=!1,u=E,l=new br}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;t&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function pu(n,t){return t=mu(t,n),null==(n=Pi(n,t))||delete n[Gi(go(t))]}function _u(n,t,r,e){return eu(n,t,r(_e(n,t)),e)}function vu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?iu(n,e?0:i,e?i+1:u):iu(n,e?i+1:0,e?u:i)}function gu(n,t){var r=n;return r instanceof Ct&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function yu(n,t,r){var e=n.length;if(e<2)return e?hu(n[0]):[];for(var u=-1,i=Xa(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=ie(i[u]||o,n[f],t,r));return hu(le(i,1),t,r)}function du(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){var f=e<i?t[e]:Q;r(o,n[e],f)}return o}function bu(n){return qf(n)?n:[]}function wu(n){return"function"==typeof n?n:Ia}function mu(n,t){return ph(n)?n:Li(n,t)?[n]:Rs(Ac(n))}function xu(n,t,r){var e=n.length;return r=r===Q?e:r,!t&&r>=e?n:iu(n,t,r)}function ju(n,t){if(t)return n.slice();var r=n.length,e=jl?jl(r):new n.constructor(r);return n.copy(e),e}function Au(n){var t=new n.constructor(n.byteLength);return new xl(t).set(new xl(n)),t}function ku(n,t){var r=t?Au(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}function Ou(n){var t=new n.constructor(n.source,Tt.exec(n));return t.lastIndex=n.lastIndex,t}function Iu(n){return cs?ul(cs.call(n)):{}}function Ru(n,t){var r=t?Au(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}function zu(n,t){if(n!==t){var r=n!==Q,e=null===n,u=n===n,i=pc(n),o=t!==Q,f=null===t,c=t===t,a=pc(t);if(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Eu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=zu(u[e],i[e]);if(c){if(e>=f)return c;return c*("desc"==r[e]?-1:1)}}return n.index-t.index}function Su(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Nl(i-o,0),l=Xa(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l}function Lu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Nl(i-f,0),s=Xa(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Wu(n,t){var r=-1,e=n.length;for(t||(t=Xa(e));++r<e;)t[r]=n[r];return t}function Cu(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):Q;c===Q&&(c=n[f]),u?Qr(r,f,c):Vr(r,f,c)}return r}function Uu(n,t){return Cu(n,ms(n),t)}function Bu(n,t){return Cu(n,xs(n),t)}function Tu(n,r){return function(e,u){var i=ph(e)?t:Hr,o=r?r():{};return i(e,n,yi(u,2),o)}}function $u(n){return nu(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:Q,o=u>2?r[2]:Q;for(i=n.length>3&&"function"==typeof i?(u--,i):Q,o&&Si(r[0],r[1],o)&&(i=u<3?Q:i,u=1),t=ul(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Du(n,t){return function(r,e){if(null==r)return r;if(!Pf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ul(r);(t?i--:++i<u)&&!1!==e(o[i],i,o););return r}}function Mu(n){return function(t,r,e){for(var u=-1,i=ul(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(!1===r(i[c],c,i))break}return t}}function Fu(n,t,r){function e(){return(this&&this!==Or&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&sn,i=qu(n);return e}function Nu(n){return function(t){t=Ac(t);var r=B(t)?G(t):Q,e=r?r[0]:t.charAt(0),u=r?xu(r,1).join(""):t.slice(1);return e[n]()+u}}function Pu(n){return function(t){return l(xa(ra(t).replace(cr,"")),n,"")}}function qu(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=ls(n.prototype),e=n.apply(r,t);return tc(e)?e:r}}function Zu(t,r,e){function u(){for(var o=arguments.length,f=Xa(o),c=o,a=gi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:F(f,a);return(o-=l.length)<e?ri(t,r,Gu,u.placeholder,Q,f,l,Q,Q,e-o):n(this&&this!==Or&&this instanceof u?i:t,this,f)}var i=qu(t);return u}function Ku(n){return function(t,r,e){var u=ul(t);if(!Pf(t)){var i=yi(r,3);t=Tc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:Q}}function Vu(n){return hi(function(t){var r=t.length,e=r,u=J.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if("function"!=typeof i)throw new fl(tn);if(u&&!o&&"wrapper"==vi(i))var o=new J([],!0)}for(e=o?e:r;++e<r;){i=t[e];var f=vi(i),c="wrapper"==f?ws(i):Q;o=c&&Ci(c[0])&&c[1]==(dn|_n|gn|bn)&&!c[4].length&&1==c[9]?o[vi(c[0])].apply(o,c[3]):1==i.length&&Ci(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&ph(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Gu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=Xa(y),b=y;b--;)d[b]=arguments[b];if(_)var w=gi(l),m=W(d,w);if(e&&(d=Su(d,e,u,_)),i&&(d=Lu(d,i,o,_)),y-=m,_&&y<a){var x=F(d,w);return ri(n,t,Gu,l.placeholder,r,d,x,f,c,a-y)}var j=h?r:this,A=p?j[n]:n;return y=d.length,f?d=qi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==Or&&this instanceof l&&(A=g||qu(A)),A.apply(j,d)}var s=t&dn,h=t&sn,p=t&hn,_=t&(_n|vn),v=t&wn,g=p?Q:qu(n);return l}function Hu(n,t){return function(r,e){return xe(r,n,t(e),{})}}function Ju(n,t){return function(r,e){var u;if(r===Q&&e===Q)return t;if(r!==Q&&(u=r),e!==Q){if(u===Q)return e;"string"==typeof r||"string"==typeof e?(r=su(r),e=su(e)):(r=lu(r),e=lu(e)),u=n(r,e)}return u}}function Yu(t){return hi(function(r){return r=c(r,R(yi())),nu(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function Qu(n,t){t=t===Q?" ":su(t);var r=t.length;if(r<2)return r?Xe(t,n):t;var e=Xe(t,Ul(n/V(t)));return B(t)?xu(G(e),0,n).join(""):e.slice(0,n)}function Xu(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=Xa(l+c),h=this&&this!==Or&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];return n(h,o?e:this,s)}var o=r&sn,f=qu(t);return i}function ni(n){return function(t,r,e){return e&&"number"!=typeof e&&Si(t,r,e)&&(r=e=Q),t=dc(t),r===Q?(r=t,t=0):r=dc(r),e=e===Q?t<r?1:-1:dc(e),Qe(t,r,e,n)}}function ti(n){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=mc(t),r=mc(r)),n(t,r)}}function ri(n,t,r,e,u,i,o,f,c,a){var l=t&_n,s=l?o:Q,h=l?Q:o,p=l?i:Q,_=l?Q:i;t|=l?gn:yn,(t&=~(l?yn:gn))&pn||(t&=~(sn|hn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(Q,v);return Ci(n)&&ks(g,v),g.placeholder=e,Zi(g,n,t)}function ei(n){var t=el[n];return function(n,r){if(n=mc(n),r=null==r?0:Pl(bc(r),292)){var e=(Ac(n)+"e").split("e");return e=(Ac(t(e[0]+"e"+(+e[1]+r)))+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return t(n)}}function ui(n){return function(t){var r=js(t);return r==qn?D(t):r==Jn?q(t):I(t,n(t))}}function ii(n,t,r,e,u,i,o,f){var c=t&hn;if(!c&&"function"!=typeof n)throw new fl(tn);var a=e?e.length:0;if(a||(t&=~(gn|yn),e=u=Q),o=o===Q?o:Nl(bc(o),0),f=f===Q?f:bc(f),a-=u?u.length:0,t&yn){var l=e,s=u;e=u=Q}var h=c?Q:ws(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&Di(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===Q?c?0:n.length:Nl(p[9]-a,0),!f&&t&(_n|vn)&&(t&=~(_n|vn)),t&&t!=sn)_=t==_n||t==vn?Zu(n,t,f):t!=gn&&t!=(sn|gn)||u.length?Gu.apply(Q,p):Xu(n,t,r,e);else var _=Fu(n,t,r);return Zi((h?vs:ks)(_,p),n,t)}function oi(n,t,r,e){return n===Q||Nf(n,ll[r])&&!pl.call(e,r)?t:n}function fi(n,t,r,e,u,i){return tc(n)&&tc(t)&&(i.set(t,n),Ne(n,t,Q,fi,i),i.delete(t)),n}function ci(n){return lc(n)?Q:n}function ai(n,t,r,e,u,i){var o=r&an,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n);if(a&&i.get(t))return a==t;var l=-1,s=!0,p=r&ln?new br:Q;for(i.set(n,t),i.set(t,n);++l<f;){var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(g!==Q){if(g)continue;s=!1;break}if(p){if(!h(t,function(n,t){if(!E(p,t)&&(_===n||u(_,n,r,e,i)))return p.push(t)})){s=!1;break}}else if(_!==v&&!u(_,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s}function li(n,t,r,e,u,i,o){switch(r){case et:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case rt:return!(n.byteLength!=t.byteLength||!i(new xl(n),new xl(t)));case $n:case Dn:case Zn:return Nf(+n,+t);case Fn:return n.name==t.name&&n.message==t.message;case Hn:case Yn:return n==t+"";case qn:var f=D;case Jn:var c=e&an;if(f||(f=P),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=ln,o.set(n,t);var l=ai(f(n),f(t),e,u,i,o);return o.delete(n),l;case Qn:if(cs)return cs.call(n)==cs.call(t)}return!1}function si(n,t,r,e,u,i){var o=r&an,f=pi(n),c=f.length;if(c!=pi(t).length&&!o)return!1;for(var a=c;a--;){var l=f[a];if(!(o?l in t:pl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var h=!0
;i.set(n,t),i.set(t,n);for(var p=o;++a<c;){l=f[a];var _=n[l],v=t[l];if(e)var g=o?e(v,_,l,t,n,i):e(_,v,l,n,t,i);if(!(g===Q?_===v||u(_,v,r,e,i):g)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var y=n.constructor,d=t.constructor;y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(h=!1)}return i.delete(n),i.delete(t),h}function hi(n){return Is(Ni(n,Q,co),n+"")}function pi(n){return ve(n,Tc,ms)}function _i(n){return ve(n,$c,xs)}function vi(n){for(var t=n.name+"",r=ts[t],e=pl.call(ts,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function gi(n){return(pl.call(Z,"placeholder")?Z:n).placeholder}function yi(){var n=Z.iteratee||Ra;return n=n===Ra?Ue:n,arguments.length?n(arguments[0],arguments[1]):n}function di(n,t){var r=n.__data__;return Wi(t)?r["string"==typeof t?"string":"hash"]:r.map}function bi(n){for(var t=Tc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Ti(u)]}return t}function wi(n,t){var r=U(n,t);return Se(r)?r:Q}function mi(n){var t=pl.call(n,El),r=n[El];try{n[El]=Q;var e=!0}catch(n){}var u=gl.call(n);return e&&(t?n[El]=r:delete n[El]),u}function xi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Pl(t,n+o);break;case"takeRight":n=Nl(n,t-o)}}return{start:n,end:t}}function ji(n){var t=n.match(Lt);return t?t[1].split(Wt):[]}function Ai(n,t,r){t=mu(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=Gi(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:!!(u=null==n?0:n.length)&&nc(u)&&Ei(o,u)&&(ph(n)||hh(n))}function ki(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&pl.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Oi(n){return"function"!=typeof n.constructor||Bi(n)?{}:ls(Al(n))}function Ii(n,t,r){var e=n.constructor;switch(t){case rt:return Au(n);case $n:case Dn:return new e(+n);case et:return ku(n,r);case ut:case it:case ot:case ft:case ct:case at:case lt:case st:case ht:return Ru(n,r);case qn:return new e;case Zn:case Yn:return new e(n);case Hn:return Ou(n);case Jn:return new e;case Qn:return Iu(n)}}function Ri(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?"& ":"")+t[e],t=t.join(r>2?", ":" "),n.replace(St,"{\n/* [wrapped with "+t+"] */\n")}function zi(n){return ph(n)||hh(n)||!!(Rl&&n&&n[Rl])}function Ei(n,t){var r=typeof n;return!!(t=null==t?Rn:t)&&("number"==r||"symbol"!=r&&Nt.test(n))&&n>-1&&n%1==0&&n<t}function Si(n,t,r){if(!tc(r))return!1;var e=typeof t;return!!("number"==e?Pf(r)&&Ei(t,r.length):"string"==e&&t in r)&&Nf(r[t],n)}function Li(n,t){if(ph(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!pc(n))||(At.test(n)||!jt.test(n)||null!=t&&n in ul(t))}function Wi(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}function Ci(n){var t=vi(n),r=Z[t];if("function"!=typeof r||!(t in Ct.prototype))return!1;if(n===r)return!0;var e=ws(r);return!!e&&n===e[0]}function Ui(n){return!!vl&&vl in n}function Bi(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||ll)}function Ti(n){return n===n&&!tc(n)}function $i(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==Q||n in ul(r)))}}function Di(n,t){var r=n[1],e=t[1],u=r|e,i=u<(sn|hn|dn),o=e==dn&&r==_n||e==dn&&r==bn&&n[7].length<=t[8]||e==(dn|bn)&&t[7].length<=t[8]&&r==_n;if(!i&&!o)return n;e&sn&&(n[2]=t[2],u|=r&sn?0:pn);var f=t[3];if(f){var c=n[3];n[3]=c?Su(c,f,t[4]):f,n[4]=c?F(n[3],un):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Lu(c,f,t[6]):f,n[6]=c?F(n[5],un):t[6]),f=t[7],f&&(n[7]=f),e&dn&&(n[8]=null==n[8]?t[8]:Pl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Mi(n){var t=[];if(null!=n)for(var r in ul(n))t.push(r);return t}function Fi(n){return gl.call(n)}function Ni(t,r,e){return r=Nl(r===Q?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Nl(u.length-r,0),f=Xa(o);++i<o;)f[i]=u[r+i];i=-1;for(var c=Xa(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Pi(n,t){return t.length<2?n:_e(n,iu(t,0,-1))}function qi(n,t){for(var r=n.length,e=Pl(t.length,r),u=Wu(n);e--;){var i=t[e];n[e]=Ei(i,r)?u[i]:Q}return n}function Zi(n,t,r){var e=t+"";return Is(n,Ri(e,Ji(ji(e),r)))}function Ki(n){var t=0,r=0;return function(){var e=ql(),u=An-(e-r);if(r=e,u>0){if(++t>=jn)return arguments[0]}else t=0;return n.apply(Q,arguments)}}function Vi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===Q?e:t;++r<t;){var i=Ye(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function Gi(n){if("string"==typeof n||pc(n))return n;var t=n+"";return"0"==t&&1/n==-In?"-0":t}function Hi(n){if(null!=n){try{return hl.call(n)}catch(n){}try{return n+""}catch(n){}}return""}function Ji(n,t){return r(Cn,function(r){var e="_."+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function Yi(n){if(n instanceof Ct)return n.clone();var t=new J(n.__wrapped__,n.__chain__);return t.__actions__=Wu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function Qi(n,t,r){t=(r?Si(n,t,r):t===Q)?1:Nl(bc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=Xa(Ul(e/t));u<e;)o[i++]=iu(n,u,u+=t);return o}function Xi(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function no(){var n=arguments.length;if(!n)return[];for(var t=Xa(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(ph(r)?Wu(r):[r],le(t,1))}function to(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Q?1:bc(t),iu(n,t<0?0:t,e)):[]}function ro(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Q?1:bc(t),t=e-t,iu(n,0,t<0?0:t)):[]}function eo(n,t){return n&&n.length?vu(n,yi(t,3),!0,!0):[]}function uo(n,t){return n&&n.length?vu(n,yi(t,3),!0):[]}function io(n,t,r,e){var u=null==n?0:n.length;return u?(r&&"number"!=typeof r&&Si(n,t,r)&&(r=0,e=u),ce(n,t,r,e)):[]}function oo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Nl(e+u,0)),g(n,yi(t,3),u)}function fo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==Q&&(u=bc(r),u=r<0?Nl(e+u,0):Pl(u,e-1)),g(n,yi(t,3),u,!0)}function co(n){return(null==n?0:n.length)?le(n,1):[]}function ao(n){return(null==n?0:n.length)?le(n,In):[]}function lo(n,t){return(null==n?0:n.length)?(t=t===Q?1:bc(t),le(n,t)):[]}function so(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function ho(n){return n&&n.length?n[0]:Q}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:bc(r);return u<0&&(u=Nl(e+u,0)),y(n,t,u)}function _o(n){return(null==n?0:n.length)?iu(n,0,-1):[]}function vo(n,t){return null==n?"":Ml.call(n,t)}function go(n){var t=null==n?0:n.length;return t?n[t-1]:Q}function yo(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==Q&&(u=bc(r),u=u<0?Nl(e+u,0):Pl(u,e-1)),t===t?K(n,t,u):g(n,b,u,!0)}function bo(n,t){return n&&n.length?qe(n,bc(t)):Q}function wo(n,t){return n&&n.length&&t&&t.length?He(n,t):n}function mo(n,t,r){return n&&n.length&&t&&t.length?He(n,t,yi(r,2)):n}function xo(n,t,r){return n&&n.length&&t&&t.length?He(n,t,Q,r):n}function jo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=yi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return Je(n,u),r}function Ao(n){return null==n?n:Vl.call(n)}function ko(n,t,r){var e=null==n?0:n.length;return e?(r&&"number"!=typeof r&&Si(n,t,r)?(t=0,r=e):(t=null==t?0:bc(t),r=r===Q?e:bc(r)),iu(n,t,r)):[]}function Oo(n,t){return fu(n,t)}function Io(n,t,r){return cu(n,t,yi(r,2))}function Ro(n,t){var r=null==n?0:n.length;if(r){var e=fu(n,t);if(e<r&&Nf(n[e],t))return e}return-1}function zo(n,t){return fu(n,t,!0)}function Eo(n,t,r){return cu(n,t,yi(r,2),!0)}function So(n,t){if(null==n?0:n.length){var r=fu(n,t,!0)-1;if(Nf(n[r],t))return r}return-1}function Lo(n){return n&&n.length?au(n):[]}function Wo(n,t){return n&&n.length?au(n,yi(t,2)):[]}function Co(n){var t=null==n?0:n.length;return t?iu(n,1,t):[]}function Uo(n,t,r){return n&&n.length?(t=r||t===Q?1:bc(t),iu(n,0,t<0?0:t)):[]}function Bo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===Q?1:bc(t),t=e-t,iu(n,t<0?0:t,e)):[]}function To(n,t){return n&&n.length?vu(n,yi(t,3),!1,!0):[]}function $o(n,t){return n&&n.length?vu(n,yi(t,3)):[]}function Do(n){return n&&n.length?hu(n):[]}function Mo(n,t){return n&&n.length?hu(n,yi(t,2)):[]}function Fo(n,t){return t="function"==typeof t?t:Q,n&&n.length?hu(n,Q,t):[]}function No(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){if(qf(n))return t=Nl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Po(t,r){if(!t||!t.length)return[];var e=No(t);return null==r?e:c(e,function(t){return n(r,Q,t)})}function qo(n,t){return du(n||[],t||[],Vr)}function Zo(n,t){return du(n||[],t||[],eu)}function Ko(n){var t=Z(n);return t.__chain__=!0,t}function Vo(n,t){return t(n),n}function Go(n,t){return t(n)}function Ho(){return Ko(this)}function Jo(){return new J(this.value(),this.__chain__)}function Yo(){this.__values__===Q&&(this.__values__=yc(this.value()));var n=this.__index__>=this.__values__.length;return{done:n,value:n?Q:this.__values__[this.__index__++]}}function Qo(){return this}function Xo(n){for(var t,r=this;r instanceof H;){var e=Yi(r);e.__index__=0,e.__values__=Q,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function nf(){var n=this.__wrapped__;if(n instanceof Ct){var t=n;return this.__actions__.length&&(t=new Ct(this)),t=t.reverse(),t.__actions__.push({func:Go,args:[Ao],thisArg:Q}),new J(t,this.__chain__)}return this.thru(Ao)}function tf(){return gu(this.__wrapped__,this.__actions__)}function rf(n,t,r){var e=ph(n)?u:oe;return r&&Si(n,t,r)&&(t=Q),e(n,yi(t,3))}function ef(n,t){return(ph(n)?i:ae)(n,yi(t,3))}function uf(n,t){return le(sf(n,t),1)}function of(n,t){return le(sf(n,t),In)}function ff(n,t,r){return r=r===Q?1:bc(r),le(sf(n,t),r)}function cf(n,t){return(ph(n)?r:ss)(n,yi(t,3))}function af(n,t){return(ph(n)?e:hs)(n,yi(t,3))}function lf(n,t,r,e){n=Pf(n)?n:Jc(n),r=r&&!e?bc(r):0;var u=n.length;return r<0&&(r=Nl(u+r,0)),hc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function sf(n,t){return(ph(n)?c:De)(n,yi(t,3))}function hf(n,t,r,e){return null==n?[]:(ph(t)||(t=null==t?[]:[t]),r=e?Q:r,ph(r)||(r=null==r?[]:[r]),Ze(n,t,r))}function pf(n,t,r){var e=ph(n)?l:j,u=arguments.length<3;return e(n,yi(t,4),r,u,ss)}function _f(n,t,r){var e=ph(n)?s:j,u=arguments.length<3;return e(n,yi(t,4),r,u,hs)}function vf(n,t){return(ph(n)?i:ae)(n,zf(yi(t,3)))}function gf(n){return(ph(n)?Pr:tu)(n)}function yf(n,t,r){return t=(r?Si(n,t,r):t===Q)?1:bc(t),(ph(n)?qr:ru)(n,t)}function df(n){return(ph(n)?Zr:uu)(n)}function bf(n){if(null==n)return 0;if(Pf(n))return hc(n)?V(n):n.length;var t=js(n);return t==qn||t==Jn?n.size:Be(n).length}function wf(n,t,r){var e=ph(n)?h:ou;return r&&Si(n,t,r)&&(t=Q),e(n,yi(t,3))}function mf(n,t){if("function"!=typeof t)throw new fl(tn);return n=bc(n),function(){if(--n<1)return t.apply(this,arguments)}}function xf(n,t,r){return t=r?Q:t,t=n&&null==t?n.length:t,ii(n,dn,Q,Q,Q,Q,t)}function jf(n,t){var r;if("function"!=typeof t)throw new fl(tn);return n=bc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=Q),r}}function Af(n,t,r){t=r?Q:t;var e=ii(n,_n,Q,Q,Q,Q,Q,t);return e.placeholder=Af.placeholder,e}function kf(n,t,r){t=r?Q:t;var e=ii(n,vn,Q,Q,Q,Q,Q,t);return e.placeholder=kf.placeholder,e}function Of(n,t,r){function e(t){var r=h,e=p;return h=p=Q,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Os(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Pl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===Q||r>=t||r<0||w&&e>=_}function f(){var n=th();if(o(n))return c(n);g=Os(f,i(n))}function c(n){return g=Q,m&&h?e(n):(h=p=Q,v)}function a(){g!==Q&&ds(g),d=0,h=y=p=g=Q}function l(){return g===Q?v:c(th())}function s(){var n=th(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===Q)return u(y);if(w)return g=Os(f,t),e(y)}return g===Q&&(g=Os(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if("function"!=typeof n)throw new fl(tn);return t=mc(t)||0,tc(r)&&(b=!!r.leading,w="maxWait"in r,_=w?Nl(mc(r.maxWait)||0,t):_,m="trailing"in r?!!r.trailing:m),s.cancel=a,s.flush=l,s}function If(n){return ii(n,wn)}function Rf(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new fl(tn);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Rf.Cache||fr),r}function zf(n){if("function"!=typeof n)throw new fl(tn);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Ef(n){return jf(2,n)}function Sf(n,t){if("function"!=typeof n)throw new fl(tn);return t=t===Q?t:bc(t),nu(n,t)}function Lf(t,r){if("function"!=typeof t)throw new fl(tn);return r=null==r?0:Nl(bc(r),0),nu(function(e){var u=e[r],i=xu(e,0,r);return u&&a(i,u),n(t,this,i)})}function Wf(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new fl(tn);return tc(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Of(n,t,{leading:e,maxWait:t,trailing:u})}function Cf(n){return xf(n,1)}function Uf(n,t){return fh(wu(t),n)}function Bf(){if(!arguments.length)return[];var n=arguments[0];return ph(n)?n:[n]}function Tf(n){return te(n,cn)}function $f(n,t){return t="function"==typeof t?t:Q,te(n,cn,t)}function Df(n){return te(n,on|cn)}function Mf(n,t){return t="function"==typeof t?t:Q,te(n,on|cn,t)}function Ff(n,t){return null==t||ee(n,t,Tc(t))}function Nf(n,t){return n===t||n!==n&&t!==t}function Pf(n){return null!=n&&nc(n.length)&&!Qf(n)}function qf(n){return rc(n)&&Pf(n)}function Zf(n){return!0===n||!1===n||rc(n)&&ge(n)==$n}function Kf(n){return rc(n)&&1===n.nodeType&&!lc(n)}function Vf(n){if(null==n)return!0;if(Pf(n)&&(ph(n)||"string"==typeof n||"function"==typeof n.splice||vh(n)||wh(n)||hh(n)))return!n.length;var t=js(n);if(t==qn||t==Jn)return!n.size;if(Bi(n))return!Be(n).length;for(var r in n)if(pl.call(n,r))return!1;return!0}function Gf(n,t){return Ie(n,t)}function Hf(n,t,r){r="function"==typeof r?r:Q;var e=r?r(n,t):Q;return e===Q?Ie(n,t,Q,r):!!e}function Jf(n){if(!rc(n))return!1;var t=ge(n);return t==Fn||t==Mn||"string"==typeof n.message&&"string"==typeof n.name&&!lc(n)}function Yf(n){return"number"==typeof n&&Dl(n)}function Qf(n){if(!tc(n))return!1;var t=ge(n);return t==Nn||t==Pn||t==Tn||t==Gn}function Xf(n){return"number"==typeof n&&n==bc(n)}function nc(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Rn}function tc(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)}function rc(n){return null!=n&&"object"==typeof n}function ec(n,t){return n===t||Ee(n,t,bi(t))}function uc(n,t,r){return r="function"==typeof r?r:Q,Ee(n,t,bi(t),r)}function ic(n){return ac(n)&&n!=+n}function oc(n){if(As(n))throw new tl(nn);return Se(n)}function fc(n){return null===n}function cc(n){return null==n}function ac(n){return"number"==typeof n||rc(n)&&ge(n)==Zn}function lc(n){if(!rc(n)||ge(n)!=Vn)return!1;var t=Al(n);if(null===t)return!0;var r=pl.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&hl.call(r)==yl}function sc(n){return Xf(n)&&n>=-Rn&&n<=Rn}function hc(n){return"string"==typeof n||!ph(n)&&rc(n)&&ge(n)==Yn}function pc(n){return"symbol"==typeof n||rc(n)&&ge(n)==Qn}function _c(n){return n===Q}function vc(n){return rc(n)&&js(n)==nt}function gc(n){return rc(n)&&ge(n)==tt}function yc(n){if(!n)return[];if(Pf(n))return hc(n)?G(n):Wu(n);if(zl&&n[zl])return $(n[zl]());var t=js(n);return(t==qn?D:t==Jn?P:Jc)(n)}function dc(n){if(!n)return 0===n?n:0;if((n=mc(n))===In||n===-In){return(n<0?-1:1)*zn}return n===n?n:0}function bc(n){var t=dc(n),r=t%1;return t===t?r?t-r:t:0}function wc(n){return n?ne(bc(n),0,Sn):0}function mc(n){if("number"==typeof n)return n;if(pc(n))return En;if(tc(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=tc(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Rt,"");var r=Dt.test(n);return r||Ft.test(n)?jr(n.slice(2),r?2:8):$t.test(n)?En:+n}function xc(n){return Cu(n,$c(n))}function jc(n){return n?ne(bc(n),-Rn,Rn):0===n?n:0}function Ac(n){return null==n?"":su(n)}function kc(n,t){var r=ls(n);return null==t?r:Jr(r,t)}function Oc(n,t){return v(n,yi(t,3),se)}function Ic(n,t){return v(n,yi(t,3),he)}function Rc(n,t){return null==n?n:ps(n,yi(t,3),$c)}function zc(n,t){return null==n?n:_s(n,yi(t,3),$c)}function Ec(n,t){return n&&se(n,yi(t,3))}function Sc(n,t){return n&&he(n,yi(t,3))}function Lc(n){return null==n?[]:pe(n,Tc(n))}function Wc(n){return null==n?[]:pe(n,$c(n))}function Cc(n,t,r){var e=null==n?Q:_e(n,t);return e===Q?r:e}function Uc(n,t){return null!=n&&Ai(n,t,de)}function Bc(n,t){return null!=n&&Ai(n,t,be)}function Tc(n){return Pf(n)?$r(n):Be(n)}function $c(n){return Pf(n)?$r(n,!0):Te(n)}function Dc(n,t){var r={};return t=yi(t,3),se(n,function(n,e,u){Qr(r,t(n,e,u),n)}),r}function Mc(n,t){var r={};return t=yi(t,3),se(n,function(n,e,u){Qr(r,e,t(n,e,u))}),r}function Fc(n,t){return Nc(n,zf(yi(t)))}function Nc(n,t){if(null==n)return{};var r=c(_i(n),function(n){return[n]});return t=yi(t),Ve(n,r,function(n,r){return t(n,r[0])})}function Pc(n,t,r){t=mu(t,n);var e=-1,u=t.length;for(u||(u=1,n=Q);++e<u;){var i=null==n?Q:n[Gi(t[e])];i===Q&&(e=u,i=r),n=Qf(i)?i.call(n):i}return n}function qc(n,t,r){return null==n?n:eu(n,t,r)}function Zc(n,t,r,e){return e="function"==typeof e?e:Q,null==n?n:eu(n,t,r,e)}function Kc(n,t,e){var u=ph(n),i=u||vh(n)||wh(n);if(t=yi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:tc(n)&&Qf(o)?ls(Al(n)):{}}return(i?r:se)(n,function(n,r,u){return t(e,n,r,u)}),e}function Vc(n,t){return null==n||pu(n,t)}function Gc(n,t,r){return null==n?n:_u(n,t,wu(r))}function Hc(n,t,r,e){return e="function"==typeof e?e:Q,null==n?n:_u(n,t,wu(r),e)}function Jc(n){return null==n?[]:z(n,Tc(n))}function Yc(n){return null==n?[]:z(n,$c(n))}function Qc(n,t,r){return r===Q&&(r=t,t=Q),r!==Q&&(r=mc(r),r=r===r?r:0),t!==Q&&(t=mc(t),t=t===t?t:0),ne(mc(n),t,r)}function Xc(n,t,r){return t=dc(t),r===Q?(r=t,t=0):r=dc(r),n=mc(n),we(n,t,r)}function na(n,t,r){if(r&&"boolean"!=typeof r&&Si(n,t,r)&&(t=r=Q),r===Q&&("boolean"==typeof t?(r=t,t=Q):"boolean"==typeof n&&(r=n,n=Q)),n===Q&&t===Q?(n=0,t=1):(n=dc(n),t===Q?(t=n,n=0):t=dc(t)),n>t){var e=n;n=t,t=e}if(r||n%1||t%1){var u=Kl();return Pl(n+u*(t-n+xr("1e-"+((u+"").length-1))),t)}return Ye(n,t)}function ta(n){return Kh(Ac(n).toLowerCase())}function ra(n){return(n=Ac(n))&&n.replace(Pt,Dr).replace(ar,"")}function ea(n,t,r){n=Ac(n),t=su(t);var e=n.length;r=r===Q?e:ne(bc(r),0,e);var u=r;return(r-=t.length)>=0&&n.slice(r,u)==t}function ua(n){return n=Ac(n),n&&bt.test(n)?n.replace(yt,Mr):n}function ia(n){return n=Ac(n),n&&It.test(n)?n.replace(Ot,"\\$&"):n}function oa(n,t,r){n=Ac(n),t=bc(t);var e=t?V(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return Qu(Bl(u),r)+n+Qu(Ul(u),r)}function fa(n,t,r){n=Ac(n),t=bc(t);var e=t?V(n):0;return t&&e<t?n+Qu(t-e,r):n}function ca(n,t,r){n=Ac(n),t=bc(t);var e=t?V(n):0;return t&&e<t?Qu(t-e,r)+n:n}function aa(n,t,r){return r||null==t?t=0:t&&(t=+t),Zl(Ac(n).replace(zt,""),t||0)}function la(n,t,r){return t=(r?Si(n,t,r):t===Q)?1:bc(t),Xe(Ac(n),t)}function sa(){var n=arguments,t=Ac(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function ha(n,t,r){return r&&"number"!=typeof r&&Si(n,t,r)&&(t=r=Q),(r=r===Q?Sn:r>>>0)?(n=Ac(n),n&&("string"==typeof t||null!=t&&!dh(t))&&!(t=su(t))&&B(n)?xu(G(n),0,r):n.split(t,r)):[]}function pa(n,t,r){return n=Ac(n),r=null==r?0:ne(bc(r),0,n.length),t=su(t),n.slice(r,r+t.length)==t}function _a(n,t,r){var e=Z.templateSettings;r&&Si(n,t,r)&&(t=Q),n=Ac(n),t=kh({},t,e,oi);var u,i,o=kh({},t.imports,e.imports,oi),f=Tc(o),c=z(o,f),a=0,l=t.interpolate||qt,s="__p += '",h=il((t.escape||qt).source+"|"+l.source+"|"+(l===xt?Bt:qt).source+"|"+(t.evaluate||qt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++vr+"]")+"\n";n.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Zt,C),r&&(u=!0,s+="' +\n__e("+r+") +\n'"),f&&(i=!0,s+="';\n"+f+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),a=c+t.length,t}),s+="';\n";var _=t.variable;_||(s="with (obj) {\n"+s+"\n}\n"),s=(i?s.replace(pt,""):s).replace(_t,"$1").replace(vt,"$1;"),s="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}";var v=Vh(function(){return rl(f,p+"return "+s).apply(Q,c)});if(v.source=s,Jf(v))throw v;return v}function va(n){return Ac(n).toLowerCase()}function ga(n){return Ac(n).toUpperCase()}function ya(n,t,r){if((n=Ac(n))&&(r||t===Q))return n.replace(Rt,"");if(!n||!(t=su(t)))return n;var e=G(n),u=G(t);return xu(e,S(e,u),L(e,u)+1).join("")}function da(n,t,r){if((n=Ac(n))&&(r||t===Q))return n.replace(Et,"");if(!n||!(t=su(t)))return n;var e=G(n);return xu(e,0,L(e,G(t))+1).join("")}function ba(n,t,r){if((n=Ac(n))&&(r||t===Q))return n.replace(zt,"");if(!n||!(t=su(t)))return n;var e=G(n);return xu(e,S(e,G(t))).join("")}function wa(n,t){var r=mn,e=xn;if(tc(t)){var u="separator"in t?t.separator:u;r="length"in t?bc(t.length):r,e="omission"in t?su(t.omission):e}n=Ac(n);var i=n.length;if(B(n)){var o=G(n);i=o.length}if(r>=i)return n;var f=r-V(e);if(f<1)return e;var c=o?xu(o,0,f).join(""):n.slice(0,f);if(u===Q)return c+e;if(o&&(f+=c.length-f),dh(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=il(u.source,Ac(Tt.exec(u))+"g")),u.lastIndex=0;a=u.exec(l);)var s=a.index;c=c.slice(0,s===Q?f:s)}}else if(n.indexOf(su(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function ma(n){return n=Ac(n),n&&dt.test(n)?n.replace(gt,Fr):n}function xa(n,t,r){return n=Ac(n),t=r?Q:t,t===Q?T(n)?Y(n):_(n):n.match(t)||[]}function ja(t){var r=null==t?0:t.length,e=yi();return t=r?c(t,function(n){if("function"!=typeof n[1])throw new fl(tn);return[e(n[0]),n[1]]}):[],nu(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Aa(n){return re(te(n,on))}function ka(n){return function(){return n}}function Oa(n,t){return null==n||n!==n?t:n}function Ia(n){return n}function Ra(n){return Ue("function"==typeof n?n:te(n,on))}function za(n){return Me(te(n,on))}function Ea(n,t){return Fe(n,te(t,on))}function Sa(n,t,e){var u=Tc(t),i=pe(t,u);null!=e||tc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=pe(t,Tc(t)));var o=!(tc(e)&&"chain"in e&&!e.chain),f=Qf(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=n(this.__wrapped__);return(r.__actions__=Wu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function La(){return Or._===this&&(Or._=dl),this}function Wa(){}function Ca(n){return n=bc(n),nu(function(t){return qe(t,n)})}function Ua(n){return Li(n)?m(Gi(n)):Ge(n)}function Ba(n){return function(t){return null==n?Q:_e(n,t)}}function Ta(){return[]}function $a(){return!1}function Da(){return{}}function Ma(){return""}function Fa(){return!0}function Na(n,t){if((n=bc(n))<1||n>Rn)return[];var r=Sn,e=Pl(n,Sn);t=yi(t),n-=Sn;for(var u=O(e,t);++r<n;)t(r);return u}function Pa(n){return ph(n)?c(n,Gi):pc(n)?[n]:Wu(Rs(Ac(n)))}function qa(n){var t=++_l;return Ac(n)+t}function Za(n){return n&&n.length?fe(n,Ia,ye):Q}function Ka(n,t){return n&&n.length?fe(n,yi(t,2),ye):Q}function Va(n){return w(n,Ia)}function Ga(n,t){return w(n,yi(t,2))}function Ha(n){return n&&n.length?fe(n,Ia,$e):Q}function Ja(n,t){return n&&n.length?fe(n,yi(t,2),$e):Q}function Ya(n){return n&&n.length?k(n,Ia):0}function Qa(n,t){return n&&n.length?k(n,yi(t,2)):0}x=null==x?Or:Nr.defaults(Or.Object(),x,Nr.pick(Or,_r));var Xa=x.Array,nl=x.Date,tl=x.Error,rl=x.Function,el=x.Math,ul=x.Object,il=x.RegExp,ol=x.String,fl=x.TypeError,cl=Xa.prototype,al=rl.prototype,ll=ul.prototype,sl=x["__core-js_shared__"],hl=al.toString,pl=ll.hasOwnProperty,_l=0,vl=function(){var n=/[^.]+$/.exec(sl&&sl.keys&&sl.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),gl=ll.toString,yl=hl.call(ul),dl=Or._,bl=il("^"+hl.call(pl).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),wl=zr?x.Buffer:Q,ml=x.Symbol,xl=x.Uint8Array,jl=wl?wl.allocUnsafe:Q,Al=M(ul.getPrototypeOf,ul),kl=ul.create,Ol=ll.propertyIsEnumerable,Il=cl.splice,Rl=ml?ml.isConcatSpreadable:Q,zl=ml?ml.iterator:Q,El=ml?ml.toStringTag:Q,Sl=function(){try{var n=wi(ul,"defineProperty");return n({},"",{}),n}catch(n){}}(),Ll=x.clearTimeout!==Or.clearTimeout&&x.clearTimeout,Wl=nl&&nl.now!==Or.Date.now&&nl.now,Cl=x.setTimeout!==Or.setTimeout&&x.setTimeout,Ul=el.ceil,Bl=el.floor,Tl=ul.getOwnPropertySymbols,$l=wl?wl.isBuffer:Q,Dl=x.isFinite,Ml=cl.join,Fl=M(ul.keys,ul),Nl=el.max,Pl=el.min,ql=nl.now,Zl=x.parseInt,Kl=el.random,Vl=cl.reverse,Gl=wi(x,"DataView"),Hl=wi(x,"Map"),Jl=wi(x,"Promise"),Yl=wi(x,"Set"),Ql=wi(x,"WeakMap"),Xl=wi(ul,"create"),ns=Ql&&new Ql,ts={},rs=Hi(Gl),es=Hi(Hl),us=Hi(Jl),is=Hi(Yl),os=Hi(Ql),fs=ml?ml.prototype:Q,cs=fs?fs.valueOf:Q,as=fs?fs.toString:Q,ls=function(){function n(){}return function(t){if(!tc(t))return{};if(kl)return kl(t);n.prototype=t;var r=new n;return n.prototype=Q,r}}();Z.templateSettings={escape:wt,evaluate:mt,interpolate:xt,variable:"",imports:{_:Z}},Z.prototype=H.prototype,Z.prototype.constructor=Z,J.prototype=ls(H.prototype),J.prototype.constructor=J,Ct.prototype=ls(H.prototype),Ct.prototype.constructor=Ct,Ht.prototype.clear=Jt,Ht.prototype.delete=Yt,Ht.prototype.get=Qt,Ht.prototype.has=Xt,Ht.prototype.set=nr,tr.prototype.clear=rr,tr.prototype.delete=er,tr.prototype.get=ur,tr.prototype.has=ir,tr.prototype.set=or,fr.prototype.clear=lr,fr.prototype.delete=sr,fr.prototype.get=hr,fr.prototype.has=pr,fr.prototype.set=dr,br.prototype.add=br.prototype.push=wr,br.prototype.has=mr,Ar.prototype.clear=kr,Ar.prototype.delete=Ir,Ar.prototype.get=Rr,Ar.prototype.has=Er,Ar.prototype.set=Sr;var ss=Du(se),hs=Du(he,!0),ps=Mu(),_s=Mu(!0),vs=ns?function(n,t){return ns.set(n,t),n}:Ia,gs=Sl?function(n,t){return Sl(n,"toString",{configurable:!0,enumerable:!1,value:ka(t),writable:!0})}:Ia,ys=nu,ds=Ll||function(n){return Or.clearTimeout(n)},bs=Yl&&1/P(new Yl([,-0]))[1]==In?function(n){return new Yl(n)}:Wa,ws=ns?function(n){return ns.get(n)}:Wa,ms=Tl?function(n){return null==n?[]:(n=ul(n),i(Tl(n),function(t){return Ol.call(n,t)}))}:Ta,xs=Tl?function(n){for(var t=[];n;)a(t,ms(n)),n=Al(n);return t}:Ta,js=ge;(Gl&&js(new Gl(new ArrayBuffer(1)))!=et||Hl&&js(new Hl)!=qn||Jl&&"[object Promise]"!=js(Jl.resolve())||Yl&&js(new Yl)!=Jn||Ql&&js(new Ql)!=nt)&&(js=function(n){var t=ge(n),r=t==Vn?n.constructor:Q,e=r?Hi(r):"";if(e)switch(e){case rs:return et;case es:return qn;case us:return"[object Promise]";case is:return Jn;case os:return nt}return t});var As=sl?Qf:$a,ks=Ki(vs),Os=Cl||function(n,t){return Or.setTimeout(n,t)},Is=Ki(gs),Rs=function(n){var t=Rf(n,function(n){return r.size===en&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(""),n.replace(kt,function(n,r,e,u){t.push(e?u.replace(Ut,"$1"):r||n)}),t}),zs=nu(function(n,t){return qf(n)?ie(n,le(t,1,qf,!0)):[]}),Es=nu(function(n,t){var r=go(t);return qf(r)&&(r=Q),qf(n)?ie(n,le(t,1,qf,!0),yi(r,2)):[]}),Ss=nu(function(n,t){var r=go(t);return qf(r)&&(r=Q),qf(n)?ie(n,le(t,1,qf,!0),Q,r):[]}),Ls=nu(function(n){var t=c(n,bu);return t.length&&t[0]===n[0]?me(t):[]}),Ws=nu(function(n){var t=go(n),r=c(n,bu);return t===go(r)?t=Q:r.pop(),r.length&&r[0]===n[0]?me(r,yi(t,2)):[]}),Cs=nu(function(n){var t=go(n),r=c(n,bu);return t="function"==typeof t?t:Q,t&&r.pop(),r.length&&r[0]===n[0]?me(r,Q,t):[]}),Us=nu(wo),Bs=hi(function(n,t){var r=null==n?0:n.length,e=Xr(n,t);return Je(n,c(t,function(n){return Ei(n,r)?+n:n}).sort(zu)),e}),Ts=nu(function(n){return hu(le(n,1,qf,!0))}),$s=nu(function(n){var t=go(n);return qf(t)&&(t=Q),hu(le(n,1,qf,!0),yi(t,2))}),Ds=nu(function(n){var t=go(n);return t="function"==typeof t?t:Q,hu(le(n,1,qf,!0),Q,t)}),Ms=nu(function(n,t){return qf(n)?ie(n,t):[]}),Fs=nu(function(n){return yu(i(n,qf))}),Ns=nu(function(n){var t=go(n);return qf(t)&&(t=Q),yu(i(n,qf),yi(t,2))}),Ps=nu(function(n){var t=go(n);return t="function"==typeof t?t:Q,yu(i(n,qf),Q,t)}),qs=nu(No),Zs=nu(function(n){var t=n.length,r=t>1?n[t-1]:Q;return r="function"==typeof r?(n.pop(),r):Q,Po(n,r)}),Ks=hi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Xr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Ct&&Ei(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:Go,args:[u],thisArg:Q}),new J(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(Q),n})):this.thru(u)}),Vs=Tu(function(n,t,r){pl.call(n,r)?++n[r]:Qr(n,r,1)}),Gs=Ku(oo),Hs=Ku(fo),Js=Tu(function(n,t,r){pl.call(n,r)?n[r].push(t):Qr(n,r,[t])}),Ys=nu(function(t,r,e){var u=-1,i="function"==typeof r,o=Pf(t)?Xa(t.length):[];return ss(t,function(t){o[++u]=i?n(r,t,e):je(t,r,e)}),o}),Qs=Tu(function(n,t,r){Qr(n,r,t)}),Xs=Tu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),nh=nu(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Si(n,t[0],t[1])?t=[]:r>2&&Si(t[0],t[1],t[2])&&(t=[t[0]]),Ze(n,le(t,1),[])}),th=Wl||function(){return Or.Date.now()},rh=nu(function(n,t,r){var e=sn;if(r.length){var u=F(r,gi(rh));e|=gn}return ii(n,e,t,r,u)}),eh=nu(function(n,t,r){var e=sn|hn;if(r.length){var u=F(r,gi(eh));e|=gn}return ii(t,e,n,r,u)}),uh=nu(function(n,t){return ue(n,1,t)}),ih=nu(function(n,t,r){return ue(n,mc(t)||0,r)});Rf.Cache=fr;var oh=ys(function(t,r){r=1==r.length&&ph(r[0])?c(r[0],R(yi())):c(le(r,1),R(yi()));var e=r.length;return nu(function(u){for(var i=-1,o=Pl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),fh=nu(function(n,t){var r=F(t,gi(fh));return ii(n,gn,Q,t,r)}),ch=nu(function(n,t){var r=F(t,gi(ch));return ii(n,yn,Q,t,r)}),ah=hi(function(n,t){return ii(n,bn,Q,Q,Q,t)}),lh=ti(ye),sh=ti(function(n,t){return n>=t}),hh=Ae(function(){return arguments}())?Ae:function(n){return rc(n)&&pl.call(n,"callee")&&!Ol.call(n,"callee")},ph=Xa.isArray,_h=Lr?R(Lr):ke,vh=$l||$a,gh=Wr?R(Wr):Oe,yh=Cr?R(Cr):ze,dh=Ur?R(Ur):Le,bh=Br?R(Br):We,wh=Tr?R(Tr):Ce,mh=ti($e),xh=ti(function(n,t){return n<=t}),jh=$u(function(n,t){if(Bi(t)||Pf(t))return void Cu(t,Tc(t),n);for(var r in t)pl.call(t,r)&&Vr(n,r,t[r])}),Ah=$u(function(n,t){Cu(t,$c(t),n)}),kh=$u(function(n,t,r,e){Cu(t,$c(t),n,e)}),Oh=$u(function(n,t,r,e){Cu(t,Tc(t),n,e)}),Ih=hi(Xr),Rh=nu(function(n,t){n=ul(n);var r=-1,e=t.length,u=e>2?t[2]:Q;for(u&&Si(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=$c(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===Q||Nf(l,ll[a])&&!pl.call(n,a))&&(n[a]=i[a])}return n}),zh=nu(function(t){return t.push(Q,fi),n(Ch,Q,t)}),Eh=Hu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),n[t]=r},ka(Ia)),Sh=Hu(function(n,t,r){null!=t&&"function"!=typeof t.toString&&(t=gl.call(t)),pl.call(n,t)?n[t].push(r):n[t]=[r]},yi),Lh=nu(je),Wh=$u(function(n,t,r){Ne(n,t,r)}),Ch=$u(function(n,t,r,e){Ne(n,t,r,e)}),Uh=hi(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=mu(t,n),e||(e=t.length>1),t}),Cu(n,_i(n),r),e&&(r=te(r,on|fn|cn,ci));for(var u=t.length;u--;)pu(r,t[u]);return r}),Bh=hi(function(n,t){return null==n?{}:Ke(n,t)}),Th=ui(Tc),$h=ui($c),Dh=Pu(function(n,t,r){return t=t.toLowerCase(),n+(r?ta(t):t)}),Mh=Pu(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Fh=Pu(function(n,t,r){return n+(r?" ":"")+t.toLowerCase()}),Nh=Nu("toLowerCase"),Ph=Pu(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),qh=Pu(function(n,t,r){return n+(r?" ":"")+Kh(t)}),Zh=Pu(function(n,t,r){return n+(r?" ":"")+t.toUpperCase()}),Kh=Nu("toUpperCase"),Vh=nu(function(t,r){try{return n(t,Q,r)}catch(n){return Jf(n)?n:new tl(n)}}),Gh=hi(function(n,t){return r(t,function(t){t=Gi(t),Qr(n,t,rh(n[t],n))}),n}),Hh=Vu(),Jh=Vu(!0),Yh=nu(function(n,t){return function(r){return je(r,n,t)}}),Qh=nu(function(n,t){return function(r){return je(n,r,t)}}),Xh=Yu(c),np=Yu(u),tp=Yu(h),rp=ni(),ep=ni(!0),up=Ju(function(n,t){return n+t
},0),ip=ei("ceil"),op=Ju(function(n,t){return n/t},1),fp=ei("floor"),cp=Ju(function(n,t){return n*t},1),ap=ei("round"),lp=Ju(function(n,t){return n-t},0);return Z.after=mf,Z.ary=xf,Z.assign=jh,Z.assignIn=Ah,Z.assignInWith=kh,Z.assignWith=Oh,Z.at=Ih,Z.before=jf,Z.bind=rh,Z.bindAll=Gh,Z.bindKey=eh,Z.castArray=Bf,Z.chain=Ko,Z.chunk=Qi,Z.compact=Xi,Z.concat=no,Z.cond=ja,Z.conforms=Aa,Z.constant=ka,Z.countBy=Vs,Z.create=kc,Z.curry=Af,Z.curryRight=kf,Z.debounce=Of,Z.defaults=Rh,Z.defaultsDeep=zh,Z.defer=uh,Z.delay=ih,Z.difference=zs,Z.differenceBy=Es,Z.differenceWith=Ss,Z.drop=to,Z.dropRight=ro,Z.dropRightWhile=eo,Z.dropWhile=uo,Z.fill=io,Z.filter=ef,Z.flatMap=uf,Z.flatMapDeep=of,Z.flatMapDepth=ff,Z.flatten=co,Z.flattenDeep=ao,Z.flattenDepth=lo,Z.flip=If,Z.flow=Hh,Z.flowRight=Jh,Z.fromPairs=so,Z.functions=Lc,Z.functionsIn=Wc,Z.groupBy=Js,Z.initial=_o,Z.intersection=Ls,Z.intersectionBy=Ws,Z.intersectionWith=Cs,Z.invert=Eh,Z.invertBy=Sh,Z.invokeMap=Ys,Z.iteratee=Ra,Z.keyBy=Qs,Z.keys=Tc,Z.keysIn=$c,Z.map=sf,Z.mapKeys=Dc,Z.mapValues=Mc,Z.matches=za,Z.matchesProperty=Ea,Z.memoize=Rf,Z.merge=Wh,Z.mergeWith=Ch,Z.method=Yh,Z.methodOf=Qh,Z.mixin=Sa,Z.negate=zf,Z.nthArg=Ca,Z.omit=Uh,Z.omitBy=Fc,Z.once=Ef,Z.orderBy=hf,Z.over=Xh,Z.overArgs=oh,Z.overEvery=np,Z.overSome=tp,Z.partial=fh,Z.partialRight=ch,Z.partition=Xs,Z.pick=Bh,Z.pickBy=Nc,Z.property=Ua,Z.propertyOf=Ba,Z.pull=Us,Z.pullAll=wo,Z.pullAllBy=mo,Z.pullAllWith=xo,Z.pullAt=Bs,Z.range=rp,Z.rangeRight=ep,Z.rearg=ah,Z.reject=vf,Z.remove=jo,Z.rest=Sf,Z.reverse=Ao,Z.sampleSize=yf,Z.set=qc,Z.setWith=Zc,Z.shuffle=df,Z.slice=ko,Z.sortBy=nh,Z.sortedUniq=Lo,Z.sortedUniqBy=Wo,Z.split=ha,Z.spread=Lf,Z.tail=Co,Z.take=Uo,Z.takeRight=Bo,Z.takeRightWhile=To,Z.takeWhile=$o,Z.tap=Vo,Z.throttle=Wf,Z.thru=Go,Z.toArray=yc,Z.toPairs=Th,Z.toPairsIn=$h,Z.toPath=Pa,Z.toPlainObject=xc,Z.transform=Kc,Z.unary=Cf,Z.union=Ts,Z.unionBy=$s,Z.unionWith=Ds,Z.uniq=Do,Z.uniqBy=Mo,Z.uniqWith=Fo,Z.unset=Vc,Z.unzip=No,Z.unzipWith=Po,Z.update=Gc,Z.updateWith=Hc,Z.values=Jc,Z.valuesIn=Yc,Z.without=Ms,Z.words=xa,Z.wrap=Uf,Z.xor=Fs,Z.xorBy=Ns,Z.xorWith=Ps,Z.zip=qs,Z.zipObject=qo,Z.zipObjectDeep=Zo,Z.zipWith=Zs,Z.entries=Th,Z.entriesIn=$h,Z.extend=Ah,Z.extendWith=kh,Sa(Z,Z),Z.add=up,Z.attempt=Vh,Z.camelCase=Dh,Z.capitalize=ta,Z.ceil=ip,Z.clamp=Qc,Z.clone=Tf,Z.cloneDeep=Df,Z.cloneDeepWith=Mf,Z.cloneWith=$f,Z.conformsTo=Ff,Z.deburr=ra,Z.defaultTo=Oa,Z.divide=op,Z.endsWith=ea,Z.eq=Nf,Z.escape=ua,Z.escapeRegExp=ia,Z.every=rf,Z.find=Gs,Z.findIndex=oo,Z.findKey=Oc,Z.findLast=Hs,Z.findLastIndex=fo,Z.findLastKey=Ic,Z.floor=fp,Z.forEach=cf,Z.forEachRight=af,Z.forIn=Rc,Z.forInRight=zc,Z.forOwn=Ec,Z.forOwnRight=Sc,Z.get=Cc,Z.gt=lh,Z.gte=sh,Z.has=Uc,Z.hasIn=Bc,Z.head=ho,Z.identity=Ia,Z.includes=lf,Z.indexOf=po,Z.inRange=Xc,Z.invoke=Lh,Z.isArguments=hh,Z.isArray=ph,Z.isArrayBuffer=_h,Z.isArrayLike=Pf,Z.isArrayLikeObject=qf,Z.isBoolean=Zf,Z.isBuffer=vh,Z.isDate=gh,Z.isElement=Kf,Z.isEmpty=Vf,Z.isEqual=Gf,Z.isEqualWith=Hf,Z.isError=Jf,Z.isFinite=Yf,Z.isFunction=Qf,Z.isInteger=Xf,Z.isLength=nc,Z.isMap=yh,Z.isMatch=ec,Z.isMatchWith=uc,Z.isNaN=ic,Z.isNative=oc,Z.isNil=cc,Z.isNull=fc,Z.isNumber=ac,Z.isObject=tc,Z.isObjectLike=rc,Z.isPlainObject=lc,Z.isRegExp=dh,Z.isSafeInteger=sc,Z.isSet=bh,Z.isString=hc,Z.isSymbol=pc,Z.isTypedArray=wh,Z.isUndefined=_c,Z.isWeakMap=vc,Z.isWeakSet=gc,Z.join=vo,Z.kebabCase=Mh,Z.last=go,Z.lastIndexOf=yo,Z.lowerCase=Fh,Z.lowerFirst=Nh,Z.lt=mh,Z.lte=xh,Z.max=Za,Z.maxBy=Ka,Z.mean=Va,Z.meanBy=Ga,Z.min=Ha,Z.minBy=Ja,Z.stubArray=Ta,Z.stubFalse=$a,Z.stubObject=Da,Z.stubString=Ma,Z.stubTrue=Fa,Z.multiply=cp,Z.nth=bo,Z.noConflict=La,Z.noop=Wa,Z.now=th,Z.pad=oa,Z.padEnd=fa,Z.padStart=ca,Z.parseInt=aa,Z.random=na,Z.reduce=pf,Z.reduceRight=_f,Z.repeat=la,Z.replace=sa,Z.result=Pc,Z.round=ap,Z.runInContext=p,Z.sample=gf,Z.size=bf,Z.snakeCase=Ph,Z.some=wf,Z.sortedIndex=Oo,Z.sortedIndexBy=Io,Z.sortedIndexOf=Ro,Z.sortedLastIndex=zo,Z.sortedLastIndexBy=Eo,Z.sortedLastIndexOf=So,Z.startCase=qh,Z.startsWith=pa,Z.subtract=lp,Z.sum=Ya,Z.sumBy=Qa,Z.template=_a,Z.times=Na,Z.toFinite=dc,Z.toInteger=bc,Z.toLength=wc,Z.toLower=va,Z.toNumber=mc,Z.toSafeInteger=jc,Z.toString=Ac,Z.toUpper=ga,Z.trim=ya,Z.trimEnd=da,Z.trimStart=ba,Z.truncate=wa,Z.unescape=ma,Z.uniqueId=qa,Z.upperCase=Zh,Z.upperFirst=Kh,Z.each=cf,Z.eachRight=af,Z.first=ho,Sa(Z,function(){var n={};return se(Z,function(t,r){pl.call(Z.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Z.VERSION="4.17.10",r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){Z[n].placeholder=Z}),r(["drop","take"],function(n,t){Ct.prototype[n]=function(r){r=r===Q?1:Nl(bc(r),0);var e=this.__filtered__&&!t?new Ct(this):this.clone();return e.__filtered__?e.__takeCount__=Pl(r,e.__takeCount__):e.__views__.push({size:Pl(r,Sn),type:n+(e.__dir__<0?"Right":"")}),e},Ct.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),r(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r==kn||3==r;Ct.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:yi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r(["head","last"],function(n,t){var r="take"+(t?"Right":"");Ct.prototype[n]=function(){return this[r](1).value()[0]}}),r(["initial","tail"],function(n,t){var r="drop"+(t?"":"Right");Ct.prototype[n]=function(){return this.__filtered__?new Ct(this):this[r](1)}}),Ct.prototype.compact=function(){return this.filter(Ia)},Ct.prototype.find=function(n){return this.filter(n).head()},Ct.prototype.findLast=function(n){return this.reverse().find(n)},Ct.prototype.invokeMap=nu(function(n,t){return"function"==typeof n?new Ct(this):this.map(function(r){return je(r,n,t)})}),Ct.prototype.reject=function(n){return this.filter(zf(yi(n)))},Ct.prototype.slice=function(n,t){n=bc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Ct(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==Q&&(t=bc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Ct.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ct.prototype.toArray=function(){return this.take(Sn)},se(Ct.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Z[e?"take"+("last"==t?"Right":""):t],i=e||/^find/.test(t);u&&(Z.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Ct,c=o[0],l=f||ph(t),s=function(n){var t=u.apply(Z,a([n],o));return e&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Ct(this);var g=n.apply(t,o);return g.__actions__.push({func:Go,args:[s],thisArg:Q}),new J(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r(["pop","push","shift","sort","splice","unshift"],function(n){var t=cl[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:pop|shift)$/.test(n);Z.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(ph(u)?u:[],n)}return this[r](function(r){return t.apply(ph(r)?r:[],n)})}}),se(Ct.prototype,function(n,t){var r=Z[t];if(r){var e=r.name+"";(ts[e]||(ts[e]=[])).push({name:t,func:r})}}),ts[Gu(Q,hn).name]=[{name:"wrapper",func:Q}],Ct.prototype.clone=Kt,Ct.prototype.reverse=Vt,Ct.prototype.value=Gt,Z.prototype.at=Ks,Z.prototype.chain=Ho,Z.prototype.commit=Jo,Z.prototype.next=Yo,Z.prototype.plant=Xo,Z.prototype.reverse=nf,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=tf,Z.prototype.first=Z.prototype.head,zl&&(Z.prototype[zl]=Qo),Z}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Or._=Nr,define(function(){return Nr})):Rr?((Rr.exports=Nr)._=Nr,Ir._=Nr):Or._=Nr}).call(this);
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],50:[function(require,module,exports){
var m=function e(t,n){function r(e){j=e.document,A=e.location,R=e.cancelAnimationFrame||e.clearTimeout,S=e.requestAnimationFrame||e.setTimeout}function o(){var e,t=[].slice.call(arguments),n=!(null==t[1]||I.call(t[1])!==M||"tag"in t[1]||"subtree"in t[1]),r=n?t[1]:{},o="class"in r?"class":"className",a={tag:"div",attrs:{}},i=[];if(I.call(t[0])!=B)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=U.exec(t[0]);)if(""===e[1]&&e[2])a.tag=e[2];else if("#"===e[1])a.attrs.id=e[2];else if("."===e[1])i.push(e[2]);else if("["===e[3][0]){var l=q.exec(e[3]);a.attrs[l[1]]=l[3]||!l[2]||""}i.length>0&&(a.attrs[o]=i.join(" "));var s=n?t.slice(2):t.slice(1);1===s.length&&I.call(s[0])===L?a.children=s[0]:a.children=s;for(var c in r)if(c===o){var u=a.attrs[c];a.attrs[c]=(u&&r[c]?u+" ":u||"")+r[c]}else a.attrs[c]=r[c];return a}function a(e,t,r,c,d,f,h,p,g,m,v){try{null!=d&&null!=d.toString()||(d="")}catch(e){d=""}if("retain"===d.subtree)return f;var y=I.call(f),w=I.call(d);if(null==f||y!==w){if(null!=f)if(r&&r.nodes){var x=p-c,C=x+(w===L?d:f.nodes).length;s(r.nodes.slice(x,C),r.slice(x,C))}else f.nodes&&s(f.nodes,f);f=new d.constructor,f.tag&&(f={}),f.nodes=[]}if(w===L){for(var E=0,b=d.length;E<b;E++)I.call(d[E])===L&&(d=d.concat.apply([],d),E--,b=d.length);for(var N=[],k=f.length===d.length,T=0,O={},A=!1,E=0;E<f.length;E++)f[E]&&f[E].attrs&&null!=f[E].attrs.key&&(A=!0,O[f[E].attrs.key]={action:1,index:E});for(var S=0,E=0,b=d.length;E<b;E++)if(d[E]&&d[E].attrs&&null!=d[E].attrs.key){for(var R=0,b=d.length;R<b;R++)d[R]&&d[R].attrs&&null==d[R].attrs.key&&(d[R].attrs.key="__mithril__"+S++);break}if(A){var U=!1;if(d.length!=f.length)U=!0;else for(var q,H,E=0;q=f[E],H=d[E];E++)if(q.attrs&&H.attrs&&q.attrs.key!=H.attrs.key){U=!0;break}if(U){for(var E=0,b=d.length;E<b;E++)if(d[E]&&d[E].attrs&&null!=d[E].attrs.key){var J=d[E].attrs.key;O[J]?O[J]={action:3,index:E,from:O[J].index,element:f.nodes[O[J].index]||j.createElement("div")}:O[J]={action:2,index:E}}var K=[];for(var _ in O)K.push(O[_]);var $=K.sort(i),F=new Array(f.length);F.nodes=f.nodes.slice();for(var G,E=0;G=$[E];E++){if(1===G.action&&(s(f[G.index].nodes,f[G.index]),F.splice(G.index,1)),2===G.action){var P=j.createElement("div");P.key=d[G.index].attrs.key,e.insertBefore(P,e.childNodes[G.index]||null),F.splice(G.index,0,{attrs:{key:d[G.index].attrs.key},nodes:[P]}),F.nodes[G.index]=P}3===G.action&&(e.childNodes[G.index]!==G.element&&null!==G.element&&e.insertBefore(G.element,e.childNodes[G.index]||null),F[G.index]=f[G.from],F.nodes[G.index]=G.element)}f=F}}for(var E=0,V=0,b=d.length;E<b;E++){var Q=a(e,t,f,p,d[E],f[V],h,p+T||T,g,m,v);Q!==n&&(Q.nodes.intact||(k=!1),Q.$trusted?T+=(Q.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:T+=I.call(Q)===L?Q.length:1,f[V++]=Q)}if(!k){for(var E=0,b=d.length;E<b;E++)null!=f[E]&&N.push.apply(N,f[E].nodes);for(var Y,E=0;Y=f.nodes[E];E++)null!=Y.parentNode&&N.indexOf(Y)<0&&s([Y],[f[E]]);d.length<f.length&&(f.length=d.length),f.nodes=N}}else if(null!=d&&w===M){d.attrs||(d.attrs={}),f.attrs||(f.attrs={});var W=Object.keys(d.attrs),X=W.length>("key"in d.attrs?1:0);if((d.tag!=f.tag||W.join()!=Object.keys(f.attrs).join()||d.attrs.id!=f.attrs.id||"all"==o.redraw.strategy()&&f.configContext&&!0!==f.configContext.retain||"diff"==o.redraw.strategy()&&f.configContext&&!1===f.configContext.retain)&&(f.nodes.length&&s(f.nodes),f.configContext&&typeof f.configContext.onunload===D&&f.configContext.onunload()),I.call(d.tag)!=B)return;var Y,Z=0===f.nodes.length;if(d.attrs.xmlns?m=d.attrs.xmlns:"svg"===d.tag?m="http://www.w3.org/2000/svg":"math"===d.tag&&(m="http://www.w3.org/1998/Math/MathML"),Z?(Y=d.attrs.is?m===n?j.createElement(d.tag,d.attrs.is):j.createElementNS(m,d.tag,d.attrs.is):m===n?j.createElement(d.tag):j.createElementNS(m,d.tag),f={tag:d.tag,attrs:X?l(Y,d.tag,d.attrs,{},m):d.attrs,children:null!=d.children&&d.children.length>0?a(Y,d.tag,n,n,d.children,f.children,!0,0,d.attrs.contenteditable?Y:g,m,v):d.children,nodes:[Y]},f.children&&!f.children.nodes&&(f.children.nodes=[]),"select"===d.tag&&d.attrs.value&&l(Y,d.tag,{value:d.attrs.value},{},m),e.insertBefore(Y,e.childNodes[p]||null)):(Y=f.nodes[0],X&&l(Y,d.tag,d.attrs,f.attrs,m),f.children=a(Y,d.tag,n,n,d.children,f.children,!1,0,d.attrs.contenteditable?Y:g,m,v),f.nodes.intact=!0,!0===h&&null!=Y&&e.insertBefore(Y,e.childNodes[p]||null)),typeof d.attrs.config===D){var ee=f.configContext=f.configContext||{retain:"diff"==o.redraw.strategy()||n};v.push(function(e,t){return function(){return e.attrs.config.apply(e,t)}}(d,[Y,!Z,ee,f]))}}else if(typeof d!=D){var N;0===f.nodes.length?(d.$trusted?N=u(e,p,d):(N=[j.createTextNode(d)],e.nodeName.match(z)||e.insertBefore(N[0],e.childNodes[p]||null)),f="string number boolean".indexOf(typeof d)>-1?new d.constructor(d):d,f.nodes=N):f.valueOf()!==d.valueOf()||!0===h?(N=f.nodes,g&&g===j.activeElement||(d.$trusted?(s(N,f),N=u(e,p,d)):"textarea"===t?e.value=d:g?g.innerHTML=d:((1===N[0].nodeType||N.length>1)&&(s(f.nodes,f),N=[j.createTextNode(d)]),e.insertBefore(N[0],e.childNodes[p]||null),N[0].nodeValue=d)),f=new d.constructor(d),f.nodes=N):f.nodes.intact=!0}return f}function i(e,t){return e.action-t.action||e.index-t.index}function l(e,t,n,r,o){for(var a in n){var i=n[a],l=r[a];if(a in r&&l===i)"value"===a&&"input"===t&&e.value!=i&&(e.value=i);else{r[a]=i;try{if("config"===a||"key"==a)continue;if(typeof i===D&&0===a.indexOf("on"))e[a]=d(i,e);else if("style"===a&&null!=i&&I.call(i)===M){for(var s in i)null!=l&&l[s]===i[s]||(e.style[s]=i[s]);for(var s in l)s in i||(e.style[s]="")}else null!=o?"href"===a?e.setAttributeNS("http://www.w3.org/1999/xlink","href",i):"className"===a?e.setAttribute("class",i):e.setAttribute(a,i):a in e&&"list"!==a&&"style"!==a&&"form"!==a&&"type"!==a&&"width"!==a&&"height"!==a?"input"===t&&e[a]===i||(e[a]=i):e.setAttribute(a,i)}catch(e){if(e.message.indexOf("Invalid argument")<0)throw e}}}return r}function s(e,t){for(var n=e.length-1;n>-1;n--)if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(e){}t=[].concat(t),t[n]&&c(t[n])}0!=e.length&&(e.length=0)}function c(e){if(e.configContext&&typeof e.configContext.onunload===D&&(e.configContext.onunload(),e.configContext.onunload=null),e.children)if(I.call(e.children)===L)for(var t,n=0;t=e.children[n];n++)c(t);else e.children.tag&&c(e.children)}function u(e,t,n){var r=e.childNodes[t];if(r){var o=1!=r.nodeType,a=j.createElement("span");o?(e.insertBefore(a,r||null),a.insertAdjacentHTML("beforebegin",n),e.removeChild(a)):r.insertAdjacentHTML("beforebegin",n)}else e.insertAdjacentHTML("beforeend",n);for(var i=[];e.childNodes[t]!==r;)i.push(e.childNodes[t]),t++;return i}function d(e,t){return function(n){n=n||event,o.redraw.strategy("diff"),o.startComputation();try{return e.call(t,n)}finally{Z()}}}function f(e){var t=K.indexOf(e);return t<0?K.push(e)-1:t}function h(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function p(){for(var e,t=0;e=F[t];t++)P[t]&&o.render(e,G[t].view?G[t].view(P[t]):W());Y&&(Y(),Y=null),V=null,Q=new Date,o.redraw.strategy("diff")}function g(e){return e.slice(ne[o.route.mode].length)}function m(e,t,n){ee={};var r=n.indexOf("?");-1!==r&&(ee=x(n.substr(r+1,n.length)),n=n.substr(0,r));var a=Object.keys(t),i=a.indexOf(n);if(-1!==i)return o.module(e,t[a[i]]),!0;for(var l in t){if(l===n)return o.module(e,t[l]),!0;var s=new RegExp("^"+l.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(s.test(n))return n.replace(s,function(){for(var n=l.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),a=0,i=n.length;a<i;a++)ee[n[a].replace(/:|\./g,"")]=decodeURIComponent(r[a]);o.module(e,t[l])}),!0}}function v(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=e.currentTarget||e.srcElement,n="pathname"===o.route.mode&&t.search?x(t.search.slice(1)):{};t&&"A"!=t.nodeName.toUpperCase();)t=t.parentNode;o.route(t[o.route.mode].slice(ne[o.route.mode].length),n)}}function y(){"hash"!=o.route.mode&&A.hash?A.hash=A.hash:t.scrollTo(0,0)}function w(e,t){var r={},o=[];for(var a in e){var i=t?t+"["+a+"]":a,l=e[a],s=I.call(l),c=null===l?encodeURIComponent(i):s===M?w(l,i):s===L?l.reduce(function(e,t){return r[i]||(r[i]={}),r[i][t]?e:(r[i][t]=!0,e.concat(encodeURIComponent(i)+"="+encodeURIComponent(t)))},[]).join("&"):encodeURIComponent(i)+"="+encodeURIComponent(l);l!==n&&o.push(c)}return o.join("&")}function x(e){for(var t=e.split("&"),n={},r=0,o=t.length;r<o;r++){var a=t[r].split("="),i=decodeURIComponent(a[0]),l=2==a.length?decodeURIComponent(a[1]):null;null!=n[i]?(I.call(n[i])!==L&&(n[i]=[n[i]]),n[i].push(l)):n[i]=l}return n}function C(e){var t=f(e);s(e.childNodes,_[t]),_[t]=n}function E(e,t){var n=o.prop(t);return e.then(n),n.then=function(n,r){return E(e.then(n,r),t)},n}function b(e,t){function n(e){d=e||c,h.map(function(e){d===s&&e.resolve(f)||e.reject(f)})}function r(e,t,n,r){if((null!=f&&I.call(f)===M||typeof f===D)&&typeof e===D)try{var a=0;e.call(f,function(e){a++||(f=e,t())},function(e){a++||(f=e,n())})}catch(e){o.deferred.onerror(e),f=e,n()}else r()}function a(){var c;try{c=f&&f.then}catch(e){return o.deferred.onerror(e),f=e,d=l,a()}r(c,function(){d=i,a()},function(){d=l,a()},function(){try{d===i&&typeof e===D?f=e(f):d===l&&"function"==typeof t&&(f=t(f),d=i)}catch(e){return o.deferred.onerror(e),f=e,n()}f===u?(f=TypeError(),n()):r(c,function(){n(s)},n,function(){n(d===i&&s)})})}var i=1,l=2,s=3,c=4,u=this,d=0,f=0,h=[];u.promise={},u.resolve=function(e){return d||(f=e,d=i,a()),this},u.reject=function(e){return d||(f=e,d=l,a()),this},u.promise.then=function(e,t){var n=new b(e,t);return d===s?n.resolve(f):d===c?n.reject(f):h.push(n),n.promise}}function N(e){return e}function k(e){if(!e.dataType||"jsonp"!==e.dataType.toLowerCase()){var r=new t.XMLHttpRequest;if(r.open(e.method,e.url,!0,e.user,e.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?e.onload({type:"load",target:r}):e.onerror({type:"error",target:r}))},e.serialize===JSON.stringify&&e.data&&"GET"!==e.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),typeof e.config===D){var o=e.config(r,e);null!=o&&(r=o)}var a="GET"!==e.method&&e.data?e.data:"";if(a&&I.call(a)!=B&&a.constructor!=t.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return r.send(a),r}var i="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),l=j.createElement("script");t[i]=function(r){l.parentNode.removeChild(l),e.onload({type:"load",target:{responseText:r}}),t[i]=n},l.onerror=function(r){return l.parentNode.removeChild(l),e.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),t[i]=n,!1},l.onload=function(e){return!1},l.src=e.url+(e.url.indexOf("?")>0?"&":"?")+(e.callbackKey?e.callbackKey:"callback")+"="+i+"&"+w(e.data||{}),j.body.appendChild(l)}function T(e,t,n){if("GET"===e.method&&"jsonp"!=e.dataType){var r=e.url.indexOf("?")<0?"?":"&",o=w(t);e.url=e.url+(o?r+o:"")}else e.data=n(t);return e}function O(e,t){var n=e.match(/:[a-z]\w+/gi);if(n&&t)for(var r=0;r<n.length;r++){var o=n[r].slice(1);e=e.replace(n[r],t[o]),delete t[o]}return e}var j,A,S,R,M="[object Object]",L="[object Array]",B="[object String]",D="function",I={}.toString,U=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,q=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,z=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;r(t);var H,J={appendChild:function(e){H===n&&(H=j.createElement("html")),j.documentElement&&j.documentElement!==e?j.replaceChild(e,j.documentElement):j.appendChild(e),this.childNodes=j.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},K=[],_={};o.render=function(e,t,r){var o=[];if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var i=f(e),l=e===j,c=l||e===j.documentElement?J:e;l&&"html"!=t.tag&&(t={tag:"html",attrs:{},children:t}),_[i]===n&&s(c.childNodes),!0===r&&C(e),_[i]=a(c,null,n,n,t,_[i],!1,0,null,n,o);for(var u=0,d=o.length;u<d;u++)o[u]()},o.trust=function(e){return e=new String(e),e.$trusted=!0,e},o.prop=function(e){return(null!=e&&I.call(e)===M||typeof e===D)&&typeof e.then===D?E(e):h(e)};var $,F=[],G=[],P=[],V=null,Q=0,Y=null;o.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=F.indexOf(e);n<0&&(n=F.length);var r=!1;if(P[n]&&typeof P[n].onunload===D){var a={preventDefault:function(){r=!0}};P[n].onunload(a)}if(!r){o.redraw.strategy("all"),o.startComputation(),F[n]=e;var i=$=t=t||{},l=new(t.controller||function(){});return i===$&&(P[n]=l,G[n]=t),Z(),P[n]}},o.redraw=function(e){V&&!0!==e?(new Date-Q>16||S===t.requestAnimationFrame)&&(V>0&&R(V),V=S(p,16)):(p(),V=S(function(){V=null},16))},o.redraw.strategy=o.prop();var W=function(){return""},X=0;o.startComputation=function(){X++},o.endComputation=function(){0===(X=Math.max(X-1,0))&&o.redraw()};var Z=function(){"none"==o.redraw.strategy()?(X--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(e,t){return function(n){n=n||event;var r=n.currentTarget||this;t(e in r?r[e]:r.getAttribute(e))}};var ee,te,ne={pathname:"",hash:"#",search:"?"},re=function(){};return o.route=function(){if(0===arguments.length)return te;if(3===arguments.length&&I.call(arguments[1])===B){var e=arguments[0],n=arguments[1],r=arguments[2];re=function(t){var a=te=g(t);m(e,r,a)||o.route(n,!0)};var a="hash"===o.route.mode?"onhashchange":"onpopstate";t[a]=function(){var e=A[o.route.mode];"pathname"===o.route.mode&&(e+=A.search),te!=g(e)&&re(e)},Y=y,t[a]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var i=arguments[0];arguments[1],arguments[2];i.href=("pathname"!==o.route.mode?A.pathname:"")+ne[o.route.mode]+this.attrs.href,i.addEventListener?(i.removeEventListener("click",v),i.addEventListener("click",v)):(i.detachEvent("onclick",v),i.attachEvent("onclick",v))}else if(I.call(arguments[0])===B){var l=te;te=arguments[0];var s=arguments[1]||{},c=te.indexOf("?"),u=c>-1?x(te.slice(c+1)):{};for(var d in s)u[d]=s[d];var f=w(u),h=c>-1?te.slice(0,c):te;f&&(te=h+(-1===h.indexOf("?")?"?":"&")+f);var p=!0===(3===arguments.length?arguments[2]:arguments[1])||l===arguments[0];t.history.pushState?(Y=function(){t.history[p?"replaceState":"pushState"](null,j.title,ne[o.route.mode]+te),y()},re(ne[o.route.mode]+te)):(A[o.route.mode]=te,re(ne[o.route.mode]+te))}},o.route.param=function(e){if(!ee)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return ee[e]},o.route.mode="search",o.route.buildQueryString=w,o.route.parseQueryString=x,o.deferred=function(){var e=new b;return e.promise=E(e.promise),e},o.deferred.onerror=function(e){if("[object Error]"===I.call(e)&&!e.constructor.toString().match(/ Error/))throw e},o.sync=function(e){function t(e,t){return function(o){return i[e]=o,t||(n="reject"),0==--a&&(r.promise(i),r[n](i)),o}}var n="resolve",r=o.deferred(),a=e.length,i=new Array(a);if(e.length>0)for(var l=0;l<e.length;l++)e[l].then(t(l,!0),t(l,!1));else r.resolve([]);return r.promise},o.request=function(e){!0!==e.background&&o.startComputation();var t=new b,n=e.dataType&&"jsonp"===e.dataType.toLowerCase(),r=e.serialize=n?N:e.serialize||JSON.stringify,a=e.deserialize=n?N:e.deserialize||JSON.parse,i=e.extract||function(e){return 0===e.responseText.length&&a===JSON.parse?null:e.responseText};return e.url=O(e.url,e.data),e=T(e,e.data,r),e.onload=e.onerror=function(n){try{n=n||event;var r=("load"===n.type?e.unwrapSuccess:e.unwrapError)||N,l=r(a(i(n.target,e)),n.target);if("load"===n.type)if(I.call(l)===L&&e.type)for(var s=0;s<l.length;s++)l[s]=new e.type(l[s]);else e.type&&(l=new e.type(l));t["load"===n.type?"resolve":"reject"](l)}catch(n){o.deferred.onerror(n),t.reject(n)}!0!==e.background&&o.endComputation()},k(e),t.promise=E(t.promise,e.initialValue),t.promise},o.deps=function(e){return r(t=e||t),t},o.deps.factory=e,o}("undefined"!=typeof window?window:{});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m});
},{}],51:[function(require,module,exports){
module.exports={"ACTIONS":{"ACTIONS":"Actions","CANCEL":"Cancel","HELP":"Help","SAVE":"Save"},"ADMIN":{"ERR":{"LANGUAGE_DEFAULT":"A default language must be selected","PASSWORD_MAX":"Maximum password size is mandatory","PASSWORD_MIN":"Minimum password size is mandatory","PASSWORD_SIZE":"Min size can't be higher than max size. Please check your numbers.","ROOTURL":"Must be a valid URL","SMTP_EMAILFROM":"Must be a valid email","TITLE":"Title is mandatory"},"ETHERPAD_ACCOUNT":"Etherpad account","FIELD":{"ALLOW_ETHERPADS":"Anonymous pads","APPLY":"Apply","CHECKMAILS":"Check user mails","HIDE_HELP_BLOCKS":"Hide help blocks","HTMLEXTRA_HEAD":"Extra HTML for <head>","INSENSITIVE_MAIL_MATCH":"Make the user search by mail non case-sensitive","LANGUAGE_DEFAULT":"Default language","OPEN_REGISTRATION":"Open registration","PASSWORD_MAX":"Maximum size","PASSWORD_MIN":"Minimum size","ROOTURL":"Root Web URL","SEARCH":"Search","SHOW_ALL_USERS":"Show all users","SMTP_EMAILFROM":"Email to send from","SMTP_HOST":"SMTP Host","SMTP_PASS":"Password","SMTP_PORT":"SMTP Port","SMTP_SSL":"Encryption via SSL","SMTP_TLS":"Encryption via TLS","SMTP_USER":"User","TITLE":"Title","TOKEN_DURATION":"Token validity","USE_FIRST_AND_LAST_NAME_IN_PADS":"Use first and last name of users as nickname in pads"},"FORM_LOGIN":"Administration login","FORM_SETTINGS":"MyPads configuration","FORM_USERS_SEARCH":"Search user","FORM_USER_EDIT":"Profile user edition","HELP_LOGIN":"<p>MyPads administration is tied to Etherpad administration. Please enter an authorized login and password, as fixed into Etherpad <em>settings.json</em> to be able to update MyPads settings.</p>","HELP_SETTINGS":"<h3>Settings</h3><p>Only Etherpad admins have access this page. You can edit the global settings here and apply them. Changes will be effective directly.</p><h3>Passwords</h3><p>Be careful about password sizes : if you have existing accounts and raise minimum size or decrease maximum size, some user passwords may become unseizable.</p><h3>Mail configuration</h3><p>MyPads can verify the mails of subscribed users by sending them an email which will be used by them to confirm their address. Moreover, MyPads need email sending for password recovery.</p><p>Be cautious with SMTP configuration: bad parameters can lead to an Etherpad crash.</p><p>Please note that, unlike other parameters, SMTP settings are only applied after Etherpad reboot.</p>","HELP_USERS":"<p>This admin reserved page helps you to find users by entering their login. Once found, you will be able to edit or remove user.</p><p>For simplicity and performance reasons, we don't offer here a full listing of subscribed users.</p>","HELP_USER_EDIT":"<p>Here you can update all data associated to an existing user.</p><p>Please note that by default, leaving password empty means keeping the current password. If you want to change it, you have to fill password field and its confirmation.</p>","INFO":{"ALLOW_ETHERPADS":"Allow classic anonymous pads from on the Etherpad instance, created from the root URL of the server","CHECKMAILS":"Check user mail given at subscription","HIDE_HELP_BLOCKS":"Help blocks shows in multiple MyPads pages, you can hide them with this setting","HTMLEXTRA_HEAD":"Custom HTML Code appended to tag <head>","INSENSITIVE_MAIL_MATCH":"When you share a folder to someone, using his/her email address, you have to know exactly the case (ie JaneDoe@example.org) or MyPads won't find the user. This option makes MyPads search for email address case insensitive.","LANGUAGE_DEFAULT":"Default language for guest MyPads users","LOGIN":"The etherpad settings.json fixed admin login","NOCHANGE":"Configuration have not changed, so no update has been sent","OPEN_REGISTRATION":"Allow anyone to create an account (no effect if the LDAP authentication is set)","PASSWORD_MAX":"Password maximum number of characters","PASSWORD_MIN":"Password minimum number of characters","ROOTURL":"The root Web address used to access to Etherpad","SMTP_EMAILFROM":"Email address to use to send emails from MyPads","SMTP_HOST":"Domain name where the SMTP Server belongs to","SMTP_PASS":"Optional: if authentication to the SMTP server is required, password","SMTP_PORT":"SMTP Port to use","SMTP_SSL":"Check it if you want to use an encrypted SSL connexion between MyPads and your SMTP Server","SMTP_TLS":"Check it if you want to use an encrypted TLS connexion between MyPads and your SMTP Server","SMTP_USER":"Optional: if authentication to the SMTP server is required, username","SUCCESS":"Configuration has been updated successfully","TITLE":"Global title displayed on your MyPads instance","TOKEN_DURATION":"The time, in minutes, generated tokens are valid until users confirm their subscription","USERS_SEARCH_LOGIN":"Please enter a login to search around database users","USER_FOUND":"User found, please see options inside the form","USER_NONE":"No user for this login","USER_REMOVE_SURE":"You are on the verge of removing definitively this account and all the folders and pads on which the user is the unique administrator. If you are really sure about what you are doing, please click on the OK button.","USE_FIRST_AND_LAST_NAME_IN_PADS":"Force the use of first and last name as nickname in pads"},"SETTINGS_GENERAL":"General settings","SETTINGS_MAIL":"Mail settings","SETTINGS_PASSWORD":"Password settings","USERS_COUNT":"Number of users:","USERS_SEARCH_LOGIN":"Search by login"},"BACKEND":{"ERROR":{"AUTHENTICATION":{"ACTIVATION_NEEDED":"Your account has not been confirmed","ADMIN":"Access denied : you must be an authenticated Etherpad instance admin.","DENIED":"Access denied","DENIED_RECORD":"You're not allowed to get this record","DENIED_RECORD_EDIT":"You're not allowed to edit this record","MUST_BE":"You must be authenticated","NOT_AUTH":"Not authenticated","NO_RECOVER":"Sorry, you can't recover you password from here","NO_REGISTRATION":"Sorry, registration is disabled","PASSWORD_INCORRECT":"Password is not correct","TOKEN_INCORRECT":"Your security token is invalid"},"CONFIGURATION":{"CANTGET":"Configuration loading has failed. Please contact your administrator.","KEY_NOT_FOUND":"The record has not been found","LANG_PROBLEM":"Language update cannot be done. The default language will be used.","MAIL_NOT_CONFIGURED":"Mail settings have not been done on this server. Please contact its administrator.","ROOTURL_NOT_CONFIGURED":"Root Url setting has not been entered on this server. Please contact its administrator."},"GROUP":{"CASCADE_REMOVAL_PROBLEM":"Something goes wrong with cascade pads removal","INEXISTENT":"Folder does not exist","ITEMS_NOT_FOUND":"Some users, admins or pads have not been found","NOT_USER":"You are not an user of this folder","RESIGN_UNIQUE_ADMIN":"You can't resign the unique administrator"},"PAD":{"INEXISTENT":"Pad does not exist","ITEMS_NOT_FOUND":"Pad folder or at least one of the users are not found"},"PERMISSION":{"UNAUTHORIZED":"You are not allowed to access to this record","UNEXPECTED":"Sorry, an unexpected has error has occurred"},"TOKEN":{"EXPIRED":"Token has expired. Please make a new request.","INCORRECT":"Used token contains incorrect data for this request."},"TYPE":{"CALLBACK_FN":"Callback must be a function","GID_STR":"gid must be a string","ID_STR":"_id, when defined, must be a string","INVITE_BOOL":"Invite must be a boolean","KEY_STR":"Key must be a string","LOGINS_ARR":"logins must be an array","LOGIN_REQUIRED":"Login is required","LOGIN_STR":"Login must be a string","MAIL":"Email is invalid","MSG_STR":"message must be a string","PARAMS_REQUIRED":"Parameters are mandatory","PARAM_STR":"Some parameter must be a string","PASSWORD_MISSING":"Missing password","PASSWORD_SIZE":"Password size is too short or too long","PASSWORD_STR":"Password must be a string","SMTP_CONFIG":"Your SMTP server configuration is invalid","STR_100":"String can't be more than 100 characters","SUBJECT_STR":"subject must be a string","TO_MAIL":"to must be an email address","TYPE_PADSORGROUPS":"Type must be either pads or folders","USERLIST_CRUD":"crud must be add, set or del","USERLIST_ID":"In set and del modes, ulistid is mandatory","USERLIST_NAME":"In add mode, name of the userlist is mandatory","USERLIST_SET_PARAMS":"In set mode, name or uids is madantory","USER_INVALID":"User is invalid","VALUE_REQUIRED":"Value is mandatory","WITHEXTRA_BOOL":"withExtra must be a boolean"},"USER":{"ALREADY_EXISTS":"User already exists, please choose another login","BOOKMARK_NOT_FOUND":"Bookmark not found","EMAIL_ALREADY_EXISTS":"This user email has already been used, please choose another one","NOT_FOUND":"User not found","USERLIST_NOT_FOUND":"Userlist not found"}}},"BOOKMARK":{"HELP":"<p>Bookmark page offers you the ability to see all your bookmarked elements from MyPads. You can remove them from bookmarks if you want to.</p>","TITLE":"My Bookmarks"},"GLOBAL":{"AND":"and","DESCRIPTION":"MyPads is an <a href='http://etherpad.org/'>Etherpad</a> plugin which have been founded in 2014 on Ulule by <a href='http://ulule.com/etherpad-framapad/supporters/'>413 backers</a> and organized by the non-profit organization <a href='http://framasoft.org'>Framasoft</a>. It handles :<ul><li>users and their authentication; </li><li>folders of pads per user, unlimited, sharable;</li><li>attached pads, with choice between invite known users to use them, making them private with password or letting them public.</li></ul>","FOOTER":"Powered by <a href='https://git.framasoft.org/framasoft/ep_mypads'>MyPads</a><br>Published under Apache License 2.0","LANG":"English","NO":"no","OR":"or","YES":"yes"},"GROUP":{"ADD":"Add a new folder","ADD_HELP":"<h3>Visibility</h3><p>You have the choice between three levels of visibility. It will impact all linked pads:<ul><li><em>restricted</em>, default choice: access of the pads are limited to a list of invited users you have chosen;</li><li><em>private</em>: in this mode, you have to enter a password and access to the pads will be checked against this password;</li><li><em>public</em>: in this mode, all pads are public, users just need to have the URL address.</li></ul></p><h3>Readonly</h3><p>If you check <em>readonly</em>, all attached pads will stay in their state, and can not be edited. Note that visibility still works in readonly mode.</p><h3>Tags</h3><p>You can attach tags to this element by clicking on the corresponding input field and selecting them one by one.</p><p>To create a new tag, fill it and type ENTER key or click on the 'Ok' button. Once the tag has been added, it will automatically been selected on this form.</p><p>You can remove a tag by clicking on the cross located on the right of it.</p>","ADMIN_SHARE":{"AS":"Administration sharing","FAILURE":"You can't share administration with users who have no account in this instance : ","SUCCESS":"Administration sharing has been successfully achieved for "},"ARCHIVED":"Archived folders","BOOKMARK":"Bookmark","BOOKMARKED":"Bookmarked folders","EDIT":"Edit","EDIT_GROUP":"Edit a folder","ERR":{"NAME":"The name of the folder is required"},"FIELD":{"ALLOW_USERS_TO_CREATE_PADS":"Allow simple users of the folder to create pads?","ARCHIVED":"Archived","DESCRIPTION":"Description","GROUP_PARAMS":"Folder parameters ?","NAME":"Name","PRIVATE":"Private","PUBLIC":"Public","READONLY":"Readonly","RESTRICTED":"Restricted","VISIBILITY":"Visibility"},"FILTERS":{"ADMIN":"Folders I am admin","HELP":"You can select one or several filters, click again on it to deactivate","TITLE":"Filters","USER":"Folders I have been invited"},"GROUP":"Folder","GROUPS":"Folders","HELP":"Folders can contain pads. Here are your folders : those you have created, those you have been explicitly invited","INFO":{"ADD_SUCCESS":"Folder has been successfully created","ALLOW_USERS_TO_CREATE_PADS":"This allows users of the folder that don't have administrator rights to create pads in the folder","ARCHIVED":"If checked, folder will appear in the archived folders list even if it's bookmarked","CHAT_HISTORY_REMOVE_SUCCESS":"The chat history of the pad has been successfully removed","CHAT_HISTORY_REMOVE_SURE":"Are you sure you want to remove the chat history of this pad?","DESCRIPTION":"An optional long text to describe your folder","EDIT_SUCCESS":"Folder has been successfully updated","GROUP_PARAMS":"By default, pad inherits from parameters of the folder they belong to. You can overwrite them if you want","NAME":"Name","PAD_ADD_SUCCESS":"Pad has been successfully created","PAD_EDIT_SUCCESS":"Pad has been successfully updated","PAD_MOVE":"Select the wanted folder for your migration","PAD_MOVE_NOGROUP":"Sorry but no other folder is available. You should create one before.","PAD_MOVE_SUCCESS":"All pads have been successfully moved","PAD_REMOVE_SUCCESS":"Pad has been successfully removed","PAD_REMOVE_SURE":"Are you sure you want to remove this pad ? WARNING: this action is irreversible, the pad will be deleted for EVERYONE that has access to it.","PASSWORD":"Required in private mode","READONLY":"If checked, linked pads will be in readonly mode and the folder will be in the archived folders list unless it's bookmarked","REMOVE_SUCCESS":"Folder has been successfully removed","REMOVE_SURE":"Are you sure you want to remove this folder ? WARNING: this action is irreversible, the folder and its pads will be deleted for EVERYONE that has access to it.","RESIGN":"Are you sure you want to resign from this folder ?","RESIGN_SUCCESS":"You have left the folder successfully","VISIBILITY":"Required, restricted by default to invited users or admins"},"INVITE_USER":{"FAILURE":"You can't invite users who have no account in this instance : ","HELP":"<h4>Userlists</h4><p>You can select one or more userlists. Each click will add all members of the selected userlist to invited users.</p><h4>Invite users</h4><p>This field accepts one email or login at a time. When ENTER is typed, or OK is clicked, the filled data is added to the list of invited users. A list of known users helps you to fill the input.</p><h4>Users</h4><p>This list contains all selected users. You can remove one by clicking the sign after each item.</p><h4>Note</h4><p>Please note that, for instance, registered users will be automatically added to your folder. In short term, external users will receive a mail for creating an account.</p>","INPUT_HELP":"You can invite as many users as you want","IU":"Invite and manage users","PLACEHOLDER":"Email or login","SUCCESS":"User invitation has been successfully achieved for ","USERS_SELECTED":"Selected users","USERS_SELECTION":"Users selection"},"INVITE_USERLIST":"Invite a list of users","MARK_SUCCESS":"Marking successfully","MYGROUPS":"My Folders","NONE":"No folder","PAD":{"ADD":"Create a new pad","ADD_PROMPT":"Enter the name of the new pad","ADMINS":"Admins","DESELECT_ALL":"Deselect all pads","EDIT":"Edit a pad","EDIT_PROMPT":"Enter the new name of the pad","EXPAND":"Expand","FROM_GROUP":"folder :","MOVE":"Move all pads to another folder","MOVE_HELP":"<p>Please select the wanted folder for your migration. Only folders on which you are admin are listed.</p><p>Once chosen, click on the submit button and wait for a moment.</p>","MOVE_TITLE":"Pads migration of the folder ","NONE":"No pad linked","OPEN_TAB":"Open in a new tab","PAD":"Pad","PADS":"Pads","PUBLIC_DENIED":"Public access: you are not allowed to see this data.","REDUCE":"Reduce","SELECT_ALL":"Select all pads","SELECT_AT_LEAST_ONE_PAD":"Please, select at least one pad","SORT_BY":"Sort pads by","SORT_BY_CREATION":"creation date","SORT_BY_NAME":"name","SORT_BY_UPDATE":"last update","TITLE":"Title","USERS":"Users","USERS_NONE":"No user","VIEW_HELP":"<p>Here is the main interface of the current pad.</p><p>If the folder or the pad is private, you need to enter the password to be able to access to it.</p><p>If you want to show the folder and if you have the permission to, you can click on the folder name.</p>","VISIBILITY":"Visibility"},"PROPERTIES":"Properties","QUIT_GROUP":"Unsubscribe from the folder","REMOVE":"Remove","REMOVE_CHAT_HISTORY":"Remove chat history","SEARCH":{"HELP":"Search on common fields with at least 2 characters","TITLE":"Search","TYPE":"Type here"},"SHARE":"Share","SHARE_ADMIN":"Share administration","SHARE_LINK":"Please share this URL to your guests","SHARE_PASSWORD":"Please enter the password to be able to share","SORT":{"HELP":"By default, folders are ordered by creation date, older first. You can choose to use another orders. Click again to reverse order.","TITLE":"Sort by"},"TAGS":{"HELP":"You can filter by one or more tags. Click again to deactivate if wanted","TITLE":"Tags"},"UNMARK":"Unmark","VIEW":"View","VIEW_HELP":"<p>The details of the folder show you :<ul><li>options defined when folder has been created or updated;</li><li>list of pads created for this folder;</li><li>and list of admins and users of the folder.</li></ul></p><p>From there, you can : <ul><li>create new pads, edit them, remove or mark them;</li><li>share administration of your folder with other users;</li><li>invite other users to view and edit pads of the folder.</li></ul></p>","VIEW_MANAGE":"View and manage folder and its pads"},"MENU":{"ADMIN":"Administration","BOOKMARK":"My Bookmarks","CONFIG":"Configuration","LOGOUT":"Logout","PAD":"My Folders & Pads","PROFILE":"My Profile","USERLIST":"My Userlists","USERS":"Users"},"NOTIFICATION":{"ERROR":"Error","ERROR_UNEXPECTED":"An unexpected error has been raised. Please contact the administrator.","INFO":"Info","SUCCESS":"Success","SUCCESS_GENERIC":"Action has been successfully achieved","WARNING":"Warning"},"TAG":{"HELP":"You can associate to this element as many tags as you wish","PLACEHOLDER":"Enter your tag","TAGS":"Tags"},"USER":{"AUTH":{"PROFILE_SUCCESS":"Profile successfully updated.","SUBSCRIBE_CONFIRM_SUCCESS":"Successful subscription. An email has been sent to you in order to confirm your email address before you can login.","SUBSCRIBE_SUCCESS":"Successful subscription ! Welcome.","SUCCESS":"Successful authentication ! Welcome.","SUCCESS_OUT":"You have been successfully disconnected.","WELCOME":"Welcome"},"COLOR":"Customized color for pads","COLOR_SAMPLE":"#00cc00","EMAIL":"Email","EMAIL_SAMPLE":"username@example.org","ERR":{"COLOR":"The hexadecimal code must be like #000000","EMAIL":"The email is required and should be valid","LOGIN":"Login is required","LOGOUT":"Log out error : you were not authenticated.","PASSWORD_MISMATCH":"The entered passwords do not match."},"FIRSTNAME":"Firstname","FORM":"Login","HELP":{"PROFILE":"<p>Every change into your profile needs the current password field to be correctly filled. Please note that :</p><ul><li>you can change everything by updating the appropriate field;</li><li>leaving password and password confirmation empty won't affect your current password;</li><li>you can't change your login at the moment but it will be possible in the future;</li><li>if you want to change your password, please enter the new one into the password field and confirm it with the password confirmation.</li></ul>"},"INFO":{"ACCOUNT_CONFIRMATION_SUCCESS":"Your account has been successfully confirmed. You can now login.","CHANGEPASS_SUCCESS":"Your password has been successfully updated.","COLOR":"The hexademical code for color you want to be used by default in pads","EMAIL":"The email is required for password recovery","LANG":"Your default browser configuration, depending on available languages on MyPads","LOGIN":"The unique login you choose when you have subscribed","OPTIONAL":"Optional field","PAD_NICKNAME":"If defined, replace your login in pads if you have checked \"Use login and color in pads?\"","PASSRECOVER_SUCCESS":"You should have received an email to the address you have used when you subscribe. This email contains a Web address that is temporary valid. Please follow this url to change your password.","PASSWORD_BEGIN":"Must be between ","PASSWORD_CHECK":"For verification : must be the same as password","PASSWORD_CURRENT":"Security check : required for all profile changes","PASSWORD_END":" characters","REMOVE_ACCOUNT":"Remove definitively your account and all the folders and pads on which you are the unique administrator","REMOVE_ACCOUNT_SUCCESS":"Account removed with success","REMOVE_ACCOUNT_SURE":"You are on the verge of removing definitively your account and all the folders and pads on which you are the unique administrator. If you are really sure about what you are doing, please enter your current password and click OK","USECOLORINPADS":"Use chosen color in pads by default?","USELOGINANDCOLORINPADS":"Use login and chosen color in pads by default?"},"LANG":"Language","LASTNAME":"Lastname","LOGIN":"Login","MANDATORY_FIELDS":"Mandatory fields","MYPADS_ACCOUNT":"MyPads account","OK":"Ok","OPTIONAL_FIELDS":"Optional fields","ORGANIZATION":"Organization","ORSUB":" (or subscribe)","PAD_NICKNAME":"Nickname used in pads","PASSCHECK":"Password Confirmation","PASSCURRENT":"Current password","PASSRECOVER":"Password recovery","PASSWORD":"Password","PASSWORD_LOST":"Lost your password?","PLEASE_WAIT":"Please wait, the service is currently loading.","PROFILE":"Profile","REGISTER":"Register","REMOVE_ACCOUNT":"Remove my account","SUBSCRIBE":"Subscribe","UNDEF":"********","USECOLORINPADS":"Use color in pads?","USELOGINANDCOLORINPADS":"Use login and color in pads?","USERNAME":"Username"},"USERLIST":{"ADD":"Create a new userlist","EDIT":"Edit userlist ","ERR":{"NAME":"The name of the userlist is required"},"FIELD":{"NAME":"Name","USERS":"Users","USERSAREA_HELP":"You can add as many emails or logins you want","USERSAREA_PLACEHOLDER":"One email or login per line","USERS_HELP":"Add as many users as you want"},"FORM_HELP":"<h3>Name</h3><p>You must give a name to the userlist, in order to be able to identify it.</p><h3>Users</h3><p>You can add as many users as you want. To do it, please enter the email or login and click on the 'OK' button. Note that already known users can be selected from the input.</p><p>To remove users, click on the cross located at the right of each user.</p>","HELP":"<p>Here you can find all your userlists, ordered by creation date. Summary information are available with the name of each userlist and the number of users linked.</p><p>Through action icons, located on top right of each userlist, you can edit or remove lists. Details are available in the form view, via edit action.</p>","INFO":{"ADD_SUCCESS":"Userlist has been successfully created","EDIT_SUCCESS":"Userlist has been successfully updated","NAME":"Name of the userlist","REMOVE_SUCCESS":"Userlist has been successfully removed","REMOVE_SURE":"Are you sure you want to remove this userlist?","USER_FAILURE":"You can't add users who have no account in this instance : ","USER_INVITE":"By selecting a userlist, you will invite all its users at the same time","USER_SUCCESS":"User adding has been successfull for "},"USERLIST":"Userlist"}}
},{}]},{},[1])


//# sourceMappingURL=mypads.map.json